<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] REG: OpenIMS and sipXPBX integration
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2007-August/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20REG%3A%20OpenIMS%20and%20sipXPBX%20integration&In-Reply-To=%3C1F161DEA41475E4794B9CAE01EA2FE57054C71C2%40ctsinhydsxua.cts.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="002284.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] REG: OpenIMS and sipXPBX integration</H1>
    <B>Rajeswari.Routhu at cognizant.com</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20REG%3A%20OpenIMS%20and%20sipXPBX%20integration&In-Reply-To=%3C1F161DEA41475E4794B9CAE01EA2FE57054C71C2%40ctsinhydsxua.cts.com%3E"
       TITLE="[OpenIMSCore-Users] REG: OpenIMS and sipXPBX integration">Rajeswari.Routhu at cognizant.com
       </A><BR>
    <I>Wed Aug  1 08:09:58 CEST 2007</I>
    <P><UL>
        
        <LI>Next message: <A HREF="002284.html">[OpenIMSCore-Users] openIMSCore not coming up ..........help nedded
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2283">[ date ]</a>
              <a href="thread.html#2283">[ thread ]</a>
              <a href="subject.html#2283">[ subject ]</a>
              <a href="author.html#2283">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi Dragos,

Thanks for the reply.Iam attaching the trace which I captured using
wireshark.The scenario iam trying is as below.







The ACK(16) as mentioned is not reaching the openIMS.

I am not knowing whether it is the problem of sipxpbx or openIMS.

Without openIMs in the above scenario works fine .As you said openIMs is
not AS , but iam not understanding why this is happening.

In the trace of wireshark iam not finding the ACK(14),but it was
reaching the sipxpbx ACK(15). The ACK which was supposed to be sent by
the sipxpbx ACK(16) is routed to &quot;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mt at scscf.open-ims.test</A>:6060 &quot; .I
just want  to confirm whether the routing in IMS is going fine.



Please help me in this regard.

Waiting for your reply.





Thanks &amp; Regards

Rajeswari.R

Programmer Analyst

Cognizant Technology Solutions

V-net:63149 | Ph.no.:40122721 | mobile:9247747498





-----Original Message-----
From: Dragos Vingarzan [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Dragos.Vingarzan at fokus.fraunhofer.de</A>]
Sent: Tuesday, July 31, 2007 7:10 PM
To: Routhu, Rajeswari (Cognizant)
Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Subject: Re: [OpenIMSCore-Users] REG: OpenIMS and sipXPBX integration



Hello Rajeswari,



Unfortunately I can't open and make sense out of your trace - wireshark

says that it does not understand the format...



I also fail to understand your drawing as the INVITE gets to some points

and then jumps out of others....



Anyway, I think that the ACK should follow the same route as the 200 OK

on the way back. Please check all the dialog routes if they are correct.



Would be great if you could capture the traffic with wireshark or

something that will allow us to easily follow the call flow.



-Dragos



<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Rajeswari.Routhu at cognizant.com</A> wrote:

&gt;<i> Hi Dragos,
</I>
&gt;<i>
</I>
&gt;<i> Thanks for the explanation.
</I>
&gt;<i> Iam posting the network scenario.
</I>
&gt;<i>
</I>
&gt;<i> Iam attaching the following details:
</I>
&gt;<i> 1.scenario iam trying
</I>
&gt;<i> 2.a.openIMS logs
</I>
&gt;<i>   b.trace in sipxpbx(there are clumsy)
</I>
&gt;<i>
</I>
&gt;<i>
</I>
&gt;<i> Please suggest where the routing is going wrong.
</I>
&gt;<i>
</I>
&gt;<i> Thanks &amp; Regards
</I>
&gt;<i> Rajeswari.R
</I>
&gt;<i> Programmer Analyst
</I>
&gt;<i> Cognizant Technology Solutions
</I>
&gt;<i> V-net:63149 | Ph.no.:40122721 | mobile:9247747498
</I>
&gt;<i>
</I>
&gt;<i>
</I>
&gt;<i> -----Original Message-----
</I>
&gt;<i> From: Dragos Vingarzan [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Dragos.Vingarzan at fokus.fraunhofer.de</A>]
</I>
&gt;<i> Sent: Thursday, July 26, 2007 3:22 PM
</I>
&gt;<i> To: Routhu, Rajeswari (Cognizant)
</I>
&gt;<i> Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>
&gt;<i> Subject: Re: [OpenIMSCore-Users] REG: OpenIMS and sipXPBX integration
</I>
&gt;<i>
</I>
&gt;<i> Hello Rajeswari,
</I>
&gt;<i>
</I>
&gt;<i> 1. I think that you want to use the sipxPBX as an application server.
</I>
&gt;<i> Then all you need is that sipxPBX follows the SIP RFC routing rules.
</I>
&gt;<i>
</I>
&gt;<i> 2. I think that you  might confuse things a little as the OpenIMSCore
</I>is

&gt;<i> not and Application Server.
</I>
&gt;<i>
</I>
&gt;<i> Then from your 2 ACKs I assume that they were for a 200 OK. Well, I
</I>find

&gt;<i> it quite interesting and I really don't see the point of the
</I>
&gt;<i> Record-Route in there. Then if I look at the Route headers, there is
</I>
&gt;<i> definitely something wrong with the Routing of the INVITE request as
</I>in

&gt;<i> normal signaling there is no way that you should obtain such a Route
</I>set

&gt;<i> (twice mobile terminating at the S-CSCF). Please post the whole
</I>network

&gt;<i> trace from the dialogs.
</I>
&gt;<i>
</I>
&gt;<i> -Dragos
</I>
&gt;<i>
</I>
&gt;<i>
</I>
&gt;<i>
</I>
&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Rajeswari.Routhu at cognizant.com</A> wrote:
</I>
&gt;<i>  
</I>
&gt;&gt;<i> Hi,
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> I want to connect openIMS and SipXpbx which is a Proxy.
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>    1. *What would be the compatibility issues.Do I need any IMS
</I>
&gt;&gt;<i>       gateway like sip2ims gateway to connect openIMS and sipxPBX?*
</I>
&gt;&gt;<i>    2. I tried connecting openIMS and sipxPBX without any gateway ,
</I>but

&gt;&gt;<i>       the sipxpbx was not able to forward ACK for invite to the IMS
</I>
&gt;&gt;<i>       user through openIMS , which worked with normal sip AS instead
</I>
&gt;&gt;<i>       of openIMS.
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> The difference between both the ACKS as seen in sipxPBX  ( with and
</I>
&gt;&gt;<i> without openIMS) is as follows :
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>    
</I>
&gt;<i>
</I>************************************************************************

&gt;<i>
</I>************************************************************************

&gt;<i> *************************
</I>
&gt;<i>  
</I>
&gt;&gt;<i> *The ACK without OpenIMS:*
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>    
</I>
&gt;<i>
</I>OUTGOING:INFO:telecom.ipservices.com:SipAaa-9:B78B7B90:SipAuthProxy:&quot;Sip

&gt;<i> UserAgent::sendUdp
</I>
&gt;<i>  
</I>
&gt;&gt;<i> UDP SIP User Agent sent message:
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> ----Remote Host:10.238.115.226---- Port: 12000----
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> ACK sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Joe at 10.238.115.226</A>:12000 SIP/2.0
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> Record-Route: &lt;sip:10.238.115.246:5080;lr;a;t;s&gt;
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> Max-Forwards: 20
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> Contact: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Mary at 10.238.115.201</A>:9999&gt;
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> To:
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>    
</I>
&gt;<i>
</I>\&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">12345 at telecom.ipservices.com</A>\&quot;&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">12345 at telecom.ipservices.com</A>&gt;;tag=f

&gt;<i> 9325463
</I>
&gt;<i>  
</I>
&gt;&gt;<i> From: \&quot;Mary\&quot;&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Mary at 10.238.115.216</A>&gt;;tag=db56f16d\r\nCall-Id:
</I>
&gt;&gt;<i> 9c31cc0ca4422e65NDVmYzUwMjUyNjY0M2Q3ZjI0ZGQwYWZiNzM0YmNkOTU.
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> Cseq: 1 ACK
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> User-Agent: X-Lite release 1002tx stamp 29712
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> Content-Length: 0
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> Date: Tue, 24 Jul 2007 03:46:20 GMT
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> Via: SIP/2.0/UDP
</I>
&gt;&gt;<i> 10.238.115.246:5080;branch=z9hG4bK-de433e5a2eede318f5290a8f452a5988
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> Via: SIP/2.0/UDP
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>    
</I>
&gt;<i>
</I>10.238.115.201:9999;branch=z9hG4bK-d87543-66281056be18033f-1--d87543-;rp

&gt;<i> ort=9999
</I>
&gt;<i>  
</I>
&gt;&gt;<i> r\n\r\n--------------------END--------------------\n&quot;
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> *The ACK with OpenIMS:*
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>    
</I>
&gt;<i>
</I>OUTGOING:INFO:telecom.ipservices.com:SipAaa-9:B78B9B90:SipAuthProxy:&quot;Sip

&gt;<i> UserAgent::sendUdp
</I>
&gt;<i>  
</I>
&gt;&gt;<i> UDP SIP User Agent failed to send message:
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> ----Remote Host:scscf.open-ims.test---- Port: 6060----
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> ACK sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Joe at 10.238.115.226</A>:12000;rinstance=4bfac4eec0ac69aa SIP/2.0
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> Record-Route: &lt;sip:10.238.115.246:5080;lr;a;t;s&gt;
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> Route:
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>    
</I>
&gt;<i>
</I>&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mt at scscf.open-ims.test</A>:6060;lr&gt;,&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mt at scscf.open-ims.test</A>:6060;lr

&gt;<i>  
</I>
&gt;&gt;<i> ,&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mt at pcscf.open-ims.test</A>:4060;lr&gt;
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> Max-Forwards: 20
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> Contact: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Mary at 10.238.115.201</A>:9999&gt;
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> To:
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>    
</I>
&gt;<i>
</I>\&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">12345 at telecom.ipservices.com</A>\&quot;&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">12345 at telecom.ipservices.com</A>&gt;;tag=2

&gt;<i> b1cb968
</I>
&gt;<i>  
</I>
&gt;&gt;<i> From: \&quot;Mary\&quot;&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Mary at 10.238.115.216</A>&gt;;tag=7f605d07\r\nCall-Id:
</I>
&gt;&gt;<i> de520667db0d7c31NDVmYzUwMjUyNjY0M2Q3ZjI0ZGQwYWZiNzM0YmNkOTU.
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> Cseq: 1 ACK
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> User-Agent: X-Lite release 1002tx stamp 29712
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> Content-Length: 0
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> Date: Tue, 24 Jul 2007 03:14:06 GMT
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> Via: SIP/2.0/UDP
</I>
&gt;&gt;<i> 10.238.115.246:5080;branch=z9hG4bK-cfc450105cda238eca3e21687fc9a9cd
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> Via: SIP/2.0/UDP
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>    
</I>
&gt;<i>
</I>10.238.115.201:9999;branch=z9hG4bK-d87543-7931851c464fb01f-1--d87543-;rp

&gt;<i> ort=9999
</I>
&gt;<i>  
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> \n\r\n--------------------END--------------------\n&quot;
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>    
</I>
&gt;<i>
</I>************************************************************************

&gt;<i>
</I>************************************************************************

&gt;<i> *********************************
</I>
&gt;<i>  
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> Please suggest me in this regard as to what might be the problem in
</I>
&gt;&gt;<i> connecting openIMS with sipxPBX.
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> Thanks &amp; Regards
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> Rajeswari.R
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> Programmer Analyst
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> Cognizant Technology Solutions
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> V-net:63149 | Ph.no.:40122721 | mobile:9247747498
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i> This e-mail and any files transmitted with it are for the sole use of
</I>
&gt;&gt;<i> the intended recipient(s) and may contain confidential and privileged
</I>
&gt;&gt;<i> information.
</I>
&gt;&gt;<i> If you are not the intended recipient, please contact the sender by
</I>
&gt;&gt;<i> reply e-mail and destroy all copies of the original message.
</I>
&gt;&gt;<i> Any unauthorised review, use, disclosure, dissemination, forwarding,
</I>
&gt;&gt;<i> printing or copying of this email or any action taken in reliance on
</I>
&gt;&gt;<i> this e-mail is strictly
</I>
&gt;&gt;<i> prohibited and may be unlawful.
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>
</I>
&gt;&gt;<i>    
</I>
&gt;<i>
</I>------------------------------------------------------------------------

&gt;<i>  
</I>
&gt;&gt;<i> _______________________________________________
</I>
&gt;&gt;<i> OpenIMSCore-Users mailing list
</I>
&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>
&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>
&gt;&gt;<i> 
</I>
&gt;&gt;<i>    
</I>
&gt;<i>
</I>
&gt;<i>
</I>
&gt;<i> --
</I>
&gt;<i> -----------------------------------------
</I>
&gt;<i> Dipl. Eng. Dragos Vingarzan
</I>
&gt;<i> Fraunhofer FOKUS/NGNI
</I>
&gt;<i> Kaiserin-Augusta-Allee 31
</I>
&gt;<i> 10589 Berlin,Germany
</I>
&gt;<i> Phone +49 (0)30 - 3463 - 7385
</I>
&gt;<i> Mobile +49 (0)163 - 159 - 5221
</I>
&gt;<i> Web www.fokus.fraunhofer.de www.openimscore.org
</I>
&gt;<i> We could change the world if God would give us the source code...
</I>
&gt;<i> -----------------------------------------------------------------
</I>
&gt;<i>
</I>
&gt;<i>
</I>
&gt;<i>
</I>
&gt;<i> This e-mail and any files transmitted with it are for the sole use of
</I>the intended recipient(s) and may contain confidential and privileged
information.

&gt;<i> If you are not the intended recipient, please contact the sender by
</I>reply e-mail and destroy all copies of the original message.

&gt;<i> Any unauthorised review, use, disclosure, dissemination, forwarding,
</I>printing or copying of this email or any action taken in reliance on
this e-mail is strictly

&gt;<i> prohibited and may be unlawful.
</I>
&gt;<i>
</I>
&gt;<i> 
</I>
&gt;<i>  
</I>




--

-----------------------------------------

Dipl. Eng. Dragos Vingarzan

Fraunhofer FOKUS/NGNI

Kaiserin-Augusta-Allee 31

10589 Berlin,Germany

Phone +49 (0)30 - 3463 - 7385

Mobile +49 (0)163 - 159 - 5221

Web www.fokus.fraunhofer.de www.openimscore.org

We could change the world if God would give us the source code...

-----------------------------------------------------------------





This e-mail and any files transmitted with it are for the sole use of the intended recipient(s) and may contain confidential and privileged information.
If you are not the intended recipient, please contact the sender by reply e-mail and destroy all copies of the original message.
Any unauthorised review, use, disclosure, dissemination, forwarding, printing or copying of this email or any action taken in reliance on this e-mail is strictly
prohibited and may be unlawful.

 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20070801/5d13ef4c/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20070801/5d13ef4c/attachment.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.gif
Type: image/gif
Size: 12387 bytes
Desc: image002.gif
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20070801/5d13ef4c/attachment.gif">https://lists.berlios.de/pipermail/openimscore-users/attachments/20070801/5d13ef4c/attachment.gif</A>&gt;
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: trace_in_ims.txt
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20070801/5d13ef4c/attachment.txt">https://lists.berlios.de/pipermail/openimscore-users/attachments/20070801/5d13ef4c/attachment.txt</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="002284.html">[OpenIMSCore-Users] openIMSCore not coming up ..........help nedded
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2283">[ date ]</a>
              <a href="thread.html#2283">[ thread ]</a>
              <a href="subject.html#2283">[ subject ]</a>
              <a href="author.html#2283">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
