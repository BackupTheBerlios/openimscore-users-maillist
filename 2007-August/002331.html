<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] Peer icscf.open-ims.test can notberesolved.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2007-August/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Peer%20icscf.open-ims.test%20can%20notberesolved.&In-Reply-To=%3C1186583725.5770.54.camel%40walqa0003%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002325.html">
   <LINK REL="Next"  HREF="002336.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] Peer icscf.open-ims.test can notberesolved.</H1>
    <B>Eduardo Moreno</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Peer%20icscf.open-ims.test%20can%20notberesolved.&In-Reply-To=%3C1186583725.5770.54.camel%40walqa0003%3E"
       TITLE="[OpenIMSCore-Users] Peer icscf.open-ims.test can notberesolved.">eduardo.moreno at inycom.es
       </A><BR>
    <I>Wed Aug  8 16:35:25 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002325.html">[OpenIMSCore-Users] Peer icscf.open-ims.test can not beresolved.
</A></li>
        <LI>Next message: <A HREF="002336.html">[OpenIMSCore-Users] Peer icscf.open-ims.test can notberesolved.	[resolved]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2331">[ date ]</a>
              <a href="thread.html#2331">[ thread ]</a>
              <a href="subject.html#2331">[ subject ]</a>
              <a href="author.html#2331">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi.

Maybe the localhost IP (127.0.0.1) should be first in resolv.conf.
By other hand, the file &quot;open-ims.dnszone&quot; is in the same directory than
named.conf and have you fixed the permissions and ownership of that
file?

Really the problems are concerning to DNS. The differences between
different flavours of Linux are a problem. I going to  transcribe my DNS
configuration for IMSCore in my particular distribution (Ubuntu 7.04).
Surely this configuration won't run in yours (Fedora?), but I hope that
helps you.

1. Installation of DNS server: Ubuntu/Debian &quot;bind9&quot; package

2. Modification of bind9 configuration file: /etc/bind/named.conf
    I append this lines:

        zone &quot;open-ims.test&quot; IN {
        type master;
        file &quot;/etc/bind/open-ims.dnszone&quot;;
        notify no;
        };

3. Copy of file
<A HREF="svn://svn.berlios.de/openimscore/ser_ims/trunk/cfg/open-ims.dnszone">svn://svn.berlios.de/openimscore/ser_ims/trunk/cfg/open-ims.dnszone</A>
to   /etc/bind

4. Fix permissions and owner:

        <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">edumoreno at walqa0003</A>:/etc/bind$ ls -l open-ims.dnszone
        -rw-r--r-- 1 root bind 1148 2007-07-31 13:07 open-ims.dnszone

5. Modification of DNS client configuration in my system in
file: /etc/resolv.conf
    I change it to:

        <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">edumoreno at walqa0003</A>:/etc$ more resolv.conf 
        # generated by NetworkManager, do not edit!
        nameserver 127.0.0.1
        search open-ims.test inycom.es

With this, I am sure that all DNS queries go through my DNS server and
hosts without domain name are searched in open-ims.test in first place.

6. Modification of DNS server configuration to fordward unknown hosts (I
can't live without Google at least) in file /etc/bind/named.conf.options
    Inside options section I include this lines:
        forwarders {
                192.168.4.102;
                192.168.4.100;
        };

That IP's are the local DNS server in my LAN. I attach the entire file
for better understanding.

7. Restarting of DNS server:
    <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">edumoreno at walqa0003</A>:/etc/init.d$ sudo ./bind9 restart
     * Stopping domain name service... bind
[ OK ] 
     * Starting domain name service... bind
[ OK ] 


&gt;<i>From now, I can resolve all nodes of IMSCore:
</I>    <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">edumoreno at walqa0003</A>:/etc/init.d$ ping pcscf
    PING pcscf.open-ims.test (127.0.0.1) 56(84) bytes of data.
    64 bytes from localhost (127.0.0.1): icmp_seq=1 ttl=64 time=0.029 ms

    <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">edumoreno at walqa0003</A>:/etc/init.d$ ping hss
    PING hss.open-ims.test (127.0.0.1) 56(84) bytes of data.
    64 bytes from localhost (127.0.0.1): icmp_seq=1 ttl=64 time=0.030 ms

Really now in Ubuntu all this changes are made through NetworkManager
utility and not by hand, but the result is the shown (that explains the
comment in resolv.conf file).

That's all.

Regards...

El mi&#233;, 08-08-2007 a las 10:54 +0200, hammou moujane escribi&#243;:

&gt;<i> Hello,
</I>&gt;<i> I did as you said Moreno, (ping icscf.open-ims.test ...) but I get
</I>&gt;<i> unknown host. this  is the  content of &quot;named.conf&quot;:
</I>&gt;<i> options {
</I>&gt;<i>     directory &quot;/var/named/&quot;; 
</I>&gt;<i>     forward first;
</I>&gt;<i>     forwarders {172.16.1.3;172.16.1.250;};
</I>&gt;<i>     };
</I>&gt;<i> zone &quot;open-ims.test&quot; IN {
</I>&gt;<i>     type master;
</I>&gt;<i>     file &quot;open-ims.dnszone&quot;;
</I>&gt;<i>     notify no;
</I>&gt;<i> };
</I>&gt;<i> ---------------------------------
</I>&gt;<i> hosts:
</I>&gt;<i> 127.0.0.1               localhost.localdomain localhost
</I>&gt;<i> 127.0.0.1               open-ims.test  localhost 
</I>&gt;<i> ::1             localhost.localdomain localhost
</I>&gt;<i> ------------------------------------
</I>&gt;<i> resolv.conf:
</I>&gt;<i> ; generated by /sbin/dhclient-script
</I>&gt;<i> search inpt.ac.ma open-ims.test
</I>&gt;<i> nameserver 172.16.1.3
</I>&gt;<i> nameserver 172.16.1.250
</I>&gt;<i> nameserver 192.158.4.1
</I>&gt;<i> nameserver 127.0.0.1
</I>&gt;<i> -------------------------------
</I>&gt;<i> Best Regard.
</I>&gt;<i> 
</I>&gt;<i> Eduardo Moreno &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">eduardo.moreno at inycom.es</A>&gt; a &#233;crit :
</I>&gt;<i> 
</I>&gt;<i>         Hi.
</I>&gt;<i>         
</I>&gt;<i>         Did you resolve the problems with DNS yet?
</I>&gt;<i>         Can you resolve ping or dig to diferent nodes of the core
</I>&gt;<i>         (hss, pcscf, icscf, scscf with or without domain name
</I>&gt;<i>         open-ims.test)?
</I>&gt;<i>         
</I>&gt;<i>         Regards...
</I>&gt;<i>         
</I>&gt;<i>         El mar, 07-08-2007 a las 19:25 +0200, hammou moujane escribi&#243;:
</I>&gt;<i>         
</I>&gt;<i>         &gt; Hello,
</I>&gt;<i>         &gt; I have installed &quot;uctimsclient&quot; in ordre to establish
</I>&gt;<i>         &gt; communication between users. The problem is that the
</I>&gt;<i>         &gt; registration doesn't work. May be the configuration of Core
</I>&gt;<i>         &gt; IMS haven't been completed because starting
</I>&gt;<i>         &gt; deploy/startup.sh gives the following errors:
</I>&gt;<i>         &gt; Peer icscf.open-ims.test can not be resolved.
</I>&gt;<i>         &gt; Peer pcscf.open-ims.test can not be resolved.
</I>&gt;<i>         &gt; Peer scscf.open-ims.test can not be resolved.
</I>&gt;<i>         &gt; Thanks in advance for your help.
</I>&gt;<i>         &gt; Regards.
</I>


AVISO LEGAL 

Este mensaje y los archivos que en su caso lleve adjuntos son privados y confidenciales y se dirigen exclusivamente a su destinatario. Por ello, se informa a quien lo reciba por error que la informaci&#243;n contenida en el mismo es reservada y su utilizaci&#243;n, copia o distribuci&#243;n est&#225; prohibida, por lo que en tal caso le rogamos que nos lo comunique por esta misma v&#237;a o por tel&#233;fono (+34976013300) y proceda a borrarlo de inmediato. 



-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20070808/c4737048/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20070808/c4737048/attachment.html</A>&gt;
-------------- next part --------------
options {
	directory &quot;/var/cache/bind&quot;;

	// If there is a firewall between you and nameservers you want
	// to talk to, you might need to uncomment the query-source
	// directive below.  Previous versions of BIND always asked
	// questions using port 53, but BIND 8.1 and later use an unprivileged
	// port by default.

	// query-source address * port 53;

	// If your ISP provided one or more IP addresses for stable 
	// nameservers, you probably want to use them as forwarders.  
	// Uncomment the following block, and insert the addresses replacing 
	// the all-0's placeholder.

	forwarders {
		192.168.4.102;
		192.168.4.100;
	};

	auth-nxdomain no;    # conform to RFC1035
	listen-on-v6 { any; };

	// By default, name servers should only perform recursive domain
	// lookups for their direct clients.  If recursion is left open
	// to the entire Internet, your name server could be used to
	// perform distributed denial of service attacks against other
	// innocent computers.  For more information on DDoS recursion:
	// <A HREF="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-0987">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-0987</A>

	allow-recursion { localnets; };

	// If you have DNS clients on other subnets outside of your
	// server's &quot;localnets&quot;, you can explicitly add their networks
	// without opening up your server to the Internet at large:
	// allow-recursion { localnets; 192.168.0.0/24; };

	// If your name server is only listening on 127.0.0.1, consider:
	// allow-recursion { 127.0.0.1; };
};

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002325.html">[OpenIMSCore-Users] Peer icscf.open-ims.test can not beresolved.
</A></li>
	<LI>Next message: <A HREF="002336.html">[OpenIMSCore-Users] Peer icscf.open-ims.test can notberesolved.	[resolved]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2331">[ date ]</a>
              <a href="thread.html#2331">[ thread ]</a>
              <a href="subject.html#2331">[ subject ]</a>
              <a href="author.html#2331">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
