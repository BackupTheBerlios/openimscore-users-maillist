<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] Registeration over IPSec fails
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2007-August/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Registeration%20over%20IPSec%20fails&In-Reply-To=%3COF86203F0C.050606E2-ON65257340.00345D46-65257340.00352E3E%40flextronicssoftware.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002457.html">
   <LINK REL="Next"  HREF="002498.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] Registeration over IPSec fails</H1>
    <B>Divya Singh</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Registeration%20over%20IPSec%20fails&In-Reply-To=%3COF86203F0C.050606E2-ON65257340.00345D46-65257340.00352E3E%40flextronicssoftware.com%3E"
       TITLE="[OpenIMSCore-Users] Registeration over IPSec fails">divya.singh at aricent.com
       </A><BR>
    <I>Thu Aug 23 11:40:23 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002457.html">[OpenIMSCore-Users] Registeration over IPSec fails
</A></li>
        <LI>Next message: <A HREF="002498.html">[OpenIMSCore-Users] Registeration over IPSec fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2464">[ date ]</a>
              <a href="thread.html#2464">[ thread ]</a>
              <a href="subject.html#2464">[ subject ]</a>
              <a href="author.html#2464">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Florin.
You rightly identified that my UE and P-CSCF are not running on the same 
machine.
my linux machine did not have ipsec demon running!
I am using suse linux 9.0 (with 2.4 kernel) &amp; trying to install openswan 
2.4.9 on it
but source code compilation is breaking.
Pls. suggest if i am going the wrong way or if there is any better way of 
installing ipsec.

Regards,
Divya
 



Florin Popescu &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">florin.popescu at fokus.fraunhofer.de</A>&gt; 
08/22/2007 09:37 PM

Please respond to
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">florin.popescu at fokus.fraunhofer.de</A>


To
Divya Singh/<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">HSS at HSS</A>
cc
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Subject
Re: [OpenIMSCore-Users]  Registeration over IPSec fails






Hello, 

If you see the second REGISTER in plain text and you are not running the
client and the P-CSCF on the same machine, there, for sure, the client
failed to set the IPSEC tunnel. 

The P-CSCF made the IPSEC associations and now is waiting for a message
over an IPSEC tunnel. This is way it doesn't react to the second
REGISTER.

Florin.


On Mon, 2007-08-20 at 11:23 +0530, Divya Singh wrote:
&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Hi, 
</I>&gt;<i> I am not able to register with openimscore with ipsec enabled. 
</I>&gt;<i> The problem I encountered is different from that reported by Sanjeev
</I>&gt;<i> though! 
</I>&gt;<i> 
</I>&gt;<i> The UE(IMS communicator) sends initial Register msg with
</I>&gt;<i> security-client as ipsec-3gpp. 
</I>&gt;<i> The P-CSCF responds with a 401 with security-server as ipsec-3gpp 
</I>&gt;<i> The UE sends the 2nd Register msg (with authentication) to P-CSCF  in
</I>&gt;<i> plain text  rather than on ipsec ! 
</I>&gt;<i> The P-CSCF neither responds to this msg nor forwards it..  the P-CSCF
</I>&gt;<i> logs suggest that P-CSCF does have the IPSec connection details
</I>&gt;<i> ( active for abt 60 seconds) 
</I>&gt;<i> It appears to be an issue with the UE at the first place 'coz it
</I>&gt;<i> should send the 2md register on the security connection. 
</I>&gt;<i> 
</I>&gt;<i> I am attaching the wireshark/ethereal logs as well for reference. 
</I>&gt;<i> Can anyone give some pointers on how to debug the problem. 
</I>&gt;<i> 
</I>&gt;<i> Thanks &amp; Regards, 
</I>&gt;<i> Divya 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ***********************  Aricent-Unclassified
</I>&gt;<i> *********************** 
</I>&gt;<i> &quot;DISCLAIMER: This message is proprietary to Aricent  and is intended 
</I>solely for the use of 
&gt;<i> the individual to whom it is addressed. It may contain privileged or 
</I>confidential information and should not be 
&gt;<i> circulated or used for any purpose other than for what it is intended. 
</I>If you have received this message in error, 
&gt;<i> please notify the originator immediately. If you are not the intended 
</I>recipient, you are notified that you are strictly
&gt;<i> prohibited from using, copying, altering, or disclosing the contents of 
</I>this message. Aricent accepts no responsibility for 
&gt;<i> loss or damage arising from the use of the information transmitted by 
</I>this email including damage from virus.&quot;
&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OpenIMSCore-Users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>




***********************  Aricent-Unclassified   ***********************
&quot;DISCLAIMER: This message is proprietary to Aricent  and is intended solely for the use of 
the individual to whom it is addressed. It may contain privileged or confidential information and should not be 
circulated or used for any purpose other than for what it is intended. If you have received this message in error, 
please notify the originator immediately. If you are not the intended recipient, you are notified that you are strictly
prohibited from using, copying, altering, or disclosing the contents of this message. Aricent accepts no responsibility for 
loss or damage arising from the use of the information transmitted by this email including damage from virus.&quot;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20070823/5141f27e/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20070823/5141f27e/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002457.html">[OpenIMSCore-Users] Registeration over IPSec fails
</A></li>
	<LI>Next message: <A HREF="002498.html">[OpenIMSCore-Users] Registeration over IPSec fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2464">[ date ]</a>
              <a href="thread.html#2464">[ thread ]</a>
              <a href="subject.html#2464">[ subject ]</a>
              <a href="author.html#2464">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
