<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] Query on IPSec at P-CSCF (Registeration)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2007-July/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Query%20on%20IPSec%20at%20P-CSCF%20%28Registeration%29&In-Reply-To=%3Ccdbda6820707110543n449aeb57x184fc2aa8bb13f01%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002098.html">
   <LINK REL="Next"  HREF="002099.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] Query on IPSec at P-CSCF (Registeration)</H1>
    <B>sanjeev mudholkar</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Query%20on%20IPSec%20at%20P-CSCF%20%28Registeration%29&In-Reply-To=%3Ccdbda6820707110543n449aeb57x184fc2aa8bb13f01%40mail.gmail.com%3E"
       TITLE="[OpenIMSCore-Users] Query on IPSec at P-CSCF (Registeration)">sanjeev.mudholkar at gmail.com
       </A><BR>
    <I>Wed Jul 11 14:43:05 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002098.html">[OpenIMSCore-Users] Query on IPSec at P-CSCF (Registeration)
</A></li>
        <LI>Next message: <A HREF="002099.html">[OpenIMSCore-Users] info about LIR, UAR,	MAR and Authorization Header
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2125">[ date ]</a>
              <a href="thread.html#2125">[ thread ]</a>
              <a href="subject.html#2125">[ subject ]</a>
              <a href="author.html#2125">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
  Looked at the link you sent. I have a doubt about this trace (please
correct
me if I am wrong). The trace shows that the client and the server are
running on
the loopback address. As a result the traffic would be routed at IP layer
itself and never go through IPSec.

I too gave a try with ims client  on the same host as the server and it
works
absolutely fine. (Attached is the capture for your reference).
But the registration fails if the client is on a different host then the
server.

Appreciate your help (and patience)

-Sanjeev

On 7/6/07, Dragos Vingarzan &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Dragos.Vingarzan at fokus.fraunhofer.de</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> But we did test it and it worked... <A HREF="http://www.openimscore.org/node/85">http://www.openimscore.org/node/85</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -Dragos
</I>&gt;<i>
</I>&gt;<i> sanjeev mudholkar wrote:
</I>&gt;<i> &gt; Hello,
</I>&gt;<i> &gt;    As told earlier we tried registration with the latest revision of
</I>&gt;<i> &gt; open IMS(r380).
</I>&gt;<i> &gt; And the result is still the same. The p-cscf does create a SA on
</I>&gt;<i> &gt; sending '401' and
</I>&gt;<i> &gt; accepts the next REGISTRATION on the IPSec channel, but sends the
</I>&gt;<i> &gt; response
</I>&gt;<i> &gt; '200 OK' without applying IPSec. The p-cscf does create the rest of
</I>&gt;<i> &gt; the SAs but
</I>&gt;<i> &gt; are delayed and so the registeration does not successed.
</I>&gt;<i> &gt; The attached trace explains the issue better.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Appreciate your help.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks
</I>&gt;<i> &gt; -Sanjeev
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On 6/25/07, *sanjeev.mudholkar* &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sanjeev.mudholkar at gmail.com</A>
</I>&gt;<i> &gt; &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sanjeev.mudholkar at gmail.com</A>&gt;&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     Hello Dragos,
</I>&gt;<i> &gt;        Thanks for info.
</I>&gt;<i> &gt;     Well I did give a try with the latest version a few days back (it
</I>&gt;<i> was
</I>&gt;<i> &gt;     svn revision 360).
</I>&gt;<i> &gt;     That version had some other problem with IPSec.
</I>&gt;<i> &gt;     Then I gave a try with  a older version (revision 312) which my
</I>&gt;<i> &gt;     colleague had and
</I>&gt;<i> &gt;     with that registration and unregistration over IPSec worked fine.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     Anyway I will give a try with the latest version again and will
</I>&gt;<i> update
</I>&gt;<i> &gt;     you the result.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     -Sanjeev
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     Dragos Vingarzan wrote:
</I>&gt;<i> &gt;     &gt; Hello Sanjeev,
</I>&gt;<i> &gt;     &gt;
</I>&gt;<i> &gt;     &gt; As you have probably seen from the commit logs, in the last days
</I>&gt;<i> &gt;     there
</I>&gt;<i> &gt;     &gt; were a series of commits on the TLS code. This might have
</I>&gt;<i> &gt;     affected the
</I>&gt;<i> &gt;     &gt; IPSec implementation too as the code shares big parts. Please
</I>&gt;<i> &gt;     re-test
</I>&gt;<i> &gt;     &gt; with the latest revision and send us back traces in case that
</I>&gt;<i> &gt;     you find
</I>&gt;<i> &gt;     &gt; something wrong.
</I>&gt;<i> &gt;     &gt;
</I>&gt;<i> &gt;     &gt; The implementation of IPSec is not fully 100% but all the
</I>&gt;<i> &gt;     scenarios that
</I>&gt;<i> &gt;     &gt; you have mentioned should be covered.
</I>&gt;<i> &gt;     &gt;
</I>&gt;<i> &gt;     &gt; -Dragos
</I>&gt;<i> &gt;     &gt;
</I>&gt;<i> &gt;     &gt;
</I>&gt;<i> &gt;     &gt; sanjeev.mudholkar wrote:
</I>&gt;<i> &gt;     &gt;
</I>&gt;<i> &gt;     &gt;&gt; Hi,
</I>&gt;<i> &gt;     &gt;&gt; Resending my query.
</I>&gt;<i> &gt;     &gt;&gt; Is IPSec support at P-CSCF fully implemented.
</I>&gt;<i> &gt;     &gt;&gt; i.e Registration,call setup and de-registration over IPSec.
</I>&gt;<i> &gt;     &gt;&gt; As I mentioned in my earlier mail, I am able to register over
</I>&gt;<i> &gt;     IPSec
</I>&gt;<i> &gt;     &gt;&gt; but unable to de-register. There is no response from P-CSCF for a
</I>&gt;<i> &gt;     &gt;&gt; de-register request (i.e REGISTER request with expire=0)
</I>&gt;<i> &gt;     &gt;&gt;
</I>&gt;<i> &gt;     &gt;&gt; Has anybody tested registration and de-registration over IPSec
</I>&gt;<i> &gt;     &gt;&gt; successfully.
</I>&gt;<i> &gt;     &gt;&gt;
</I>&gt;<i> &gt;     &gt;&gt; Appreciate your help.
</I>&gt;<i> &gt;     &gt;&gt;
</I>&gt;<i> &gt;     &gt;&gt; Thanks in advance
</I>&gt;<i> &gt;     &gt;&gt; -Sanjeev
</I>&gt;<i> &gt;     &gt;&gt;
</I>&gt;<i> &gt;     &gt;&gt;
</I>&gt;<i> &gt;     &gt;&gt;
</I>&gt;<i> &gt;     &gt;&gt; sanjeev mudholkar wrote:
</I>&gt;<i> &gt;     &gt;&gt;
</I>&gt;<i> &gt;     &gt;&gt;
</I>&gt;<i> &gt;     &gt;&gt;&gt; Hello,
</I>&gt;<i> &gt;     &gt;&gt;&gt;   We are able to register to IMS core over IPsec successfully,
</I>&gt;<i> &gt;     &gt;&gt;&gt; but we see a issue after the registeration is done.
</I>&gt;<i> &gt;     &gt;&gt;&gt; There is no response from P-CSCF for unregister request
</I>&gt;<i> &gt;     &gt;&gt;&gt; sent over the same IPSec channel. The request is received
</I>&gt;<i> &gt;     &gt;&gt;&gt; at P-CSCF but no response.
</I>&gt;<i> &gt;     &gt;&gt;&gt;
</I>&gt;<i> &gt;     &gt;&gt;&gt; Registeration and Unregisteration goes on fine if not over
</I>&gt;<i> IPSec.
</I>&gt;<i> &gt;     &gt;&gt;&gt;
</I>&gt;<i> &gt;     &gt;&gt;&gt; Can someone give me some pointer on what could be the issue
</I>&gt;<i> &gt;     &gt;&gt;&gt; or how to debug this issue.
</I>&gt;<i> &gt;     &gt;&gt;&gt;
</I>&gt;<i> &gt;     &gt;&gt;&gt; Appreciate your help
</I>&gt;<i> &gt;     &gt;&gt;&gt;
</I>&gt;<i> &gt;     &gt;&gt;&gt; Thanks
</I>&gt;<i> &gt;     &gt;&gt;&gt; -Sanjeev
</I>&gt;<i> &gt;     &gt;&gt;&gt;
</I>&gt;<i> &gt;     &gt;&gt;&gt;
</I>&gt;<i> &gt;     &gt;&gt;&gt;
</I>&gt;<i> &gt;     &gt;&gt;&gt;
</I>&gt;<i> &gt;     &gt;&gt; _______________________________________________
</I>&gt;<i> &gt;     &gt;&gt; OpenIMSCore-Users mailing list
</I>&gt;<i> &gt;     &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>&gt;<i> &gt;     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>&gt;
</I>&gt;<i> &gt;     &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>&gt;<i> &gt;     &gt;&gt;
</I>&gt;<i> &gt;     &gt;&gt;
</I>&gt;<i> &gt;     &gt;&gt;
</I>&gt;<i> &gt;     &gt;
</I>&gt;<i> &gt;     &gt;
</I>&gt;<i> &gt;     &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> -----------------------------------------
</I>&gt;<i> Dipl. Eng. Dragos Vingarzan
</I>&gt;<i> Fraunhofer FOKUS/NGNI
</I>&gt;<i> Kaiserin-Augusta-Allee 31
</I>&gt;<i> 10589 Berlin,Germany
</I>&gt;<i> Phone +49 (0)30 - 3463 - 7385
</I>&gt;<i> Mobile +49 (0)163 - 159 - 5221
</I>&gt;<i> Web www.fokus.fraunhofer.de www.openimscore.org
</I>&gt;<i> We could change the world if God would give us the source code...
</I>&gt;<i> -----------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20070711/0ece48aa/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20070711/0ece48aa/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002098.html">[OpenIMSCore-Users] Query on IPSec at P-CSCF (Registeration)
</A></li>
	<LI>Next message: <A HREF="002099.html">[OpenIMSCore-Users] info about LIR, UAR,	MAR and Authorization Header
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2125">[ date ]</a>
              <a href="thread.html#2125">[ thread ]</a>
              <a href="subject.html#2125">[ subject ]</a>
              <a href="author.html#2125">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
