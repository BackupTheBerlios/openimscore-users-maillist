<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] P-CSCF Via header problem
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2007-July/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20P-CSCF%20Via%20header%20problem&In-Reply-To=%3C4694ED7D.6000905%40fokus.fraunhofer.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002127.html">
   <LINK REL="Next"  HREF="002129.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] P-CSCF Via header problem</H1>
    <B>Dragos Vingarzan</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20P-CSCF%20Via%20header%20problem&In-Reply-To=%3C4694ED7D.6000905%40fokus.fraunhofer.de%3E"
       TITLE="[OpenIMSCore-Users] P-CSCF Via header problem">Dragos.Vingarzan at fokus.fraunhofer.de
       </A><BR>
    <I>Wed Jul 11 16:47:25 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002127.html">[OpenIMSCore-Users] P-CSCF Via header problem
</A></li>
        <LI>Next message: <A HREF="002129.html">[OpenIMSCore-Users] P-CSCF Via header problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2128">[ date ]</a>
              <a href="thread.html#2128">[ thread ]</a>
              <a href="subject.html#2128">[ subject ]</a>
              <a href="author.html#2128">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Raman,

eyebeam is not an IMS client. Then the idea behind IMS is that you
should control the access network, so no need for STUN.... Sorry, but
you are trying to mix two technologies in a manner that abuses the
standards.

-Dragos

raman gupta wrote:
&gt;<i> Hi Dragos
</I>&gt;<i>  
</I>&gt;<i> My Softphone( eyebeam ) is behind the NAT and is using STUN server to
</I>&gt;<i> detect the public IP (assigned by NAT) Which  it can  use in SDP for
</I>&gt;<i> RTP transmission.
</I>&gt;<i>  
</I>&gt;<i> EyeBeam--&gt;NAT--&gt;STUN
</I>&gt;<i>  
</I>&gt;<i> Eyebeam gets registered with public IP in the contact (  STUN server
</I>&gt;<i> tells EyeBeam its public IP) 
</I>&gt;<i>  
</I>&gt;<i> So in INVITE message contact ip( public ) is different from via header
</I>&gt;<i> ( private ip  ).And thus P-CSCF rejects it.
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i> On 7/11/07, *Dragos Vingarzan* &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Dragos.Vingarzan at fokus.fraunhofer.de</A>
</I>&gt;<i> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Dragos.Vingarzan at fokus.fraunhofer.de</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>     Hello Raman,
</I>&gt;<i>
</I>&gt;<i>     The P-CSCF needs to identify the user based on the source IP:port.
</I>&gt;<i>     If it
</I>&gt;<i>     would identify it by contact, then anybody that finds out your
</I>&gt;<i>     contact
</I>&gt;<i>     (for example by calling you) can then impersonate your user  and make
</I>&gt;<i>     calls in your name.
</I>&gt;<i>
</I>&gt;<i>     As such you always need to register the address that you would like to
</I>&gt;<i>     use in Via as a valid Contact through normal registration procedures.
</I>&gt;<i>
</I>&gt;<i>     -Dragos
</I>&gt;<i>
</I>&gt;<i>     raman gupta wrote:
</I>&gt;<i>     &gt; Hi
</I>&gt;<i>     &gt;
</I>&gt;<i>     &gt; P-CSCF is using  First Via header field in invite message to
</I>&gt;<i>     determine
</I>&gt;<i>     &gt; whether a user is registered or not . It is not taking this decision
</I>&gt;<i>     &gt; on  the basis of Contact header field. since Contact can be
</I>&gt;<i>     different
</I>&gt;<i>     &gt; from First  Via header , It gives error message user is not
</I>&gt;<i>     &gt; registered When the user is actually registered.
</I>&gt;<i>     &gt;
</I>&gt;<i>     ------------------------------------------------------------------------
</I>&gt;<i>     &gt;
</I>&gt;<i>     &gt; _______________________________________________
</I>&gt;<i>     &gt; OpenIMSCore-Users mailing list
</I>&gt;<i>     &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>&gt;<i>     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>&gt;
</I>&gt;<i>     &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>&gt;<i>     &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>&gt;
</I>&gt;<i>     &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     --
</I>&gt;<i>     -----------------------------------------
</I>&gt;<i>     Dipl. Eng. Dragos Vingarzan
</I>&gt;<i>     Fraunhofer FOKUS/NGNI
</I>&gt;<i>     Kaiserin-Augusta-Allee 31
</I>&gt;<i>     10589 Berlin,Germany
</I>&gt;<i>     Phone +49 (0)30 - 3463 - 7385
</I>&gt;<i>     Mobile +49 (0)163 - 159 - 5221
</I>&gt;<i>     Web www.fokus.fraunhofer.de &lt;<A HREF="http://www.fokus.fraunhofer.de">http://www.fokus.fraunhofer.de</A>&gt;
</I>&gt;<i>     www.openimscore.org &lt;<A HREF="http://www.openimscore.org">http://www.openimscore.org</A>&gt;
</I>&gt;<i>     We could change the world if God would give us the source code...
</I>&gt;<i>     -----------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
-----------------------------------------
Dipl. Eng. Dragos Vingarzan
Fraunhofer FOKUS/NGNI
Kaiserin-Augusta-Allee 31
10589 Berlin,Germany
Phone +49 (0)30 - 3463 - 7385
Mobile +49 (0)163 - 159 - 5221
Web www.fokus.fraunhofer.de www.openimscore.org
We could change the world if God would give us the source code...
-----------------------------------------------------------------


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002127.html">[OpenIMSCore-Users] P-CSCF Via header problem
</A></li>
	<LI>Next message: <A HREF="002129.html">[OpenIMSCore-Users] P-CSCF Via header problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2128">[ date ]</a>
              <a href="thread.html#2128">[ thread ]</a>
              <a href="subject.html#2128">[ subject ]</a>
              <a href="author.html#2128">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
