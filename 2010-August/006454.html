<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] OpenIMSCore-Users Digest, Vol 46, Issue 24
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2010-August/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20OpenIMSCore-Users%20Digest%2C%20Vol%2046%2C%20Issue%2024&In-Reply-To=%3C518B30EC6BD638409FBD2A690E19737C017FB95B033B%40ABSEXCFWP01.gemalto.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006453.html">
   <LINK REL="Next"  HREF="006455.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] OpenIMSCore-Users Digest, Vol 46, Issue 24</H1>
    <B>FINE Jean-Yves</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20OpenIMSCore-Users%20Digest%2C%20Vol%2046%2C%20Issue%2024&In-Reply-To=%3C518B30EC6BD638409FBD2A690E19737C017FB95B033B%40ABSEXCFWP01.gemalto.com%3E"
       TITLE="[OpenIMSCore-Users] OpenIMSCore-Users Digest, Vol 46, Issue 24">Jean-Yves.FINE at gemalto.com
       </A><BR>
    <I>Thu Aug 19 17:48:59 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006453.html">[OpenIMSCore-Users] Problem when registering Nokia E71	toOpenIMSCore
</A></li>
        <LI>Next message: <A HREF="006455.html">[OpenIMSCore-Users] Problem when registering Nokia	E71toOpenIMSCore
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6454">[ date ]</a>
              <a href="thread.html#6454">[ thread ]</a>
              <a href="subject.html#6454">[ subject ]</a>
              <a href="author.html#6454">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello gentle (wo) men 

1-Re: Problem when registering Nokia E71	toOpenIMSCore
Find attached a file describing nokia S60 N97 configuration
for which i successfully register on OSIMS using AKAv1MD5 and UICC card. 
hope it could help 

2-my questions 
	- does someone know GBA development regarding OSIMS? 
	- where to find the latests features included in OSIMS? 

/br
 
Jean-yves Fine 
Gemalto - La Ciotat/la Vigie
+33(0)4 42 36 - 4567
 
-----Original Message-----
From: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-bounces at lists.berlios.de</A> [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-bounces at lists.berlios.de</A>] On Behalf Of <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-request at lists.berlios.de</A>
Sent: jeudi 19 ao&#251;t 2010 06:31
To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Subject: OpenIMSCore-Users Digest, Vol 46, Issue 24

Send OpenIMSCore-Users mailing list submissions to
	<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>

To subscribe or unsubscribe via the World Wide Web, visit
	<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
or, via email, send a message with subject or body 'help' to
	<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-request at lists.berlios.de</A>

You can reach the person managing the list at
	<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-owner at lists.berlios.de</A>

When replying, please edit your Subject line so it is more specific
than &quot;Re: Contents of OpenIMSCore-Users digest...&quot;


Today's Topics:

   1. Re: Anyone faced Error 479 with extra space?	//KIndly help
      (Franz Edler)
   2. Re: Anyone faced Error 479 with extra space?	//KIndly help
      (Franz Edler)
   3. Re: Problem when registering Nokia E71	toOpenIMSCore (Franz Edler)
   4. Re: Why does I-CSCF not add the port-number in	Via header
      field? (Thilo Bangert)
   5. Re: Why does I-CSCF not add the port-number	inVia header
      field? (Franz Edler)
   6. Re: Problem when registering Nokia E71 to	OpenIMSCore
      (Gemi Tsai ???)
   7. Re: Problem when registering Nokia E71	toOpenIMSCore
      (Alfa Sheffildi)
   8. Re: Problem when registering Nokia E71	toOpenIMSCore (Franz Edler)
   9. Re: Problem when registering Nokia E71	toOpenIMSCore (Franz Edler)


----------------------------------------------------------------------

Message: 1
Date: Wed, 18 Aug 2010 15:29:27 +0200
From: &quot;Franz Edler&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz.edler at technikum-wien.at</A>&gt;
To: &quot;'sougata pal'&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sougata.pal at gmail.com</A>&gt;
Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Subject: Re: [OpenIMSCore-Users] Anyone faced Error 479 with extra
	space?	//KIndly help
Message-ID: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">E299A820D6C8415D9C4EDB8778649195 at FranzEdlerPC</A>&gt;
Content-Type: text/plain;	charset=&quot;us-ascii&quot;

&gt;<i> I have increased the debug level to 4 in the I-CSCF and took the trace
</I>&gt;<i> file dump along with the error trace in the icscf console.
</I>
It is still not clear to me how this extra character to the portnumber comes
in. But it seems to be the root cause.
	ERROR: parse_uri: bad port in uri

Did you already re-install the database?

-franz



------------------------------

Message: 2
Date: Wed, 18 Aug 2010 15:30:25 +0200
From: &quot;Franz Edler&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz.edler at technikum-wien.at</A>&gt;
To: &quot;'sougata pal'&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sougata.pal at gmail.com</A>&gt;
Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Subject: Re: [OpenIMSCore-Users] Anyone faced Error 479 with extra
	space?	//KIndly help
Message-ID: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">7B05063F0ECA414BA97B20BCD5F69542 at FranzEdlerPC</A>&gt;
Content-Type: text/plain;	charset=&quot;us-ascii&quot;

&gt;<i> I have increased the debug level to 4 in the I-CSCF and took the trace
</I>&gt;<i> file dump along with the error trace in the icscf console.
</I>
It is still not clear to me how this extra character to the portnumber comes
in. But it seems to be the root cause.
	ERROR: parse_uri: bad port in uri

Did you already re-install the database?
Did you try another cli9ent (e.g. Mercuro)?

-franz



------------------------------

Message: 3
Date: Wed, 18 Aug 2010 15:41:58 +0200
From: &quot;Franz Edler&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz.edler at technikum-wien.at</A>&gt;
To: &quot;'Alfa Sheffildi'&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alfa.shf at gmail.com</A>&gt;,
	&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>&gt;
Subject: Re: [OpenIMSCore-Users] Problem when registering Nokia E71
	toOpenIMSCore
Message-ID: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">6BDE88B7BC6D45FAA7BAEEC7BE70D7DB at FranzEdlerPC</A>&gt;
Content-Type: text/plain;	charset=&quot;us-ascii&quot;

Hi,

&gt;<i> when im using wireshark to trace the packets, i found that the REGISTER
</I>&gt;<i> sip packet request had been received by the server, but no reply at all
</I>&gt;<i> from the server, then i look into the pcscf's debug screen and it said
</I>&gt;<i> &quot;Error : No authentication header&quot;.. I examine the SIP packet and actually
</I>&gt;<i> there is no authentication header there..
</I>
OpenIMS is able to handle registration with only SIP algorithm (MD5).
But therefore you have to enable in scscf.cfg
	# Let the HSS decide                                              
	modparam(&quot;scscf&quot;,&quot;registration_default_algorithm&quot;,&quot;HSS-Selected&quot;)
and in HSS (Private User Identity -IMPI-) Digest-MD5 should be enabled.

-franz




------------------------------

Message: 4
Date: Wed, 18 Aug 2010 16:10:01 +0200
From: Thilo Bangert &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">thilo.bangert at gmail.com</A>&gt;
To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Subject: Re: [OpenIMSCore-Users] Why does I-CSCF not add the
	port-number in	Via header field?
Message-ID: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">201008181610.02887.thilo.bangert at gmail.com</A>&gt;
Content-Type: Text/Plain;  charset=&quot;iso-8859-1&quot;

&quot;Franz Edler&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz.edler at technikum-wien.at</A>&gt; said:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> is there a specific reason fort his?
</I>&gt;<i> 
</I>
i'm just guessing: the icscf is responsible to receive messages for the 
whole domain, therefor it has to listen to port 5060 in order to support 
clients which dont support rfc3263. since it is listening on port 5060 it 
doesnt have to add the port to its via header...

&gt;<i> -franz
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OpenIMSCore-Users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>


------------------------------

Message: 5
Date: Wed, 18 Aug 2010 17:04:47 +0200
From: &quot;Franz Edler&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz.edler at technikum-wien.at</A>&gt;
To: &quot;'Thilo Bangert'&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">thilo.bangert at gmail.com</A>&gt;,
	&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>&gt;
Subject: Re: [OpenIMSCore-Users] Why does I-CSCF not add the
	port-number	inVia header field?
Message-ID: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">D695E2EC04554726B4BC22EE7DEBB17C at FranzEdlerPC</A>&gt;
Content-Type: text/plain;	charset=&quot;us-ascii&quot;

&gt;<i> i'm just guessing: the icscf is responsible to receive messages for the
</I>&gt;<i> whole domain, therefor it has to listen to port 5060 in order to support
</I>&gt;<i> clients which dont support rfc3263. since it is listening on port 5060 it
</I>&gt;<i> doesnt have to add the port to its via header...
</I>
Yes of course. That's true. Port 5060 is the default port.
Thanks.

Franz



------------------------------

Message: 6
Date: Thu, 19 Aug 2010 10:08:31 +0800
From: Gemi Tsai ??? &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">gemi.tsai at gmail.com</A>&gt;
To: Alfa Sheffildi &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alfa.shf at gmail.com</A>&gt;
Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Subject: Re: [OpenIMSCore-Users] Problem when registering Nokia E71 to
	OpenIMSCore
Message-ID:
	&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">AANLkTikxhkuLLUgp44w-zgGdGWkz7VFkhvUHE-ZmamfE at mail.gmail.com</A>&gt;
Content-Type: text/plain; charset=ISO-8859-1

Hi all,

My Nokia N95 sip client has the same problem.
Does anyone know what problem happen in the OpenIMSCore?

Thanks,
Gemi

On Wed, Aug 18, 2010 at 3:20 PM, Alfa Sheffildi &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alfa.shf at gmail.com</A>&gt; wrote:
&gt;<i> Hi..
</I>&gt;<i>
</I>&gt;<i> i've install OpenIMSCore and works well with UCTIMSClient, mercuro, my
</I>&gt;<i> monster.. Now, i'm trying to register my mobile device (Nokia E71) sip
</I>&gt;<i> client with OpenIMSCore.. but, it always failed.
</I>&gt;<i> when im using wireshark to trace the packets, i found that the REGISTER sip
</I>&gt;<i> packet request had been received by the server, but no reply at all from the
</I>&gt;<i> server, then i look into the pcscf's debug screen and it said &quot;Error : No
</I>&gt;<i> authentication header&quot;.. I examine the SIP packet and actually there is no
</I>&gt;<i> authentication header there..
</I>&gt;<i>
</I>&gt;<i> so, i tried to change service profile from IETF to Nokia 3GPP in Nokia's
</I>&gt;<i> built-in sip client software.. then, with wireshark, i found after REGISTER
</I>&gt;<i> sip packet received by the server 4 times, the server reply with &quot;Status:
</I>&gt;<i> 504 server time out&quot;.. the different are there was a reply from server and
</I>&gt;<i> when i examine the packet I found authentication header there..
</I>&gt;<i>
</I>&gt;<i> So, which configuration should I use in my E71 SIP client software? is it
</I>&gt;<i> possible to use sip client built-in on nokia e71 rather than using IMS
</I>&gt;<i> client for registering to OpenIMSCore? is there a need to change setting in
</I>&gt;<i> &quot;scscf.cfg&quot; or other sertting to make this works well ? (i already tried to
</I>&gt;<i> change scscf.cfg setting as explained at <A HREF="http://openimscore.org/node/74">http://openimscore.org/node/74</A>)
</I>&gt;<i>
</I>&gt;<i> thank you
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Alfa Sheffildi
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OpenIMSCore-Users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

------------------------------

Message: 7
Date: Thu, 19 Aug 2010 10:24:01 +0700
From: Alfa Sheffildi &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alfa.shf at gmail.com</A>&gt;
To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz.edler at technikum-wien.at</A>
Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Subject: Re: [OpenIMSCore-Users] Problem when registering Nokia E71
	toOpenIMSCore
Message-ID:
	&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">AANLkTikS6+UsNMOxbmbUfWO0GU16_y3_5hyLfcpB4LeD at mail.gmail.com</A>&gt;
Content-Type: text/plain; charset=&quot;iso-8859-1&quot;

Hi, Franz

Thx for ur reply before.. i've just tried configure the scscf.cfg and IMPI
default auth configuration in the hss as you say.. but, still the same
problem happen (both on IETF or Nokia 3GPP configuration in my sip client
software).. any other change should i configure?

On Wed, Aug 18, 2010 at 8:41 PM, Franz Edler
&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz.edler at technikum-wien.at</A>&gt;wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> &gt; when im using wireshark to trace the packets, i found that the REGISTER
</I>&gt;<i> &gt; sip packet request had been received by the server, but no reply at all
</I>&gt;<i> &gt; from the server, then i look into the pcscf's debug screen and it said
</I>&gt;<i> &gt; &quot;Error : No authentication header&quot;.. I examine the SIP packet and
</I>&gt;<i> actually
</I>&gt;<i> &gt; there is no authentication header there..
</I>&gt;<i>
</I>&gt;<i> OpenIMS is able to handle registration with only SIP algorithm (MD5).
</I>&gt;<i> But therefore you have to enable in scscf.cfg
</I>&gt;<i>        # Let the HSS decide
</I>&gt;<i>        modparam(&quot;scscf&quot;,&quot;registration_default_algorithm&quot;,&quot;HSS-Selected&quot;)
</I>&gt;<i> and in HSS (Private User Identity -IMPI-) Digest-MD5 should be enabled.
</I>&gt;<i>
</I>&gt;<i> -franz
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20100819/3fd5a9ae/attachment-0001.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20100819/3fd5a9ae/attachment-0001.html</A>&gt;

------------------------------

Message: 8
Date: Thu, 19 Aug 2010 05:34:05 +0200
From: &quot;Franz Edler&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz.edler at technikum-wien.at</A>&gt;
To: &quot;'Alfa Sheffildi'&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alfa.shf at gmail.com</A>&gt;
Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Subject: Re: [OpenIMSCore-Users] Problem when registering Nokia E71
	toOpenIMSCore
Message-ID: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">B25FBC7BE9EB47F1BC72EFCAAF94DBE0 at FranzEdlerPC</A>&gt;
Content-Type: text/plain;	charset=&quot;us-ascii&quot;

&gt;<i> Thx for ur reply before.. i've just tried configure the scscf.cfg and IMPI
</I>&gt;<i> default auth configuration in the hss as you say.. but, still the same
</I>&gt;<i> problem happen (both on IETF or Nokia 3GPP configuration in my sip client
</I>&gt;<i> software).. any other change should i configure?
</I>
Add a core tracefile.

-franz



------------------------------

Message: 9
Date: Thu, 19 Aug 2010 06:31:10 +0200
From: &quot;Franz Edler&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz.edler at technikum-wien.at</A>&gt;
To: &quot;'Alfa Sheffildi'&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alfa.shf at gmail.com</A>&gt;
Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Subject: Re: [OpenIMSCore-Users] Problem when registering Nokia E71
	toOpenIMSCore
Message-ID: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">AB47C88B2621458E91B9A07FFDB3865C at FranzEdlerPC</A>&gt;
Content-Type: text/plain;	charset=&quot;us-ascii&quot;

Hi,

&gt;<i> Here is it, attached file &quot;tracefile3GPP&quot; when using 3GPP configuration &amp;
</I>&gt;<i> &quot;tracefileIETF&quot; when using IETF configuration..
</I>
When you look into the tracefile you can see that your client is producing
an endless loop in P-CSCF. The reason for that might be the Route header:
	Route: &lt;sip:192.168.102.12:4060;lr&gt;
which is not eliminated by P-CSCF. The authentication in S-CSCF is not done
so far.

Try to eliminate this header or use a FQDN instead of the numeric address.
If the problem persists add a P-CSCF log.

- franz




------------------------------

_______________________________________________
OpenIMSCore-Users mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>


End of OpenIMSCore-Users Digest, Vol 46, Issue 24
*************************************************
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: NokiaS60-SIPprofile-congiguration.txt
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20100819/0e6a9051/attachment.txt">https://lists.berlios.de/pipermail/openimscore-users/attachments/20100819/0e6a9051/attachment.txt</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006453.html">[OpenIMSCore-Users] Problem when registering Nokia E71	toOpenIMSCore
</A></li>
	<LI>Next message: <A HREF="006455.html">[OpenIMSCore-Users] Problem when registering Nokia	E71toOpenIMSCore
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6454">[ date ]</a>
              <a href="thread.html#6454">[ thread ]</a>
              <a href="subject.html#6454">[ subject ]</a>
              <a href="author.html#6454">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
