<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] Disappearing IPsec security associations
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2008-November/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Disappearing%20IPsec%20security%20associations&In-Reply-To=%3C200811201425.27354%40dors.rombobeorn.se%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004862.html">
   <LINK REL="Next"  HREF="004871.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] Disappearing IPsec security associations</H1>
    <B>Bj&#246;rn Persson</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Disappearing%20IPsec%20security%20associations&In-Reply-To=%3C200811201425.27354%40dors.rombobeorn.se%3E"
       TITLE="[OpenIMSCore-Users] Disappearing IPsec security associations">bjorn.persson at softwell.se
       </A><BR>
    <I>Thu Nov 20 14:25:13 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="004862.html">[OpenIMSCore-Users] Disappearing IPsec security associations
</A></li>
        <LI>Next message: <A HREF="004871.html">[OpenIMSCore-Users] Disappearing IPsec security associations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4864">[ date ]</a>
              <a href="thread.html#4864">[ thread ]</a>
              <a href="subject.html#4864">[ subject ]</a>
              <a href="author.html#4864">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Bj&#246;rn Persson wrote:
&gt;<i> an attempt to add an SA is rejected with an error code of 17.
</I>
I've tested some more and noticed that this seems to happen when the SPI is 
the same as in an existent SA. This note in RFC 2367 seems relevant:

       NOTE: Some security association types do not use a source
              address for SA identification, where others do.  This may
              cause EEXIST errors for some SA types where others do not
              report collisions.  It is expected that application
              authors know enough about the underlying security
              association types to understand these differences.

Apparently this is a case where the source address is not used. The P-CSCF 
should choose different SPIs for different clients.

Bj&#246;rn Persson
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part.
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20081120/65d2a1d7/attachment.pgp">https://lists.berlios.de/pipermail/openimscore-users/attachments/20081120/65d2a1d7/attachment.pgp</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004862.html">[OpenIMSCore-Users] Disappearing IPsec security associations
</A></li>
	<LI>Next message: <A HREF="004871.html">[OpenIMSCore-Users] Disappearing IPsec security associations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4864">[ date ]</a>
              <a href="thread.html#4864">[ thread ]</a>
              <a href="subject.html#4864">[ subject ]</a>
              <a href="author.html#4864">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
