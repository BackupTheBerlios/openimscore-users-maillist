<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] about run IMS-communicator with	OpenIMSCore.(403 Forbidden - HSS User Unknown)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2010-July/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20about%20run%20IMS-communicator%20with%0A%09OpenIMSCore.%28403%20Forbidden%20-%20HSS%20User%20Unknown%29&In-Reply-To=%3CAANLkTil9XMTNhzKPzT0JaNDr6KZ4_efsW8mzBcUIM6pE%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006309.html">
   <LINK REL="Next"  HREF="006308.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] about run IMS-communicator with	OpenIMSCore.(403 Forbidden - HSS User Unknown)</H1>
    <B>&#26753;&#27888;&#20262;</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20about%20run%20IMS-communicator%20with%0A%09OpenIMSCore.%28403%20Forbidden%20-%20HSS%20User%20Unknown%29&In-Reply-To=%3CAANLkTil9XMTNhzKPzT0JaNDr6KZ4_efsW8mzBcUIM6pE%40mail.gmail.com%3E"
       TITLE="[OpenIMSCore-Users] about run IMS-communicator with	OpenIMSCore.(403 Forbidden - HSS User Unknown)">liangtailun at gmail.com
       </A><BR>
    <I>Tue Jul  6 14:32:31 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006309.html">[OpenIMSCore-Users] Usage of Module options.so in scscf.cfg
</A></li>
        <LI>Next message: <A HREF="006308.html">[OpenIMSCore-Users] about run IMS-communicator	withOpenIMSCore.(403 Forbidden - HSS User Unknown)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6305">[ date ]</a>
              <a href="thread.html#6305">[ thread ]</a>
              <a href="subject.html#6305">[ subject ]</a>
              <a href="author.html#6305">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,everyone.
I run IMS-Communicator with OpenIMSCore,and encounter some problem.

follow is the packet I capture use wireshark:
---------------------------------------------------------------------------
REGISTER sip:open-ims.test SIP/2.0
Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">fa34ccc0f06f3332d68362c0d715ccde at 59.64.164.209</A>
CSeq: 1 REGISTER
From: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=30254491
To: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;
Via: SIP/2.0/UDP
59.64.164.209:51341;branch=z9hG4bK9ee3349a3c8f0163a3d68b5cdb39ddf8

Max-Forwards: 70
Expires: 3600
P-Access-Network-Info: IEEE-802.11
Authorization: Digest
username=&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&quot;,realm=&quot;open-ims.test&quot;,nonce=&quot;&quot;,uri=&quot;open-ims.test&quot;,response=&quot;&quot;,algorithm=AKAv1-MD5

User-Agent: IMS-Communicator 081209
Supported: path
Contact: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at 59.64.164.209</A>:51341&gt;
Content-Length: 0

SIP/2.0 401 Unauthorized - Challenging the UE
Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">fa34ccc0f06f3332d68362c0d715ccde at 59.64.164.209</A>
CSeq: 1 REGISTER
From: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=30254491
To: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=6f13a13b99522e9a224b8644bd5b9b93-08de
Via: SIP/2.0/UDP
59.64.164.209:51341;rport=51341;branch=z9hG4bK9ee3349a3c8f0163a3d68b5cdb39ddf8

Path: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">term at pcscf.open-ims.test</A>:4060;lr&gt;
Service-Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">orig at scscf.open-ims.test</A>:6060;lr&gt;
Allow: INVITE, ACK, CANCEL, OPTIONS, BYE, REFER, SUBSCRIBE, NOTIFY, PUBLISH,
MESSAGE, INFO
Server: Sip EXpress router (2.1.0-dev1 OpenIMSCore (i386/linux))
Content-Length: 0
Warning: 392 59.64.164.199:6060 &quot;Noisy feedback tells:  pid=6648
req_src_ip=59.64.164.233 req_src_port=5060
in_uri=sip:scscf.open-ims.test:6060 out_uri=sip:scscf.open-ims.test:6060
via_cnt==3&quot;
WWW-Authenticate: Digest realm=&quot;open-ims.test&quot;,
nonce=&quot;IRz/vdocppLMOE6LUXc0nBy/aV9TlQAAQjvfrjUNyrU=&quot;, algorithm=AKAv1-MD5,
qop=&quot;auth,auth-int&quot;

REGISTER sip:open-ims.test SIP/2.0
Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">fa34ccc0f06f3332d68362c0d715ccde at 59.64.164.209</A>
CSeq: 2 REGISTER
Via: SIP/2.0/UDP
59.64.164.209:51341;branch=z9hG4bKa637a60dbcee86b5dc581b48f57db6b5

Max-Forwards: 70
Expires: 3600
P-Access-Network-Info: IEEE-802.11
User-Agent: IMS-Communicator 081209
Supported: path
Contact: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at 59.64.164.209</A>:51341&gt;
Authorization: Digest
username=&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&quot;,realm=&quot;open-ims.test&quot;,nonce=&quot;IRz/vdocppLMOE6LUXc0nBy/aV9TlQAAQjvfrjUNyrU=&quot;,uri=&quot;sip:open-ims.test&quot;,response=&quot;6c4eea71ccdddeb31b2ed093ed27d2ff&quot;,algorithm=AKAv1-MD5,qop=auth-int,cnonce=&quot;0a4f113b&quot;,nc=00000001,auts=&quot;x8iQgl/jCy5AQi5GwAM=&quot;

From: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=30254491
To: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;
Content-Length: 0

SIP/2.0 401 Unauthorized - Challenging the UE
Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">fa34ccc0f06f3332d68362c0d715ccde at 59.64.164.209</A>
CSeq: 2 REGISTER
Via: SIP/2.0/UDP
59.64.164.209:51341;rport=51341;branch=z9hG4bKa637a60dbcee86b5dc581b48f57db6b5

From: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=30254491
To: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=6f13a13b99522e9a224b8644bd5b9b93-7060
Path: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">term at pcscf.open-ims.test</A>:4060;lr&gt;
Service-Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">orig at scscf.open-ims.test</A>:6060;lr&gt;
Allow: INVITE, ACK, CANCEL, OPTIONS, BYE, REFER, SUBSCRIBE, NOTIFY, PUBLISH,
MESSAGE, INFO
Server: Sip EXpress router (2.1.0-dev1 OpenIMSCore (i386/linux))
Content-Length: 0
Warning: 392 59.64.164.199:6060 &quot;Noisy feedback tells:  pid=6645
req_src_ip=59.64.164.233 req_src_port=5060
in_uri=sip:scscf.open-ims.test:6060 out_uri=sip:scscf.open-ims.test:6060
via_cnt==3&quot;
WWW-Authenticate: Digest realm=&quot;open-ims.test&quot;,
nonce=&quot;crkCI+Ov+Wyc1gSGLxDlycOd16042gAA/JW0CFQyNBs=&quot;, algorithm=AKAv1-MD5,
qop=&quot;auth,auth-int&quot;

REGISTER sip:open-ims.test SIP/2.0
Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">fa34ccc0f06f3332d68362c0d715ccde at 59.64.164.209</A>
CSeq: 3 REGISTER
Via: SIP/2.0/UDP
59.64.164.209:51341;branch=z9hG4bK9bae8944eb92823f4b4f66ff06d374ac

Max-Forwards: 70
Expires: 3600
P-Access-Network-Info: IEEE-802.11
User-Agent: IMS-Communicator 081209
Supported: path
Contact: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at 59.64.164.209</A>:51341&gt;
Authorization: Digest
username=&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&quot;,realm=&quot;open-ims.test&quot;,nonce=&quot;crkCI+Ov+Wyc1gSGLxDlycOd16042gAA/JW0CFQyNBs=&quot;,uri=&quot;sip:open-ims.test&quot;,response=&quot;aa68a7ed7a7eb3e43228255369753097&quot;,algorithm=AKAv1-MD5,qop=auth-int,cnonce=&quot;0a4f113b&quot;,nc=00000001,auts=&quot;+fyZXETCrFBt0yTDqFk=&quot;

From: &quot;bob&quot; &lt;sip:@open-ims.test&gt;;tag=30254491
To: &quot;bob&quot; &lt;sip:@open-ims.test&gt;
Content-Length: 0

SIP/2.0 403 Forbidden - HSS User Unknown
Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">fa34ccc0f06f3332d68362c0d715ccde at 59.64.164.209</A>
CSeq: 3 REGISTER
Via: SIP/2.0/UDP
59.64.164.209:51341;rport=51341;branch=z9hG4bK9bae8944eb92823f4b4f66ff06d374ac

From: &quot;bob&quot; &lt;sip:@open-ims.test&gt;;tag=30254491
To: &quot;bob&quot; &lt;sip:@open-ims.test&gt;;tag=63360d1e61077448e2b197cbf83c5bab-b83c
Server: Sip EXpress router (2.1.0-dev1 OpenIMSCore (i386/linux))
Content-Length: 0
Warning: 392 59.64.164.233:5060 &quot;Noisy feedback tells:  pid=2793
req_src_ip=59.64.164.233 req_src_port=4060 in_uri=sip:open-ims.test
out_uri=sip:open-ims.test via_cnt==2&quot;

------------------------------------------------------------------------------------

I use uctimsclient to test the OpenIMSCore,it work well.
but when I use IMS-communicator to run with OpenIMSCore it encounter some
problem.And I also copy some error that output in the terminal which run the
FHoSS

2010-07-06 19:53:35,284 DEBUG de.fhg.fokus.hss.main.Task - execute
Processing UAR!
de.fhg.fokus.hss.cx.CxExperimentalResultException:
IMS_Diameter_Error_User_Unknown
    at de.fhg.fokus.hss.cx.op.UAR.processRequest(UAR.java:115)
    at de.fhg.fokus.hss.main.Task.execute(Task.java:169)
    at de.fhg.fokus.hss.main.Worker.run(Worker.java:66)

BTW,Is there has some useful webside that I can learn how to write a IMS
client?

thanks for your help.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20100706/46ed2cdd/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20100706/46ed2cdd/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006309.html">[OpenIMSCore-Users] Usage of Module options.so in scscf.cfg
</A></li>
	<LI>Next message: <A HREF="006308.html">[OpenIMSCore-Users] about run IMS-communicator	withOpenIMSCore.(403 Forbidden - HSS User Unknown)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6305">[ date ]</a>
              <a href="thread.html#6305">[ thread ]</a>
              <a href="subject.html#6305">[ subject ]</a>
              <a href="author.html#6305">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
