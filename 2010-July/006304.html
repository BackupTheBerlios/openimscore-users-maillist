<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] Connect between OpenIMSCore and Mobicents AS
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2010-July/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Connect%20between%20OpenIMSCore%20and%20Mobicents%20AS&In-Reply-To=%3CAANLkTinO6-5C3zROi7WqFMOb1jsMQCI04LYBBuBUtEd1%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006302.html">
   <LINK REL="Next"  HREF="006307.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] Connect between OpenIMSCore and Mobicents AS</H1>
    <B>tran quoc tuan</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Connect%20between%20OpenIMSCore%20and%20Mobicents%20AS&In-Reply-To=%3CAANLkTinO6-5C3zROi7WqFMOb1jsMQCI04LYBBuBUtEd1%40mail.gmail.com%3E"
       TITLE="[OpenIMSCore-Users] Connect between OpenIMSCore and Mobicents AS">tuantq84 at gmail.com
       </A><BR>
    <I>Tue Jul  6 11:17:58 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006302.html">[OpenIMSCore-Users] Connect between OpenIMSCore and Mobicents AS
</A></li>
        <LI>Next message: <A HREF="006307.html">[OpenIMSCore-Users] Connect between OpenIMSCore and Mobicents AS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6304">[ date ]</a>
              <a href="thread.html#6304">[ thread ]</a>
              <a href="subject.html#6304">[ subject ]</a>
              <a href="author.html#6304">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
I have found a problem of authentication between OpenIMSCore and Sipp
I have run scenario to test IMS client connect IMS Core. And I have a
problem of authentication with IMS Core.
Next my scenario is based in a scenario following link :
<A HREF="http://sipp.sourceforge.net/wiki/index.php/REGISTER&lt;http://www.google.com/url?sa=D&amp;q=http://sipp.sourceforge.net/wiki/index.php/REGISTER&amp;usg=AFQjCNFr71TG10ri2gI9Oi4u7CzcyDnDQg">http://sipp.sourceforge.net/wiki/index.php/REGISTER&lt;http://www.google.com/url?sa=D&amp;q=http://sipp.sourceforge.net/wiki/index.php/REGISTER&amp;usg=AFQjCNFr71TG10ri2gI9Oi4u7CzcyDnDQg</A>&gt;
Command line:  # ./sipp -sf reg-bob.xml 157.159.16.91:4060 -i 157.159.16.91
-p 5061 -m 1
In that scenario with user
b...&lt;<A HREF="http://groups.google.com/groups/unlock?_done=/group/mobicents-public/browse_thread/thread/7934a9d6cce3165a/f7d80d86c262bbc7&amp;msg=1cb6d65a9d671c1c">http://groups.google.com/groups/unlock?_done=/group/mobicents-public/browse_thread/thread/7934a9d6cce3165a/f7d80d86c262bbc7&amp;msg=1cb6d65a9d671c1c</A>&gt;@open-ims.test,
the process happens :
                                            Messages  Retrans   Timeout
Unexpected-Msg
    REGISTER ----------&gt;                   1         0         0
          401       &lt;----------  E-RTD1     1         0        0
       0
    REGISTER ----------&gt;                    1         0         0
                200 &lt;----------                      0         0         0
                1
with error :
2010-07-06      09:47:28:872    1278402448.872660: Aborting call on
unexpected
message for Call-Id
'1-3...&lt;<A HREF="http://groups.google.com/groups/unlock?_done=/group/mobicents-public/browse_thread/thread/7934a9d6cce3165a/f7d80d86c262bbc7&amp;msg=1cb6d65a9d671c1c">http://groups.google.com/groups/unlock?_done=/group/mobicents-public/browse_thread/thread/7934a9d6cce3165a/f7d80d86c262bbc7&amp;msg=1cb6d65a9d671c1c</A>&gt;
@157.159.16.91': while expecting
'200' (index 3), received 'SIP/2.0 401 Unauthorized - Challenging the
UE
Via: SIP/2.0/UDP 157.159.16.91:5061;rport=5061;
branch=z9hG4bK-3473-1-2
From: &quot;bob&quot; &lt;sip:b...&lt;<A HREF="http://groups.google.com/groups/unlock?_done=/group/mobicents-public/browse_thread/thread/7934a9d6cce3165a/f7d80d86c262bbc7&amp;msg=1cb6d65a9d671c1c">http://groups.google.com/groups/unlock?_done=/group/mobicents-public/browse_thread/thread/7934a9d6cce3165a/f7d80d86c262bbc7&amp;msg=1cb6d65a9d671c1c</A>&gt;@open-ims.test&gt;;tag=1

To: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-</A>
ims.test&gt;;tag=cafb408f4106b91f321a940503e3d367-5ce7
Call-ID: reg///1-3...&lt;<A HREF="http://groups.google.com/groups/unlock?_done=/group/mobicents-public/browse_thread/thread/7934a9d6cce3165a/f7d80d86c262bbc7&amp;msg=1cb6d65a9d671c1c">http://groups.google.com/groups/unlock?_done=/group/mobicents-public/browse_thread/thread/7934a9d6cce3165a/f7d80d86c262bbc7&amp;msg=1cb6d65a9d671c1c</A>&gt;
@157.159.16.91
CSeq: 2 REGISTER
Path: &lt;sip:t...&lt;<A HREF="http://groups.google.com/groups/unlock?_done=/group/mobicents-public/browse_thread/thread/7934a9d6cce3165a/f7d80d86c262bbc7&amp;msg=1cb6d65a9d671c1c">http://groups.google.com/groups/unlock?_done=/group/mobicents-public/browse_thread/thread/7934a9d6cce3165a/f7d80d86c262bbc7&amp;msg=1cb6d65a9d671c1c</A>&gt;@pcscf.open-ims.test:4060;lr&gt;

Service-Route: &lt;sip:o...&lt;<A HREF="http://groups.google.com/groups/unlock?_done=/group/mobicents-public/browse_thread/thread/7934a9d6cce3165a/f7d80d86c262bbc7&amp;msg=1cb6d65a9d671c1c">http://groups.google.com/groups/unlock?_done=/group/mobicents-public/browse_thread/thread/7934a9d6cce3165a/f7d80d86c262bbc7&amp;msg=1cb6d65a9d671c1c</A>&gt;@scscf.open-ims.test:6060;lr&gt;

Allow: INVITE, ACK, CANCEL, OPTIONS, BYE, REFER, SUBSCRIBE, NOTIFY,
PUBLISH, MESSAGE, INFO
Server: Sip EXpress router (2.1.0-dev1 OpenIMSCore (i386/linux))
Content-Length: 0
Warning: 392 157.159.16.91:6060 &quot;Noisy feedback tells:  pid=3209
req_src_ip=157.159.16.91 req_src_port=5060 in_uri=sip:scscf.open-
ims.test:6060 out_uri=sip:scscf.open-ims.test:6060 via_cnt==3&quot;
WWW-Authenticate: Digest realm=&quot;open-ims.test&quot;,
nonce=&quot;56570588304f2cae2567203e21dcd9d1&quot;, algorithm=MD5,
qop=&quot;auth,auth-int&quot;

I think it has problem in fourth message. It means that OpenIMS must reply
message 200 OK but it has replied message 401 and it has error
authentication with method MD5. Additionally, I have tested UCT IMS Client,
this client runs well with 4 messages : REGISTER, 401, REGISTER; 200 OK. I
think that OpenIMSCore don't has error and Sipp can have error in the
authentication MD5 with command :
[authentication
username=...&lt;<A HREF="http://groups.google.com/groups/unlock?_done=/group/mobicents-public/browse_thread/thread/7934a9d6cce3165a/f7d80d86c262bbc7&amp;msg=1cb6d65a9d671c1c">http://groups.google.com/groups/unlock?_done=/group/mobicents-public/browse_thread/thread/7934a9d6cce3165a/f7d80d86c262bbc7&amp;msg=1cb6d65a9d671c1c</A>&gt;@open-ims.test
password=bob]
And I have installed Sipp with 2 methods :
- Installed package : sip-tester in Ubuntu and it has error :
Segmentation faut when I runs this script screnario
- Compiled from source code and it has this above error.

Please tell me about to solve problem of authentication between Sipp and
OpenIMSCore
Thank in advance for all helps
T.Q.Tuan


On Mon, Jul 5, 2010 at 8:40 PM, Franz Edler
&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz.edler at technikum-wien.at</A>&gt;wrote:

&gt;<i> Hi Tran,
</I>&gt;<i>
</I>&gt;<i> &gt; What are additives parameters that I must configure OpenIMSCore and
</I>&gt;<i> &gt; Mobicents AS ?
</I>&gt;<i>
</I>&gt;<i> There are two issues which you mention in your e-mail and you should solve
</I>&gt;<i> separately:
</I>&gt;<i>
</I>&gt;<i> a) the trigger point
</I>&gt;<i>
</I>&gt;<i> &gt; And I have created a scenario to test connect Mobicent AS and OpenIMSCore
</I>&gt;<i> &gt; with client Sipp but OpenIMSCore didn't forwarded message REGISTER from
</I>&gt;<i> &gt; client to Mobicents AS.
</I>&gt;<i>
</I>&gt;<i> b) your SIPp scenario:
</I>&gt;<i>
</I>&gt;<i> &gt; This is error of Sipp:
</I>&gt;<i> &gt; 2010-07-05    15:30:13:855    1278336613.855996: Aborting call on
</I>&gt;<i> &gt; unexpected message for Call-Id '<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1-8755 at 157.159.16.91</A>': while expecting
</I>&gt;<i> &gt; '200' (index 3), received 'SIP/2.0 401 Unauthorized - Challenging the UE
</I>&gt;<i>
</I>&gt;<i> You should try to solve the first issue and afterwards check the message
</I>&gt;<i> flow to adapt your SIPp scenario accoredingly.
</I>&gt;<i>
</I>&gt;<i> If there are still issues you should add a core-trace-file.
</I>&gt;<i>
</I>&gt;<i> Franz
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20100706/4f67b940/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20100706/4f67b940/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006302.html">[OpenIMSCore-Users] Connect between OpenIMSCore and Mobicents AS
</A></li>
	<LI>Next message: <A HREF="006307.html">[OpenIMSCore-Users] Connect between OpenIMSCore and Mobicents AS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6304">[ date ]</a>
              <a href="thread.html#6304">[ thread ]</a>
              <a href="subject.html#6304">[ subject ]</a>
              <a href="author.html#6304">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
