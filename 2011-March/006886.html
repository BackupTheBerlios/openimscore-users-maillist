<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] RV: Getting 400 Bad Request - Not following	indicated Service-Routes in a call try between two sip clients
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2011-March/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20RV%3A%20Getting%20400%20Bad%20Request%20-%20Not%20following%0A%09indicated%20Service-Routes%20in%20a%20call%20try%20between%20two%20sip%20clients&In-Reply-To=%3C002501cbd80a%24c877ad30%2459670790%24%40gbt.tfo.upm.es%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006898.html">
   <LINK REL="Next"  HREF="006887.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] RV: Getting 400 Bad Request - Not following	indicated Service-Routes in a call try between two sip clients</H1>
    <B>Pedro Moreno</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20RV%3A%20Getting%20400%20Bad%20Request%20-%20Not%20following%0A%09indicated%20Service-Routes%20in%20a%20call%20try%20between%20two%20sip%20clients&In-Reply-To=%3C002501cbd80a%24c877ad30%2459670790%24%40gbt.tfo.upm.es%3E"
       TITLE="[OpenIMSCore-Users] RV: Getting 400 Bad Request - Not following	indicated Service-Routes in a call try between two sip clients">pmoreno at gbt.tfo.upm.es
       </A><BR>
    <I>Tue Mar  1 13:18:28 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006898.html">[OpenIMSCore-Users] scscf load balancing
</A></li>
        <LI>Next message: <A HREF="006887.html">[OpenIMSCore-Users] RV: Getting 400 Bad Request - Not	following	indicated Service-Routes in a call try between two	sip clients
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6886">[ date ]</a>
              <a href="thread.html#6886">[ thread ]</a>
              <a href="subject.html#6886">[ subject ]</a>
              <a href="author.html#6886">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

Searching in the Open-IMS mailing list I've solved the receiving of 400 Bad
Request. The solution was a change in pcscf.cfg file. But now, when I send
an invite I receive nothing. I post the traces captured with wireshark: one
belonging to an invite made with an IMS Communicator, which I've been able
to establish the call, and the other made with my sip Application

INVITE sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at open-ims.test</A> SIP/2.0
Call-ID:  &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">0eacad596fd47b5a576b5ce072b73f76 at 138.4.10.105</A>&gt;
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">0eacad596fd47b5a576b5ce072b73f76 at 138.4.10.105</A>
CSeq: 1 INVITE
From: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=4744654
To: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at open-ims.test</A>&gt;
Via: SIP/2.0/UDP
138.4.10.105:4060;branch=z9hG4bK9e84ffa9bdc9fd098a75455e514f2ca4
Max-Forwards: 70
Contact: &lt; &lt;<A HREF="http://sip:bob@138.4.10.105:4060">http://sip:bob@138.4.10.105:4060</A>&gt; sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at 138.4.10.105</A>:4060&gt;
Route:
&lt;sip:138.4.10.70:4060;transport=udp&gt;,&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">orig at scscf.open-ims.test</A>:6060;lr&gt;
Allow: INVITE,ACK,CANCEL,BYE,MESSAGE,PRACK,UPDATE
P-Preferred-Identity: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;
Supported: 100rel,precondition,early-session
P-Access-Network-Info: IEEE-802.11
User-Agent: IMS-Communicator 081209
Content-Type: application/sdp
Content-Length: 660

v=0
o=- 0 0 IN IP4 138.4.10.105
s=-
c=IN IP4 138.4.10.105
t=0 0
m=audio 22224 RTP/AVP 0 3 4 5 6 8 15 18
b=AS:25
a=sendrecv
a=rtpmap:0 ULAW/8000
a=rtpmap:3 gsm/8000
a=rtpmap:4 g723/8000
a=rtpmap:5 dvi/8000
a=rtpmap:6 dvi/16000
a=rtpmap:8 alaw/8000
a=rtpmap:15 g728/8000
a=rtpmap:18 g729/8000
a=curr:qos local none
a=curr:qos remote none
a=des:qos mandatory local sendrecv
a=des:qos none remote sendrecv
m=video 22222 RTP/AVP 34 26 31
b=AS:75
a=sendrecv
a=rtpmap:34 h263/90000
a=rtpmap:26 jpeg/90000
a=rtpmap:31 h261/90000
a=curr:qos local none
a=curr:qos remote none
a=des:qos mandatory local sendrecv
a=des:qos none remote sendrecv

The latter invite: 

INVITE sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at open-ims.test</A> SIP/2.0
Call-ID:  &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">45e1ec3165578724821c4ac7fdd102ef at 0.0.0.0</A>&gt;
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">45e1ec3165578724821c4ac7fdd102ef at 0.0.0.0</A>
CSeq: 1 INVITE
From: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=e3c0faa5
To: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at open-ims.test</A>&gt;
Via: SIP/2.0/UDP
138.4.10.105:5060;branch=z9hG4bK087a2c5e45ef0d6508855cf4a987b7db
Max-Forwards: 70
Contact: &quot;bob&quot;
&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at 138.4.10.105</A>:5060;transport=udp;registering_acc=open-ims_test&gt;,&quot;bob
&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at 138.4.10.105</A>:5060;transport=udp;registering_acc=open-ims_test&gt;
User-Agent: SIP Communicator1.0-alpha3-0.build.by.SVNWindows XP
Content-Type: application/sdp
Content-Length: 295

v=0
o=bob 0 0 IN IP4 138.4.10.105
s=-
c=IN IP4 138.4.10.105
t=0 0
m=audio 5000 RTP/AVP 0 8 97 3 5 4
a=rtpmap:4 G723/8000
a=fmtp:4 annexa=no;bitrate=6.3
m=video 5002 RTP/AVP 34
a=rtpmap:34 H263/90000
a=fmtp:34 QCIF=1;CIF=1 
a=alt:1 1 : Fe3MhW6r klHmb8cw 138.4.10.105 5002
a=sendrecv

Does anyone have any idea??

Thanks in advance

 

 

Pedro Antonio Moreno S&#225;nchez
Telecommunication Engineer &amp; Researcher
Bioengineering and Telemedicine Group
ETSI Telecomunicaci&#243;n - UPM B.303.
Ciudad Universitaria s/n
28040 MADRID - SPAIN

Tel. +34 91 549 57 00 ext. 3407
Fax + 34 91 336 68 28
e-mail:  &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">pmoreno at gbt.tfo.upm.es</A>&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">pmoreno at gbt.tfo.upm.es</A>

P   Antes de imprimir este e-mail piense bien si es necesario hacerlo

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20110301/154768e3/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20110301/154768e3/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006898.html">[OpenIMSCore-Users] scscf load balancing
</A></li>
	<LI>Next message: <A HREF="006887.html">[OpenIMSCore-Users] RV: Getting 400 Bad Request - Not	following	indicated Service-Routes in a call try between two	sip clients
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6886">[ date ]</a>
              <a href="thread.html#6886">[ thread ]</a>
              <a href="subject.html#6886">[ subject ]</a>
              <a href="author.html#6886">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
