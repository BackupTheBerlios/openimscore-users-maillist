<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] 403 - Forbidden - HSS returned	no	authentication vectors
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2007-February/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20403%20-%20Forbidden%20-%20HSS%0A%20returned%09no%09authentication%20vectors&In-Reply-To=%3COF6917F73F.FDFFC57F-ONC1257282.0035A1E7-C1257282.003630BD%40go.com.mt%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000792.html">
   <LINK REL="Next"  HREF="000795.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] 403 - Forbidden - HSS returned	no	authentication vectors</H1>
    <B>Josef.Bajada at go.com.mt</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20403%20-%20Forbidden%20-%20HSS%0A%20returned%09no%09authentication%20vectors&In-Reply-To=%3COF6917F73F.FDFFC57F-ONC1257282.0035A1E7-C1257282.003630BD%40go.com.mt%3E"
       TITLE="[OpenIMSCore-Users] 403 - Forbidden - HSS returned	no	authentication vectors">Josef.Bajada at go.com.mt
       </A><BR>
    <I>Wed Feb 14 10:51:59 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000792.html">[OpenIMSCore-Users] 403 - Forbidden - HSS returned	no	authentication vectors
</A></li>
        <LI>Next message: <A HREF="000795.html">[OpenIMSCore-Users] 403 - Forbidden -	HSS	returned	no	authentication vectors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#794">[ date ]</a>
              <a href="thread.html#794">[ thread ]</a>
              <a href="subject.html#794">[ subject ]</a>
              <a href="author.html#794">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Dragos, Peter and all,

I havent managed to collect the traces yet, because I do not have any 
indication after how much time the No Authentication Vectors error occurs. 
However I collected some logs from the FHoSS, maybe these shed some light 
on what I have wrong. Seems like I also still have some host configured 
wrongly, but the time of the log is different from when the exception 
occurs. (I cant access the documentation either, 
<A HREF="http://www.openimscore.org">http://www.openimscore.org</A> seems down?)

This is what I have seen in hss.server.log :

2007-02-14 09:32:44,685 [main] WARN 
org.apache.catalina.connector.MapperListener  - Unknown default host: 
localhost
2007-02-14 09:32:56,244 [main] WARN 
org.hibernate.impl.SessionFactoryObjectFactory  - InitialContext did not 
implement EventContext
2007-02-14 10:27:22,249 [Thread-7] ERROR 
de.fhg.fokus.hss.server.cx.op.AuthCxOperation  - 
de.fhg.fokus.hss.server.cx.op.AuthCxOperat
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">ion at 14f1726</A>[
  scscfName=sip:scscf.open-ims.test:6060
  authenticationVector=<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">de.fhg.fokus.cx.AuthenticationVector at 178c490</A>
  numberOfAuthVectors=1
]
java.security.NoSuchAlgorithmException
        at 
de.fhg.fokus.hss.server.cx.op.AuthCxOperation.generateAuthenticationVectors(AuthCxOperation.java:195)
        at 
de.fhg.fokus.hss.server.cx.op.AuthCxOperation.execute(AuthCxOperation.java:148)
        at 
de.fhg.fokus.hss.server.cx.HSScxOperationsImpl.cxAuthData(HSScxOperationsImpl.java:153)
        at 
de.fhg.fokus.hss.diam.cx.MARCommandListener.recvMessage(MARCommandListener.java:119)
        at 
de.fhg.fokus.diameter.DiameterPeer.DiameterWorker.run(DiameterWorker.java:100)
2007-02-14 10:33:26,915 [Thread-8] ERROR 
de.fhg.fokus.hss.diam.CommandAction  - HSS tryed to send PPR to unknown 
host: null


This is what I have seen in hss.activities.log :

2007-02-14 10:27:22,136 [Thread-6] DEBUG 
de.fhg.fokus.hss.diam.cx.UARCommandListener  - entering
2007-02-14 10:27:22,137 [Thread-6] DEBUG 
de.fhg.fokus.hss.diam.cx.UARCommandListener  - icscf.open-ims.test
2007-02-14 10:27:22,139 [Thread-6] DEBUG 
de.fhg.fokus.hss.server.cx.HSScxOperationsImpl  - entering
2007-02-14 10:27:22,140 [Thread-6] DEBUG 
de.fhg.fokus.hss.server.cx.op.QueryCxOperation  - entering
2007-02-14 10:27:22,141 [Thread-6] DEBUG 
de.fhg.fokus.hss.server.cx.op.QueryCxOperation  - exiting
2007-02-14 10:27:22,141 [Thread-6] DEBUG 
de.fhg.fokus.hss.server.cx.op.QueryCxOperation  - entering
2007-02-14 10:27:22,142 [Thread-6] DEBUG 
de.fhg.fokus.hss.server.cx.op.QueryCxOperation  - 
de.fhg.fokus.hss.server.cx.op.QueryCxOper
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">ation at 8321c8</A>[
  visitedNetworkIdentifier=open-ims.test
  typeOfAuthorization=0
]
2007-02-14 10:27:22,145 [Thread-6] DEBUG 
de.fhg.fokus.hss.model.CxUserProfil  - entering
2007-02-14 10:27:22,146 [Thread-6] DEBUG 
de.fhg.fokus.hss.model.CxUserProfil  - entering
2007-02-14 10:27:22,159 [Thread-6] DEBUG 
de.fhg.fokus.hss.model.CxUserProfil  - impi loaded
2007-02-14 10:27:22,165 [Thread-6] DEBUG 
de.fhg.fokus.hss.model.CxUserProfil  - exiting
2007-02-14 10:27:22,166 [Thread-6] DEBUG 
de.fhg.fokus.hss.model.CxUserProfil  - exiting
2007-02-14 10:27:22,167 [Thread-6] DEBUG 
de.fhg.fokus.hss.model.CxUserProfil  - entering
2007-02-14 10:27:22,168 [Thread-6] DEBUG 
de.fhg.fokus.hss.model.CxUserProfil  - exiting
2007-02-14 10:27:22,170 [Thread-6] DEBUG 
de.fhg.fokus.hss.model.CxUserProfil  - entering
2007-02-14 10:27:22,174 [Thread-6] DEBUG 
de.fhg.fokus.hss.model.CxUserProfil  - exiting (true)
2007-02-14 10:27:22,181 [Thread-6] DEBUG 
de.fhg.fokus.hss.server.cx.op.QueryCxOperation  - exiting
2007-02-14 10:27:22,182 [Thread-6] DEBUG 
de.fhg.fokus.hss.server.cx.HSScxOperationsImpl  - exiting
2007-02-14 10:27:22,184 [Thread-6] DEBUG 
de.fhg.fokus.hss.diam.cx.UARCommandListener  - exiting
2007-02-14 10:27:22,206 [Thread-7] DEBUG 
de.fhg.fokus.hss.diam.cx.MARCommandListener  - entering
2007-02-14 10:27:22,207 [Thread-7] DEBUG 
de.fhg.fokus.hss.diam.cx.MARCommandListener  - scscf.open-ims.test
2007-02-14 10:27:22,209 [Thread-7] INFO 
de.fhg.fokus.hss.diam.cx.MARCommandListener  - MAR of User: 
sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">josef at open-ims.test</A> is bein
g processed
2007-02-14 10:27:22,210 [Thread-7] DEBUG 
de.fhg.fokus.hss.server.cx.HSScxOperationsImpl  - entering
2007-02-14 10:27:22,211 [Thread-7] DEBUG 
de.fhg.fokus.hss.server.cx.op.AuthCxOperation  - AuthCXOperation, execute 
method!
2007-02-14 10:27:22,213 [Thread-7] DEBUG 
de.fhg.fokus.hss.server.cx.op.AuthCxOperation  - 
de.fhg.fokus.hss.server.cx.op.AuthCxOperat
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">ion at 14f1726</A>[
  scscfName=sip:scscf.open-ims.test:6060
  authenticationVector=<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">de.fhg.fokus.cx.AuthenticationVector at 178c490</A>
  numberOfAuthVectors=1
]
2007-02-14 10:27:22,216 [Thread-7] DEBUG 
de.fhg.fokus.hss.model.CxUserProfil  - entering
2007-02-14 10:27:22,218 [Thread-7] DEBUG 
de.fhg.fokus.hss.model.CxUserProfil  - entering
2007-02-14 10:27:22,230 [Thread-7] DEBUG 
de.fhg.fokus.hss.model.CxUserProfil  - impi loaded
2007-02-14 10:27:22,236 [Thread-7] DEBUG 
de.fhg.fokus.hss.model.CxUserProfil  - exiting
2007-02-14 10:27:22,237 [Thread-7] DEBUG 
de.fhg.fokus.hss.model.CxUserProfil  - exiting
2007-02-14 10:27:22,239 [Thread-7] DEBUG 
de.fhg.fokus.hss.model.CxUserProfil  - entering
2007-02-14 10:27:22,240 [Thread-7] DEBUG 
de.fhg.fokus.hss.model.CxUserProfil  - exiting
2007-02-14 10:27:22,242 [Thread-7] DEBUG 
de.fhg.fokus.hss.server.cx.op.AuthCxOperation  - Generation of 
Authentication Vectors
2007-02-14 10:27:22,244 [Thread-7] DEBUG 
de.fhg.fokus.hss.server.cx.op.AuthCxOperation  - Auth-Scheme Supported by 
the HSS: Digest-A
KAv1-MD5
2007-02-14 10:27:22,245 [Thread-7] DEBUG 
de.fhg.fokus.hss.server.cx.op.AuthCxOperation  - Auth-Scheme asked by 
S-CSCF: Digest-MD5
2007-02-14 10:27:22,249 [Thread-7] ERROR 
de.fhg.fokus.hss.server.cx.op.AuthCxOperation  - 
de.fhg.fokus.hss.server.cx.op.AuthCxOperat
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">ion at 14f1726</A>[
  scscfName=sip:scscf.open-ims.test:6060
  authenticationVector=<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">de.fhg.fokus.cx.AuthenticationVector at 178c490</A>
  numberOfAuthVectors=1
]
java.security.NoSuchAlgorithmException
        at 
de.fhg.fokus.hss.server.cx.op.AuthCxOperation.generateAuthenticationVectors(AuthCxOperation.java:195)
        at 
de.fhg.fokus.hss.server.cx.op.AuthCxOperation.execute(AuthCxOperation.java:148)
        at 
de.fhg.fokus.hss.server.cx.HSScxOperationsImpl.cxAuthData(HSScxOperationsImpl.java:153)
        at 
de.fhg.fokus.hss.diam.cx.MARCommandListener.recvMessage(MARCommandListener.java:119)
        at 
de.fhg.fokus.diameter.DiameterPeer.DiameterWorker.run(DiameterWorker.java:100)
2007-02-14 10:27:22,260 [Thread-7] DEBUG 
de.fhg.fokus.hss.server.cx.HSScxOperationsImpl  - exiting
2007-02-14 10:27:52,090 [Thread-12] DEBUG 
de.fhg.fokus.diameter.DiameterPeer.peer.StateMachine  - Diameter: Code=280 
AppID=0 HbHID=1
256074292 E2EID=-292289034
        AVP: Code=268 M Len=4 Data=0x000007d1 INT_Data=2001 
Char_Data=&quot;....&quot;
        AVP: Code=264 M Len=17 Data=0x6873732e6f70656e2d696d732e74657374 
INT_Data=1752396590 Char_Data=&quot;hss.open-ims.test&quot;
        AVP: Code=296 M Len=13 Data=0x6f70656e2d696d732e74657374 
INT_Data=1869636974 Char_Data=&quot;open-ims.test&quot;


thanks,
Josef





Dragos Vingarzan &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vingarzan at fokus.fraunhofer.de</A>&gt; 
Sent by: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-bounces at lists.berlios.de</A>
13/02/2007 16:34

To
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Josef.Bajada at go.com.mt</A>
cc
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Subject
Re: [OpenIMSCore-Users] 403 - Forbidden - HSS returned  no authentication 
vectors






Hi Josef,

The problem in this trace is a completely different one - 403 Forbidden
- Not Registered

Could you please look in the pcscf.cfg file for this line:
modparam(&quot;pcscf&quot;,&quot;sip2ims_via&quot;,&quot;127.0.0.1:3060&quot;) ?

I think that you forgot to change it to the new IP address, 10.158.48.224.

-Dragos

<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Josef.Bajada at go.com.mt</A> wrote:
&gt;<i>
</I>&gt;<i> Hi Weik,
</I>&gt;<i>
</I>&gt;<i> Ignore my previous message with the large trace, forgot to filter out
</I>&gt;<i> the rest of the junk (kindly delete it from the list if you have admin
</I>&gt;<i> access).
</I>&gt;<i> This is the proper trace.
</I>&gt;<i>
</I>&gt;<i> Josef
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> *Peter Weik &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">weik at fokus.fraunhofer.de</A>&gt;*
</I>&gt;<i> Sent by: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-bounces at lists.berlios.de</A>
</I>&gt;<i>
</I>&gt;<i> 13/02/2007 10:12
</I>&gt;<i> Please respond to
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">weik at fokus.fraunhofer.de</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> To
</I>&gt;<i>                <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Josef.Bajada at go.com.mt</A>
</I>&gt;<i> cc
</I>&gt;<i>                <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;<i> Subject
</I>&gt;<i>                Re: [OpenIMSCore-Users] 403 - Forbidden - HSS returned   
</I>no 
&gt;<i>    authentication vectors
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hi Josef,
</I>&gt;<i>
</I>&gt;<i> seems as if your subscription settings in the HSS are not correct.
</I>&gt;<i> Please attach a Wireshark trace for the scenario described below,
</I>&gt;<i> otherwise it will become hard to find the real problem here.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Peter
</I>&gt;<i>
</I>&gt;<i> On Tue, 2007-02-13 at 09:33 +0100, <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Josef.Bajada at go.com.mt</A> wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Hi all,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; For some reason, after spending some time registered successfully
</I>&gt;<i> &gt; (using X-lite) to the Sip2Ims server, suddenly the application is
</I>&gt;<i> &gt; reporting the following error:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 403 - Forbidden - HSS returned no authentication vectors
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Any idea why this is happening? Why am I successful during the first
</I>&gt;<i> &gt; registration, but later on I am getting this error?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Another problem I am observing (could it be related?) is that when I
</I>&gt;<i> &gt; am registered successfully and I try to do a call (say to
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>) I get the following error:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Forbidden - Not Registered! You must register first with a S-CSCF.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This occurs even though the application says I am registered
</I>&gt;<i> &gt; successfully with my username etc.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Any idea what I have wrong?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Josef
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; OpenIMSCore-Users mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OpenIMSCore-Users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>&gt;<i>
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OpenIMSCore-Users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>&gt;<i> 
</I>

-- 
-----------------------------------------
Dipl. Eng. Dragos Vingarzan
FOKUS/NGNI
Kaiserin-Augusta-Allee 31
10589 Berlin,Germany
Phone +49 (0)30 - 3463 - 7385
Mobile +49 (0)163 - 159 - 5221
eMail <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vingarzan at fokus.fraunhofer.de</A>
Web www.fokus.fraunhofer.de
We could change the world if God would give us the source code...
-----------------------------------------------------------------

_______________________________________________
OpenIMSCore-Users mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20070214/5c26c833/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20070214/5c26c833/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000792.html">[OpenIMSCore-Users] 403 - Forbidden - HSS returned	no	authentication vectors
</A></li>
	<LI>Next message: <A HREF="000795.html">[OpenIMSCore-Users] 403 - Forbidden -	HSS	returned	no	authentication vectors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#794">[ date ]</a>
              <a href="thread.html#794">[ thread ]</a>
              <a href="subject.html#794">[ subject ]</a>
              <a href="author.html#794">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
