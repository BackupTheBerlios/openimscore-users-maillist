<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] Core dumped in I-CSCF
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2010-March/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Core%20dumped%20in%20I-CSCF&In-Reply-To=%3C4B9DC572.8090101%40rancoretech.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006129.html">
   <LINK REL="Next"  HREF="006131.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] Core dumped in I-CSCF</H1>
    <B>Dushyant Dhalia</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Core%20dumped%20in%20I-CSCF&In-Reply-To=%3C4B9DC572.8090101%40rancoretech.com%3E"
       TITLE="[OpenIMSCore-Users] Core dumped in I-CSCF">dushyant.dhalia at rancoretech.com
       </A><BR>
    <I>Mon Mar 15 06:28:18 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006129.html">[OpenIMSCore-Users] Core dumped in I-CSCF
</A></li>
        <LI>Next message: <A HREF="006131.html">[OpenIMSCore-Users] REFER method sceinario errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6130">[ date ]</a>
              <a href="thread.html#6130">[ thread ]</a>
              <a href="subject.html#6130">[ subject ]</a>
              <a href="author.html#6130">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Dragos,
I checked out the latest version (929) of ser_ims, compiled and tested 
it. Still I am getting the core dumps in scscf as well as icscf.
#/opt/OpenIMSCore/ser_ims/trunk/ser -V
version: ser 2.1.0-dev1 OpenIMSCore (i386/linux)
flags: STATS: Off, USE_IPV6, USE_TCP, USE_TLS, TLS_HOOKS, DISABLE_NAGLE, 
USE_MCAST, DNS_IP_HACK, SHM_MEM, SHM_MMAP, PKG_MALLOC, DBG_QM_MALLOC, 
FAST_LOCK-ADAPTIVE_WAIT, USE_DNS_CACHE, USE_DNS_FAILOVER, USE_DST_BLACKLIST
ADAPTIVE_WAIT_LOOPS=1024, MAX_RECV_BUFFER_SIZE 262144, MAX_LISTEN 16, 
MAX_URI_SIZE 1024, BUF_SIZE 65535
poll method support: poll, epoll_lt, epoll_et, sigio_rt, select.
@(#) $Id: main.c 318 2007-06-14 17:11:28Z vingarzan $
main.c compiled on 14:55:18 Mar 13 2010 with gcc 4.1.1

Core was generated by `/opt/OpenIMSCore/ser_ims/trunk/ser -f 
/opt/OpenIMSCore/scscf.cfg -D -D'.
Program terminated with signal 11, Segmentation fault.
#0  disconnect_serviced_peer (sp=0x81b2cc4, locked=0) at 
../../mem/../fastlock.h:181
181             asm volatile(
(gdb) bt
#0  disconnect_serviced_peer (sp=0x81b2cc4, locked=0) at 
../../mem/../fastlock.h:181
#1  0x0019a85a in receive_loop () at receiver.c:811
#2  0x0019c110 in receiver_process (p=0x0) at receiver.c:462
#3  0x0018d538 in diameter_peer_start (blocking=0) at diameter_peer.c:404
#4  0x0018e158 in cdp_child_init (rank=0) at mod.c:211
#5  0x080b4f53 in init_mod_child (m=0x8195424, rank=0) at sr_module.c:468
#6  0x0807df15 in main_loop () at main.c:1069
#7  0x0807f451 in main (argc=21, argv=0x81b2ce0) at main.c:1614
(gdb) bt full
#0  disconnect_serviced_peer (sp=0x81b2cc4, locked=0) at 
../../mem/../fastlock.h:181
No locals.
#1  0x0019a85a in receive_loop () at receiver.c:811
        rfds = {__fds_bits = {2097152, 0 &lt;repeats 31 times&gt;}}
        efds = {__fds_bits = {0 &lt;repeats 32 times&gt;}}
        tv = {tv_sec = 0, tv_usec = 651000}
        n = &lt;value optimized out&gt;
        max = &lt;value optimized out&gt;
        cnt = &lt;value optimized out&gt;
        msg = (AAAMessage *) 0x0
        sp = &lt;value optimized out&gt;
        sp2 = (serviced_peer_t *) 0x0
        p = (peer *) 0x0
        fd = &lt;value optimized out&gt;
#2  0x0019c110 in receiver_process (p=0x0) at receiver.c:462
No locals.
#3  0x0018d538 in diameter_peer_start (blocking=0) at diameter_peer.c:404
        pid = &lt;value optimized out&gt;
        k = -2
        p = (peer *) 0x0
#4  0x0018e158 in cdp_child_init (rank=0) at mod.c:211
No locals.
#5  0x080b4f53 in init_mod_child (m=0x8195424, rank=0) at sr_module.c:468
No locals.
#6  0x0807df15 in main_loop () at main.c:1069
        i = 4
        pid = -1307212268
        si = (struct socket_info *) 0x4
        si_desc = &quot;receiver child=3 
sock=10.34.77.48:6060\000\bd\233\024\b??-\000?\224\030\000?\025\200\n\034\000\000\000\000\004\000\000\000??\005\001\000\000\000\r\020\000\000?v\025?\000\000\000\000\000\004\000\000\000P???h\204?(*\t\b\000P??\004\000\000\000GH\022\b\006\000\000\000\000\000\000\000?i\204??h\204?&quot;
#7  0x0807f451 in main (argc=21, argv=0x81b2ce0) at main.c:1614
        cfg_stream = (FILE *) 0xa7ef008
        c = &lt;value optimized out&gt;
        r = -1307212268
        tmp = 0xbf8469bc 
&quot;?\212\204??\212\204??\212\204??\212\204?\b\213\204?(\213\204?6\213\204?L\213\204?j\213\204?}\213\204?\207\213\204??\213\204??\215\204??\215\204?x\216\204?\222\216\204??\216\204??\216\204??\216\204??\216\204?\023\217\204?\036\217\204?&amp;\217\204?3\217\204?M\217\204?}\217\204?\237\217\204??\217\204?&quot;
        tmp_len = &lt;value optimized out&gt;
        proto = &lt;value optimized out&gt;
        ret = &lt;value optimized out&gt;
        seed = 1146097118
        rfd = &lt;value optimized out&gt;
        debug_save = &lt;value optimized out&gt;
---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
        debug_flag = 0
        dont_fork_cnt = 2
        socket_types = 29


Core was generated by `/opt/OpenIMSCore/ser_ims/trunk/ser -f 
/opt/OpenIMSCore/icscf.cfg -D -D'.
Program terminated with signal 11, Segmentation fault.
#0  disconnect_serviced_peer (sp=0x81a493c, locked=0) at 
../../mem/../fastlock.h:181
181             asm volatile(
(gdb) bt
#0  disconnect_serviced_peer (sp=0x81a493c, locked=0) at 
../../mem/../fastlock.h:181
#1  0x0016085a in receive_loop () at receiver.c:811
#2  0x00162110 in receiver_process (p=0x0) at receiver.c:462
#3  0x00153538 in diameter_peer_start (blocking=0) at diameter_peer.c:404
#4  0x00154158 in cdp_child_init (rank=0) at mod.c:211
#5  0x080b4f53 in init_mod_child (m=0x81942d4, rank=0) at sr_module.c:468
#6  0x0807df15 in main_loop () at main.c:1069
#7  0x0807f451 in main (argc=21, argv=0x81a4958) at main.c:1614
(gdb) bt full
#0  disconnect_serviced_peer (sp=0x81a493c, locked=0) at 
../../mem/../fastlock.h:181
No locals.
#1  0x0016085a in receive_loop () at receiver.c:811
        rfds = {__fds_bits = {2621440, 0 &lt;repeats 31 times&gt;}}
        efds = {__fds_bits = {0 &lt;repeats 32 times&gt;}}
        tv = {tv_sec = 1, tv_usec = 0}
        n = &lt;value optimized out&gt;
        max = &lt;value optimized out&gt;
        cnt = &lt;value optimized out&gt;
        msg = (AAAMessage *) 0x0
        sp = &lt;value optimized out&gt;
        sp2 = (serviced_peer_t *) 0x0
        p = (peer *) 0x0
        fd = &lt;value optimized out&gt;
#2  0x00162110 in receiver_process (p=0x0) at receiver.c:462
No locals.
#3  0x00153538 in diameter_peer_start (blocking=0) at diameter_peer.c:404
        pid = &lt;value optimized out&gt;
        k = -2
        p = (peer *) 0x0
#4  0x00154158 in cdp_child_init (rank=0) at mod.c:211
No locals.
#5  0x080b4f53 in init_mod_child (m=0x81942d4, rank=0) at sr_module.c:468
No locals.
#6  0x0807df15 in main_loop () at main.c:1069
        i = 4
        pid = -1307049028
        si = (struct socket_info *) 0x4
        si_desc = &quot;receiver child=3 
sock=10.34.77.48:5060\000\bd\233\024\b8?p\000??\024\000?E,\n\000\000?\006 
?\024??\005\001\000\000\000\r\020\000\000??\027?\000\000\000\000\000\004\000\000\000???8?(*\t\b\000???\004\000\000\000GH\022\b\002\000\000\000\000\000\000\0004??8?&quot;
#7  0x0807f451 in main (argc=21, argv=0x81a4958) at main.c:1614
        cfg_stream = (FILE *) 0xa2b6008
        c = &lt;value optimized out&gt;
        r = -1307049028
        tmp = 0xbfbbcd4c &quot;???\005??\025?? 
??.??N??\\??r??\220?????????????????x??\222??????????????\023??\036??&amp;??3??M??}??\237?????&quot;
        tmp_len = &lt;value optimized out&gt;
        proto = &lt;value optimized out&gt;
        ret = &lt;value optimized out&gt;
        seed = 1309788374
        rfd = &lt;value optimized out&gt;
        debug_save = &lt;value optimized out&gt;
        debug_flag = 0
---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
        dont_fork_cnt = 2
        socket_types = 29


Regards,
Dushyant

&quot;When work is a pleasure, life is a joy! When work is duty, life is slavery.&quot; 



Dushyant Dhalia wrote:
&gt;<i> Yes, it's true I am not using the latest version. I will update and 
</I>&gt;<i> intimate the results on the mailing list.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Dushyant
</I>&gt;<i> &quot;When work is a pleasure, life is a joy! When work is duty, life is slavery.&quot; 
</I>&gt;<i>   
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Dragos Vingarzan wrote:
</I>&gt;&gt;<i> Hi Dushyant,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I don't think that you're using the latest revision, right? Could you 
</I>&gt;&gt;<i> please update and tell me if the issue persists?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Cheers,
</I>&gt;&gt;<i> -Dragos
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Dushyant Dhalia wrote:
</I>&gt;&gt;&gt;<i> Any idea what could be the error?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Core was generated by `/opt/OpenIMSCore/ser_ims/trunk/ser -f 
</I>&gt;&gt;&gt;<i> /opt/OpenIMSCore/icscf.cfg -D -D'.
</I>&gt;&gt;&gt;<i> Program terminated with signal 11, Segmentation fault.
</I>&gt;&gt;&gt;<i> #0  disconnect_serviced_peer (sp=0x81a493c, locked=0) at 
</I>&gt;&gt;&gt;<i> ../../mem/../fastlock.h:181
</I>&gt;&gt;&gt;<i> 181             asm volatile(
</I>&gt;&gt;&gt;<i> (gdb) bt
</I>&gt;&gt;&gt;<i> #0  disconnect_serviced_peer (sp=0x81a493c, locked=0) at 
</I>&gt;&gt;&gt;<i> ../../mem/../fastlock.h:181
</I>&gt;&gt;&gt;<i> #1  0x00140fc4 in receive_loop () at receiver.c:801
</I>&gt;&gt;&gt;<i> #2  0x00142830 in receiver_process (p=0x0) at receiver.c:459
</I>&gt;&gt;&gt;<i> #3  0x00134793 in diameter_peer_start (blocking=0) at 
</I>&gt;&gt;&gt;<i> diameter_peer.c:336
</I>&gt;&gt;&gt;<i> #4  0x00135348 in cdp_child_init (rank=0) at mod.c:194
</I>&gt;&gt;&gt;<i> #5  0x080b4f53 in init_mod_child (m=0x81942d4, rank=0) at 
</I>&gt;&gt;&gt;<i> sr_module.c:468
</I>&gt;&gt;&gt;<i> #6  0x0807df15 in main_loop () at main.c:1069
</I>&gt;&gt;&gt;<i> #7  0x0807f451 in main (argc=21, argv=0x81a4958) at main.c:1614
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> (gdb) bt full
</I>&gt;&gt;&gt;<i> #0  disconnect_serviced_peer (sp=0x81a493c, locked=0) at 
</I>&gt;&gt;&gt;<i> ../../mem/../fastlock.h:181
</I>&gt;&gt;&gt;<i> No locals.
</I>&gt;&gt;&gt;<i> #1  0x00140fc4 in receive_loop () at receiver.c:801
</I>&gt;&gt;&gt;<i>         rfds = {__fds_bits = {2097152, 0 &lt;repeats 31 times&gt;}}
</I>&gt;&gt;&gt;<i>         efds = {__fds_bits = {0 &lt;repeats 32 times&gt;}}
</I>&gt;&gt;&gt;<i>         tv = {tv_sec = 0, tv_usec = 909000}
</I>&gt;&gt;&gt;<i>         n = &lt;value optimized out&gt;
</I>&gt;&gt;&gt;<i>         max = &lt;value optimized out&gt;
</I>&gt;&gt;&gt;<i>         cnt = &lt;value optimized out&gt;
</I>&gt;&gt;&gt;<i>         msg = (AAAMessage *) 0x0
</I>&gt;&gt;&gt;<i>         sp = &lt;value optimized out&gt;
</I>&gt;&gt;&gt;<i>         sp2 = (serviced_peer_t *) 0x0
</I>&gt;&gt;&gt;<i>         p = (peer *) 0x0
</I>&gt;&gt;&gt;<i>         fd = &lt;value optimized out&gt;
</I>&gt;&gt;&gt;<i> #2  0x00142830 in receiver_process (p=0x0) at receiver.c:459
</I>&gt;&gt;&gt;<i> No locals.
</I>&gt;&gt;&gt;<i> #3  0x00134793 in diameter_peer_start (blocking=0) at 
</I>&gt;&gt;&gt;<i> diameter_peer.c:336
</I>&gt;&gt;&gt;<i>         pid = &lt;value optimized out&gt;
</I>&gt;&gt;&gt;<i>         k = -2
</I>&gt;&gt;&gt;<i>         p = (peer *) 0x0
</I>&gt;&gt;&gt;<i> #4  0x00135348 in cdp_child_init (rank=0) at mod.c:194
</I>&gt;&gt;&gt;<i> No locals.
</I>&gt;&gt;&gt;<i> #5  0x080b4f53 in init_mod_child (m=0x81942d4, rank=0) at 
</I>&gt;&gt;&gt;<i> sr_module.c:468
</I>&gt;&gt;&gt;<i> No locals.
</I>&gt;&gt;&gt;<i> #6  0x0807df15 in main_loop () at main.c:1069
</I>&gt;&gt;&gt;<i>         i = 4
</I>&gt;&gt;&gt;<i>         pid = -1340607876
</I>&gt;&gt;&gt;<i>         si = (struct socket_info *) 0x4
</I>&gt;&gt;&gt;<i>         si_desc = &quot;receiver child=3 
</I>&gt;&gt;&gt;<i> sock=10.34.77.48:5060\000\000\000\004\000\0008Xc\000?M\v\b4\025?H\000\000@\t??\022\000X\f?\a\001\000\000\000\r\020\000\000x?\027?\000\000\000\000\000\004\000\000\000????\232??(*\t\b\000???\004\000\000\000GH\022\b\002\000\000\000\000\000\000\000?\233???\232??&quot; 
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> #7  0x0807f451 in main (argc=21, argv=0x81a4958) at main.c:1614
</I>&gt;&gt;&gt;<i>         cfg_stream = (FILE *) 0xadb5008
</I>&gt;&gt;&gt;<i>         c = &lt;value optimized out&gt;
</I>&gt;&gt;&gt;<i>         r = -1340607876
</I>&gt;&gt;&gt;<i>         tmp = 0xbfa29bbc &quot;??\005???\025??? 
</I>&gt;&gt;&gt;<i> ???.???N???\\???r???\220?????????????????&#253;??x???\222???????????????\023???\036???&amp;???3???M???}???\237???????&quot; 
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>         tmp_len = &lt;value optimized out&gt;
</I>&gt;&gt;&gt;<i>         proto = &lt;value optimized out&gt;
</I>&gt;&gt;&gt;<i>         ret = &lt;value optimized out&gt;
</I>&gt;&gt;&gt;<i>         seed = 4276215171
</I>&gt;&gt;&gt;<i>         rfd = &lt;value optimized out&gt;
</I>&gt;&gt;&gt;<i>         debug_save = &lt;value optimized out&gt;
</I>&gt;&gt;&gt;<i>         debug_flag = 0
</I>&gt;&gt;&gt;<i>         dont_fork_cnt = 2
</I>&gt;&gt;&gt;<i>         socket_types = 29
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Dushyant P S Dhalia
</I>&gt;&gt;&gt;<i> -- 
</I>&gt;&gt;&gt;<i> &quot;When work is a pleasure, life is a joy! When work is duty, life is 
</I>&gt;&gt;&gt;<i> slavery.&quot;   _______________________________________________
</I>&gt;&gt;&gt;<i> OpenIMSCore-Users mailing list
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>&gt;&gt;&gt;<i>   
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OpenIMSCore-Users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>&gt;<i>   
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20100315/ae181866/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20100315/ae181866/attachment.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: dushyant_dhalia.vcf
Type: text/x-vcard
Size: 213 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20100315/ae181866/attachment.vcf">https://lists.berlios.de/pipermail/openimscore-users/attachments/20100315/ae181866/attachment.vcf</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006129.html">[OpenIMSCore-Users] Core dumped in I-CSCF
</A></li>
	<LI>Next message: <A HREF="006131.html">[OpenIMSCore-Users] REFER method sceinario errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6130">[ date ]</a>
              <a href="thread.html#6130">[ thread ]</a>
              <a href="subject.html#6130">[ subject ]</a>
              <a href="author.html#6130">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
