<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] Registeration over IPSec fails
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2007-September/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Registeration%20over%20IPSec%20fails&In-Reply-To=%3C1189516454.4262.10.camel%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002621.html">
   <LINK REL="Next"  HREF="002634.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] Registeration over IPSec fails</H1>
    <B>Jamal Hadi Salim</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Registeration%20over%20IPSec%20fails&In-Reply-To=%3C1189516454.4262.10.camel%40localhost%3E"
       TITLE="[OpenIMSCore-Users] Registeration over IPSec fails">hadi at znyx.com
       </A><BR>
    <I>Tue Sep 11 15:14:14 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002621.html">[OpenIMSCore-Users] Registeration over IPSec fails
</A></li>
        <LI>Next message: <A HREF="002634.html">[OpenIMSCore-Users] Sipp ipsec scenarios
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2628">[ date ]</a>
              <a href="thread.html#2628">[ thread ]</a>
              <a href="subject.html#2628">[ subject ]</a>
              <a href="author.html#2628">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 2007-10-09 at 15:08 +0200, Dragos Vingarzan wrote:
&gt;<i> You are right, the specs recommend that you should use different ports
</I>&gt;<i> for identification reasons.
</I>&gt;<i> 
</I>&gt;<i> However, there are some difficulties with SER on selecting the outbound
</I>&gt;<i> socket to be used - most probably a new upgrade to the latest SER CVS
</I>&gt;<i> would solve this as I have seen some new functionality there.
</I>&gt;<i> 
</I>&gt;<i> Anyway, using the same port for all 3 works, given that you do not have
</I>&gt;<i> 2 UEs that use the same IP:port, so that you could make different IPSec
</I>&gt;<i> rules. The rules are set on src_ip, src_port, dst_ip,dst_port, protocol.
</I>
Yes, that works and is fine as a short-term answer with long term being
conformance to the spec. 

I have never looked/paid attention to SER but it seems to be not too
hard if you are maintaining state to open several sockets and select an
outbound socket. If you know it has been fixed let me know otherwise i
could spend time studying SER and fix it.

BTW, unless i am mistaken SIPp seems to suffer from similar problem; i
can only specify one socket with -p cli option and hence need the
different scripts. The 200 code to the 2nd register is in a different
script because the response goes to a different port resulting in all
sorts of timing headaches (like Alice never seeing the 200 after the
second register because the script is execed a little too late). Is
there a way to work around this problem?

cheers,
jamal


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002621.html">[OpenIMSCore-Users] Registeration over IPSec fails
</A></li>
	<LI>Next message: <A HREF="002634.html">[OpenIMSCore-Users] Sipp ipsec scenarios
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2628">[ date ]</a>
              <a href="thread.html#2628">[ thread ]</a>
              <a href="subject.html#2628">[ subject ]</a>
              <a href="author.html#2628">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
