<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] R:  Basic question #3......
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20R%3A%20%20Basic%20question%20%233......&In-Reply-To=%3C4A66E855.8080003%40fokus.fraunhofer.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005619.html">
   <LINK REL="Next"  HREF="005607.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] R:  Basic question #3......</H1>
    <B>Dragos Vingarzan</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20R%3A%20%20Basic%20question%20%233......&In-Reply-To=%3C4A66E855.8080003%40fokus.fraunhofer.de%3E"
       TITLE="[OpenIMSCore-Users] R:  Basic question #3......">Dragos.Vingarzan at fokus.fraunhofer.de
       </A><BR>
    <I>Wed Jul 22 12:22:13 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005619.html">[OpenIMSCore-Users] R:  Basic question #3......
</A></li>
        <LI>Next message: <A HREF="005607.html">[OpenIMSCore-Users] Questions and problems about QoS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5632">[ date ]</a>
              <a href="thread.html#5632">[ thread ]</a>
              <a href="subject.html#5632">[ subject ]</a>
              <a href="author.html#5632">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Mauro,

I think that the easiest way for you to proceed with the 3G AKA 
authentication would be to implement in the PS authenticator, or to 
write a HLR/AuC adaptor, which would perform 
Multimedia-Authentication-Requests/Answer, similar to the S-CSCF/HSS 
exchanges on the Cx interface, and obtain as such the needed quintets 
(we call them authentication vectors to cover all schemes).

If there is a standard alternative to the Cx interface in the HLR/AuC 
that you'd rather have, please let us know and we could of course add 
that to the project. It's mostly the protocol glue that needs to be 
added as all the other procedures are there.

Cheers,
-Dragos


Castagno Mauro wrote:
&gt;<i>
</I>&gt;<i> Dear Peter,
</I>&gt;<i>
</I>&gt;<i> Many thanks for your reply!.
</I>&gt;<i>
</I>&gt;<i> The intention would be, provided that it will be somehow possible&#8230;, to 
</I>&gt;<i> test IMS AKA in a &quot;realistic UMTS scenario&quot;, i.e.:
</I>&gt;<i>
</I>&gt;<i> 1. the &#8220;user&#8221; switches on his UE,
</I>&gt;<i>
</I>&gt;<i> 2. the UE first performs 3G AKA to authenticate and register on the 3G 
</I>&gt;<i> coverage and particularly to the PS domain;
</I>&gt;<i>
</I>&gt;<i> 3. the UE performs IMS AKA to authenticate and register on the IMS 
</I>&gt;<i> domain 3G coverage.
</I>&gt;<i>
</I>&gt;<i> This quite simple test would be done *using a &#8220;traditional&#8221; USIM 
</I>&gt;<i> application, that is without any ISIM application onboard* inserted in 
</I>&gt;<i> an IMS AKA-capable handset, since some IMS AKA-capable handsets seems 
</I>&gt;<i> now to be availble in the market.
</I>&gt;<i>
</I>&gt;<i> Following your e-mail, I understand that the only scenario to be 
</I>&gt;<i> considered in our discussion is the following one:
</I>&gt;<i>
</I>&gt;<i> &#183; FOR THE SELECTED USIM, quintets to be used for IMS AKA are assumed 
</I>&gt;<i> to be generated (ONLY) by the FOKUS HSS;
</I>&gt;<i>
</I>&gt;<i> &#183; FOR the SAME SELECTED USIM, quintets to be used for 3G AKA are 
</I>&gt;<i> assumed to be generated (ONLY) outside of FOKUS HSS: i.e. quintets 
</I>&gt;<i> generated by the FOKUS HSS are NOT assumed to be used to perform 3G 
</I>&gt;<i> AKA procedure, at least now.
</I>&gt;<i>
</I>&gt;<i> &#183; Since 3G AKA cannot be skipped to get IP connectivity via the 3GPP 
</I>&gt;<i> PS Domain (as we would like) and since Quintets generated by FOKUS HSS 
</I>&gt;<i> cannot be used for 3G AKA, then *for the test under consideration and 
</I>&gt;<i> for the specific UICC to be used for the test* we have to assume a 
</I>&gt;<i> sort of &#8220;duplication&#8221; of AuC functionalities. This because (for the 
</I>&gt;<i> USIM to be used) the Quintets generated by the FOKUS HSS (for IMS AKA) 
</I>&gt;<i> and the ones generated by the real HLR/HSS (for 3G AKA) have to be 
</I>&gt;<i> generated with the same algorithm, that is the only one stored on the 
</I>&gt;<i> UICC under consideration.
</I>&gt;<i>
</I>&gt;<i> This could be fine provided that I know all the details of the 
</I>&gt;<i> &#8220;Milenage&#8221; parameter implemented on the UICC and that I can configure 
</I>&gt;<i> them in the FOKUS HSS (but this configuration should be possible, as 
</I>&gt;<i> far as I understand from your e-mail).
</I>&gt;<i>
</I>&gt;<i> Referring to the sentence: /We have tested the synchronisation for IMS 
</I>&gt;<i> AKA only with real UICCs and it works (this was already over 2 years 
</I>&gt;<i> back). As we tested in a private WLAN for an access network there was 
</I>&gt;<i> no interference with 3G AKA syncing but I see no reason why it should 
</I>&gt;<i> not work here as well/, I am wondering if the problem I am worried 
</I>&gt;<i> about did not occur because the SQN check was not performed, or 
</I>&gt;<i> because if was always successful&#8230;
</I>&gt;<i>
</I>&gt;<i> More in detail, as far as I understand from your text above, the user 
</I>&gt;<i> got IP connectivity WITHOUT PERFORMING any 3G AKA, so in your scenario 
</I>&gt;<i> all the Quintets used for that user where generated by the FOKUS HSS 
</I>&gt;<i> and then there was not so much to keep reasonably syncronized&#8230; The 
</I>&gt;<i> issue could arise when quintets are *also* needed to get IP 
</I>&gt;<i> connectivity to the PS domain (and this risk seems to be even greater 
</I>&gt;<i> when those quintets are generated in different places&#8230;, scenario that 
</I>&gt;<i> does not seem to be expected by the 3GPP standard, at least in my 
</I>&gt;<i> understanding&#8230;..;o)). Can you see my point?
</I>&gt;<i>
</I>&gt;<i> Having a Syncronization Failure is not a tragedy particularly during a 
</I>&gt;<i> test, and its solution is also described by an appropriate 3GPP 
</I>&gt;<i> standard &#8220;re-syncronization procedure&#8221;, provided that this standard 
</I>&gt;<i> &#8220;re-syncronization procedure&#8221; is implemented in the FOKUS Core 
</I>&gt;<i> Network. May I ask if this is the case?
</I>&gt;<i>
</I>&gt;<i> Otherwise I suspect that this might prevent performing the test we 
</I>&gt;<i> have in mind (unless there is the way to avoid this problem, e.g. by 
</I>&gt;<i> &#8220;telling&#8221; to the n.2 AuCs wich SQN values to use&#8230; ;o))), but I am not 
</I>&gt;<i> sure that this can be done&#8230; Can you see what I mean?
</I>&gt;<i>
</I>&gt;<i> Thanks again!!
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Mauro
</I>&gt;<i>
</I>&gt;<i> -----Messaggio originale-----
</I>&gt;<i> Da: Peter Weik [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">peter.weik at fokus.fraunhofer.de</A>]
</I>&gt;<i> Inviato: mercoled&#236; 15 luglio 2009 16.53
</I>&gt;<i> A: Castagno Mauro
</I>&gt;<i> Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;<i> Oggetto: Re: [OpenIMSCore-Users] Basic question #3......
</I>&gt;<i>
</I>&gt;<i> Hello (again) Mauro,
</I>&gt;<i>
</I>&gt;<i> due to the length of your post I feel forced to put the answers
</I>&gt;<i>
</I>&gt;<i> inline ...
</I>&gt;<i>
</I>&gt;<i> On Wed, 2009-07-15 at 15:00 +0200, Castagno Mauro wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; Dear All,
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> &gt; 3GPP IMS AKA is based on &#8220;quintets&#8221; (i.e. the same kind of
</I>&gt;<i>
</I>&gt;<i> &gt; authentication vectors used for 3G AKA and 3G AKA is certainly needed
</I>&gt;<i>
</I>&gt;<i> &gt; to authenticate the user to the PS domain, prior accessing IMS).
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> &gt; But, where are supposed to be GENERATED the Quintets?
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> &gt; If Quintets are assumed to be generated in the FOKUS HSS:
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> &gt; 1) I assume that the FOKUS HSS has also AuC functionalities and, in
</I>&gt;<i>
</I>&gt;<i> &gt; particular, that it implements the MILENAGE algorithm (i.e the f1-f5
</I>&gt;<i>
</I>&gt;<i> &gt; set described within TS 35.206). Is this the case?
</I>&gt;<i>
</I>&gt;<i> Short answer: yes. Look in Milenage,java to see details.
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> &gt; 2) As MILENAGE allows some operator-specific customization, I was
</I>&gt;<i>
</I>&gt;<i> &gt; wondering about what customization (if any) have been implemented in
</I>&gt;<i>
</I>&gt;<i> &gt; the FOKUS HSS (as the same would have to performed on the UICC to be
</I>&gt;<i>
</I>&gt;<i> &gt; used for test purposes, otherwise the authentication will
</I>&gt;<i>
</I>&gt;<i> &gt; sistematically fail) or, viceversa, if the MILENAGE algorithm
</I>&gt;<i>
</I>&gt;<i> &gt; implemented on the FOKUS HSS can be customized by the FOKUS&#8217;s user, to
</I>&gt;<i>
</I>&gt;<i> &gt; align it to the MILENAGE set implemented in the UICC to be used for
</I>&gt;<i>
</I>&gt;<i> &gt; test purposes. Do you have any information about this?
</I>&gt;<i>
</I>&gt;<i> Really good question. And yes: there is in hss.properties the option to
</I>&gt;<i>
</I>&gt;<i> configure operatorId, AMF ID and Milenage parameters.
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> &gt; 3) Are the Quintets generated by the FOKUS HSS supposed to be used
</I>&gt;<i>
</I>&gt;<i> &gt; also for the (needed) 3G AKA authentication to be performed before IMS
</I>&gt;<i>
</I>&gt;<i> &gt; AKA (to authenticate the user to the PS domain)?
</I>&gt;<i>
</I>&gt;<i> (Unlike Telecom Italia) we do not have a 3G network to test with and
</I>&gt;<i>
</I>&gt;<i> thus this was never done.
</I>&gt;<i>
</I>&gt;<i> &gt; In case, I assume that the FOKUS HSS is supposed to be able to &#8220;talk&#8221;
</I>&gt;<i>
</I>&gt;<i> &gt; also with the MSC/SGSN. Is this the case? I mean if the interfaces
</I>&gt;<i>
</I>&gt;<i> &gt; towards the SGSNs/MSCs are supported, or not&#8230;
</I>&gt;<i>
</I>&gt;<i> I have hunch that those are SS7 based and thus not supported. We are
</I>&gt;<i>
</I>&gt;<i> focused to support all-IP (read: Cx, Sh and Zh) interfaces in the FHoSS.
</I>&gt;<i>
</I>&gt;<i> Maybe some more in the future.
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> &gt; 4) If quintets generated by the FOKUS HSS are intended to be used
</I>&gt;<i>
</I>&gt;<i> &gt; ONLY for IMS AKA (i.e. they cannot be used for 3G AKA), in my
</I>&gt;<i>
</I>&gt;<i> &gt; understanding it is like having a &#8220;duplication&#8221; of AuC functionalities
</I>&gt;<i>
</I>&gt;<i> &gt; (since the AuC is certainly needed also for 3G AKA). In this scenario,
</I>&gt;<i>
</I>&gt;<i> &gt; provided that it is the &#8220;right one&#8221;, I am wondering about how the
</I>&gt;<i>
</I>&gt;<i> &gt; Quintets generated (for the same user) by the FOKUS HSS and by the
</I>&gt;<i>
</I>&gt;<i> &gt; HLR/AuC can be kept &#8220;aligned&#8221;, to avoid syncronization failures due to
</I>&gt;<i>
</I>&gt;<i> &gt; the SQN parameter (that is somehow &#8220;inside&#8221; the generic Quintet). By
</I>&gt;<i>
</I>&gt;<i> &gt; chance, do you have any view on this?
</I>&gt;<i>
</I>&gt;<i> We have tested the synchronisation for IMS AKA only with real UICCs and
</I>&gt;<i>
</I>&gt;<i> it works (this was already over 2 years back). As we tested in a private
</I>&gt;<i>
</I>&gt;<i> WLAN for an access network there was no interference with 3G AKA syncing
</I>&gt;<i>
</I>&gt;<i> but I see no reason why it should not work here as well.
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> &gt; If Quintets are NOT assumed to be generated in the FOKUS HSS(i.e.
</I>&gt;<i>
</I>&gt;<i> &gt; FOKUS IMS does not implement any MILENAGE set), then I assume that
</I>&gt;<i>
</I>&gt;<i> &gt; Quintets to be used (also) for IMS AKA have to be generated outside of
</I>&gt;<i>
</I>&gt;<i> &gt; the FOKUS Core network, i.e. in the &#8220;real&#8221; HLR/AuC. This could
</I>&gt;<i>
</I>&gt;<i> &gt; certainly be fine for quintets to be used for 3G AKA, but assuming to
</I>&gt;<i>
</I>&gt;<i> &gt; use <A HREF="http://www.openimscore.org/">http://www.openimscore.org/</A> to test IMS AKA, how can the S-CSCF
</I>&gt;<i>
</I>&gt;<i> &gt; get the &#8220;Quintet&#8221; to be used for IMS AKA?
</I>&gt;<i>
</I>&gt;<i> Well, to complete the statements above: the FHoSS acts as AuC for IMS
</I>&gt;<i>
</I>&gt;<i> registrations with AKA and sends the quintet to the S-CSCF in the MAA.
</I>&gt;<i>
</I>&gt;<i> &gt; Can the FOKUS S-CSCF fetch the Quintet from the &#8220;real&#8221; HLR/AuC located
</I>&gt;<i>
</I>&gt;<i> &gt; outside of the FOKUS core network? Is the interface supported?
</I>&gt;<i>
</I>&gt;<i> Not as of now (unless there is now a Diameter interface for this). At
</I>&gt;<i>
</I>&gt;<i> least this was never tried with us.
</I>&gt;<i>
</I>&gt;<i> Hope this answered your question and we would appreciate feedback on 
</I>&gt;<i> how tests with UICCs went ;)
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Peter
</I>&gt;<i>
</I>&gt;<i> Questo messaggio e i suoi allegati sono indirizzati esclusivamente 
</I>&gt;<i> alle persone indicate. La diffusione, copia o qualsiasi altra azione 
</I>&gt;<i> derivante dalla conoscenza di queste informazioni sono rigorosamente 
</I>&gt;<i> vietate. Qualora abbiate ricevuto questo documento per errore siete 
</I>&gt;<i> cortesemente pregati di darne immediata comunicazione al mittente e di 
</I>&gt;<i> provvedere alla sua distruzione, Grazie.
</I>&gt;<i>
</I>&gt;<i> /This e-mail and any attachments// is //confidential and may contain 
</I>&gt;<i> privileged information intended for the addressee(s) only. 
</I>&gt;<i> Dissemination, copying, printing or use by anybody else is 
</I>&gt;<i> unauthorised. If you are not the intended recipient, please delete 
</I>&gt;<i> this message and any attachments and advise the sender by return 
</I>&gt;<i> e-mail, Thanks./
</I>&gt;<i>
</I>&gt;<i> *rispetta l'ambienteRispetta l'ambiente. Non stampare questa mail se 
</I>&gt;<i> non &#232; necessario.*
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OpenIMSCore-Users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>&gt;<i>   
</I>

-- 
-----------------------------------------
Dipl. Eng. Dragos Vingarzan
Fraunhofer FOKUS/NGNI
Kaiserin-Augusta-Allee 31
10589 Berlin,Germany
Phone +49 (0)30 - 3463 - 7385
Mobile +49 (0)176 - 48 32 16 00
Web www.fokus.fraunhofer.de www.openimscore.org
We could change the world if God would give us the source code...
-----------------------------------------------------------------


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005619.html">[OpenIMSCore-Users] R:  Basic question #3......
</A></li>
	<LI>Next message: <A HREF="005607.html">[OpenIMSCore-Users] Questions and problems about QoS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5632">[ date ]</a>
              <a href="thread.html#5632">[ thread ]</a>
              <a href="subject.html#5632">[ subject ]</a>
              <a href="author.html#5632">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
