<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] R:  Basic question #3......
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20R%3A%20%20Basic%20question%20%233......&In-Reply-To=%3CC4EA14D25E9913459641B5FD2E00C5B61B0F84F8%40GRFMBX707BA020.griffon.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005606.html">
   <LINK REL="Next"  HREF="005632.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] R:  Basic question #3......</H1>
    <B>Castagno Mauro</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20R%3A%20%20Basic%20question%20%233......&In-Reply-To=%3CC4EA14D25E9913459641B5FD2E00C5B61B0F84F8%40GRFMBX707BA020.griffon.local%3E"
       TITLE="[OpenIMSCore-Users] R:  Basic question #3......">mauro.castagno at telecomitalia.it
       </A><BR>
    <I>Mon Jul 20 19:09:49 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005606.html">[OpenIMSCore-Users] Basic question #3......
</A></li>
        <LI>Next message: <A HREF="005632.html">[OpenIMSCore-Users] R:  Basic question #3......
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5619">[ date ]</a>
              <a href="thread.html#5619">[ thread ]</a>
              <a href="subject.html#5619">[ subject ]</a>
              <a href="author.html#5619">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear Peter,

Many thanks for your reply!.

The intention would be, provided that it will be somehow possible..., to test IMS AKA in a &quot;realistic UMTS scenario&quot;, i.e.:

1.    the &quot;user&quot; switches on his UE,

2.    the UE first performs 3G AKA to authenticate and register on the 3G coverage and particularly to the PS domain;

3.    the UE performs IMS AKA to authenticate and register on the IMS domain 3G coverage.



This quite simple test would be done using a &quot;traditional&quot; USIM application, that is without any ISIM application onboard inserted in an IMS AKA-capable handset, since some IMS AKA-capable handsets seems now to be availble in the market.



Following your e-mail, I understand that the only scenario to be considered in our discussion is the following one:

&#183;         FOR THE SELECTED USIM, quintets to be used for IMS AKA are assumed to be generated (ONLY) by the FOKUS HSS;

&#183;         FOR the SAME SELECTED USIM, quintets to be used for 3G AKA are assumed to be generated (ONLY) outside of FOKUS HSS: i.e. quintets generated by the FOKUS HSS are NOT assumed to be used to perform 3G AKA procedure, at least now.

&#183;         Since 3G AKA cannot be skipped to get IP connectivity via the 3GPP PS Domain (as we would like) and since Quintets generated by FOKUS HSS cannot be used for 3G AKA, then for the test under consideration and for the specific UICC to be used for the test we have to assume a sort of &quot;duplication&quot; of AuC functionalities. This because (for the USIM to be used) the Quintets generated by the FOKUS HSS (for IMS AKA) and the ones generated by the real HLR/HSS (for 3G AKA) have to be generated with the same algorithm, that is the only one stored on the UICC under consideration.



This could be fine provided that I know all the details of the &quot;Milenage&quot; parameter implemented on the UICC and that I can configure them in the FOKUS HSS (but this configuration should be possible, as far as I understand from your e-mail).



Referring to the sentence: We have tested the synchronisation for IMS AKA only with real UICCs and it works (this was already over 2 years back). As we tested in a private WLAN for an access network there was no interference with 3G AKA syncing but I see no reason why it should not work here as well, I am wondering if the problem I am worried about did not occur because the SQN check was not performed, or because if was always successful...



More in detail, as far as I understand from your text above, the user got IP connectivity WITHOUT PERFORMING any 3G AKA, so in your scenario all the Quintets used for that user where generated by the FOKUS HSS and then there was not so much to keep reasonably syncronized... The issue could arise when quintets are also needed to get IP connectivity to the PS domain (and this risk seems to be even greater when those quintets are generated in different places..., scenario that does not seem to be expected by the 3GPP standard, at least in my understanding.....;o)). Can you see my point?

Having a Syncronization Failure is not a tragedy particularly during a test, and its solution is also described by an appropriate 3GPP standard &quot;re-syncronization procedure&quot;, provided that this standard &quot;re-syncronization procedure&quot; is implemented in the FOKUS Core Network. May I ask if this is the case?

Otherwise I suspect that this might prevent performing the test we have in mind (unless there is the way to avoid this problem, e.g. by &quot;telling&quot; to the n.2 AuCs wich SQN values to use... ;o))), but I am not sure that this can be done... Can you see what I mean?



Thanks again!!

Regards,



Mauro



-----Messaggio originale-----
Da: Peter Weik [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">peter.weik at fokus.fraunhofer.de</A>]
Inviato: mercoled&#236; 15 luglio 2009 16.53
A: Castagno Mauro
Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Oggetto: Re: [OpenIMSCore-Users] Basic question #3......



Hello (again) Mauro,



due to the length of your post I feel forced to put the answers

inline ...



On Wed, 2009-07-15 at 15:00 +0200, Castagno Mauro wrote:

&gt;<i> Dear All,
</I>
&gt;<i>
</I>
&gt;<i>
</I>
&gt;<i>
</I>
&gt;<i> 3GPP IMS AKA is based on &quot;quintets&quot; (i.e. the same kind of
</I>
&gt;<i> authentication vectors used for 3G AKA and 3G AKA is certainly needed
</I>
&gt;<i> to authenticate the user to the PS domain, prior accessing IMS).
</I>
&gt;<i>
</I>
&gt;<i> But, where are supposed to be GENERATED the Quintets?
</I>
&gt;<i>
</I>
&gt;<i>
</I>
&gt;<i>
</I>
&gt;<i> If Quintets are assumed to be generated in the FOKUS HSS:
</I>
&gt;<i>
</I>
&gt;<i> 1)   I assume that the FOKUS HSS has also AuC functionalities and, in
</I>
&gt;<i> particular, that it implements the MILENAGE algorithm (i.e the f1-f5
</I>
&gt;<i> set described within TS 35.206). Is this the case?
</I>


Short answer: yes. Look in Milenage,java to see details.

&gt;<i>
</I>
&gt;<i> 2)   As MILENAGE allows some operator-specific customization, I was
</I>
&gt;<i> wondering about what customization (if any) have been implemented in
</I>
&gt;<i> the FOKUS HSS (as the same would have to performed on the UICC to be
</I>
&gt;<i> used for test purposes, otherwise the authentication will
</I>
&gt;<i> sistematically fail) or, viceversa,  if the MILENAGE algorithm
</I>
&gt;<i> implemented on the FOKUS HSS can be customized by the FOKUS's user, to
</I>
&gt;<i> align it to the MILENAGE set implemented in the UICC to be used for
</I>
&gt;<i> test purposes. Do you have any information about this?
</I>


Really good question. And yes: there is in hss.properties the option to

configure operatorId, AMF ID and Milenage parameters.

&gt;<i>
</I>
&gt;<i> 3)   Are the Quintets generated by the FOKUS HSS supposed to be used
</I>
&gt;<i> also for the (needed) 3G AKA authentication to be performed before IMS
</I>
&gt;<i> AKA (to authenticate the user to the PS domain)?
</I>


(Unlike Telecom Italia) we do not have a 3G network to test with and

thus this was never done.



&gt;<i> In case, I assume that the FOKUS HSS is supposed to be able to &quot;talk&quot;
</I>
&gt;<i> also with the MSC/SGSN. Is this the case? I mean if the interfaces
</I>
&gt;<i> towards the SGSNs/MSCs are supported, or not...
</I>


I have hunch that those are SS7 based and thus not supported. We are

focused to support all-IP (read: Cx, Sh and Zh) interfaces in the FHoSS.

Maybe some more in the future.

&gt;<i>
</I>
&gt;<i> 4)   If quintets generated by the FOKUS HSS are intended to be used
</I>
&gt;<i> ONLY for IMS AKA (i.e. they cannot be used for 3G AKA), in my
</I>
&gt;<i> understanding it is like having a &quot;duplication&quot; of AuC functionalities
</I>
&gt;<i> (since the AuC is certainly needed also for 3G AKA). In this scenario,
</I>
&gt;<i> provided that it is the &quot;right one&quot;, I am wondering about how the
</I>
&gt;<i> Quintets generated (for the same user) by the FOKUS HSS and by the
</I>
&gt;<i> HLR/AuC can be kept &quot;aligned&quot;, to avoid syncronization failures due to
</I>
&gt;<i> the SQN parameter (that is somehow &quot;inside&quot; the generic Quintet). By
</I>
&gt;<i> chance, do you have any view on this?
</I>


We have tested the synchronisation for IMS AKA only with real UICCs and

it works (this was already over 2 years back). As we tested in a private

WLAN for an access network there was no interference with 3G AKA syncing

but I see no reason why it should not work here as well.



&gt;<i>
</I>
&gt;<i> If Quintets are NOT assumed to be generated in the FOKUS HSS(i.e.
</I>
&gt;<i> FOKUS IMS does not implement any MILENAGE set), then I assume that
</I>
&gt;<i> Quintets to be used (also) for IMS AKA have to be generated outside of
</I>
&gt;<i> the FOKUS Core network, i.e. in the &quot;real&quot; HLR/AuC. This could
</I>
&gt;<i> certainly be fine for quintets to be used for 3G AKA, but assuming to
</I>
&gt;<i> use <A HREF="http://www.openimscore.org/">http://www.openimscore.org/</A> to test IMS AKA, how can the S-CSCF
</I>
&gt;<i> get the &quot;Quintet&quot; to be used for IMS AKA?
</I>


Well, to complete the statements above: the FHoSS acts as AuC for IMS

registrations with AKA and sends the quintet to the S-CSCF in the MAA.



&gt;<i> Can the FOKUS S-CSCF fetch the Quintet from the &quot;real&quot; HLR/AuC located
</I>
&gt;<i> outside of the FOKUS core network? Is the interface supported?
</I>


Not as of now (unless there is now a Diameter interface for this). At

least this was never tried with us.



Hope this answered your question and we would appreciate feedback on how tests with UICCs went ;)



Regards,



Peter

Questo messaggio e i suoi allegati sono indirizzati esclusivamente alle persone indicate. La diffusione, copia o qualsiasi altra azione derivante dalla conoscenza di queste informazioni sono rigorosamente vietate. Qualora abbiate ricevuto questo documento per errore siete cortesemente pregati di darne immediata comunicazione al mittente e di provvedere alla sua distruzione, Grazie.

This e-mail and any attachments is confidential and may contain privileged information intended for the addressee(s) only. Dissemination, copying, printing or use by anybody else is unauthorised. If you are not the intended recipient, please delete this message and any attachments and advise the sender by return e-mail, Thanks.

[cid:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">00000000000000000000000000000001 at TI.Disclaimer</A>]Rispetta l'ambiente. Non stampare questa mail se non &#232; necessario.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20090720/dd102114/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20090720/dd102114/attachment.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: logo Ambiente_foglia.jpg
Type: image/jpeg
Size: 677 bytes
Desc: logo Ambiente_foglia.jpg
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20090720/dd102114/attachment.jpg">https://lists.berlios.de/pipermail/openimscore-users/attachments/20090720/dd102114/attachment.jpg</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005606.html">[OpenIMSCore-Users] Basic question #3......
</A></li>
	<LI>Next message: <A HREF="005632.html">[OpenIMSCore-Users] R:  Basic question #3......
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5619">[ date ]</a>
              <a href="thread.html#5619">[ thread ]</a>
              <a href="subject.html#5619">[ subject ]</a>
              <a href="author.html#5619">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
