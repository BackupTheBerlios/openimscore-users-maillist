<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] Troubles with AS initiated NOTIFY message
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2010-January/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Troubles%20with%20AS%20initiated%20NOTIFY%20message&In-Reply-To=%3C0016e6d77e6fa6bda2047c2ee131%40google.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005986.html">
   <LINK REL="Next"  HREF="005988.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] Troubles with AS initiated NOTIFY message</H1>
    <B>matyas.orhidi at gmail.com</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Troubles%20with%20AS%20initiated%20NOTIFY%20message&In-Reply-To=%3C0016e6d77e6fa6bda2047c2ee131%40google.com%3E"
       TITLE="[OpenIMSCore-Users] Troubles with AS initiated NOTIFY message">matyas.orhidi at gmail.com
       </A><BR>
    <I>Sat Jan  2 14:58:22 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="005986.html">[OpenIMSCore-Users] Troubles with AS initiated NOTIFY message
</A></li>
        <LI>Next message: <A HREF="005988.html">[OpenIMSCore-Users] Troubles with AS initiated NOTIFY message
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5987">[ date ]</a>
              <a href="thread.html#5987">[ thread ]</a>
              <a href="subject.html#5987">[ subject ]</a>
              <a href="author.html#5987">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Franz!

Thanks again for your investigation in this issue. I am trying to clarify  
the configuration:

The OpenIMS is running on a vmware on 192.168.126.128 (:4060-pcscf, :5060  
i-cscf, 6060-scscf)
The persense server is listening on the host OS on 192.168.126.1:5065
I am testing the AS with two mercuro IMS client.The first one is running on  
the host OS too and the second one is in an other vmware which IP is  
192.168.126.129
The outgoing TCP/UDP ports of the IMS clients and the AS are reserved by  
the OS and though a little bit confusing.
To clarify the flow please do the following. Try to find the 403 - Not  
registered.... response in wireshark. The first one is sent by the P-CSCF.  
Right click on the call-id header and apply as filter. This will select the  
corresponding SIP messages with the same call-id. I hope this will help you  
understand the message flow.

Regards,
Matyas


Franz Edler &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz-edler at aon.at</A>&gt;:




&gt;<i> Hello Matyas,
</I>


&gt;<i> I spent some time looking
</I>&gt;<i> into the wireshark capture, but I only found it is weird.
</I>
&gt;<i> There are many different
</I>&gt;<i> ports on your machines taking part and also due to different physical  
</I>&gt;<i> machines
</I>&gt;<i> the IP fragmentation does not allow to see a consistent flow of messages.
</I>
&gt;<i> Therefore eg I cannot
</I>&gt;<i> see where the NOTIFY (packet 141) request really originates (from  
</I>&gt;<i> 192.168.126.1:49332?),
</I>&gt;<i> but I also do not see the SUBSCRIBE request arriving there before.
</I>


&gt;<i> Sorry but that's impossible
</I>&gt;<i> to analyze without more information within the trace.
</I>


&gt;<i> Regards
</I>
&gt;<i> Franz
</I>













&gt;<i> From:
</I>&gt;<i> &#336;rhidi M&#225;ty&#225;s [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">matyas.orhidi at gmail.com</A>]
</I>
&gt;<i> Sent: Friday, January 01, 2010
</I>&gt;<i> 6:49 PM
</I>
&gt;<i> To: Franz Edler
</I>
&gt;<i> Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>
&gt;<i> Subject: Re: [OpenIMSCore-Users]
</I>&gt;<i> Troubles with AS initiated NOTIFY message
</I>





&gt;<i> Hello Franz!
</I>


&gt;<i> Thanks for your efforts. I attached a wireshark capture from the problem.
</I>


&gt;<i> Regards,
</I>
&gt;<i> Matyas
</I>


&gt;<i> 2009/12/31 Franz Edler <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz-edler at aon.at</A>&gt;
</I>
&gt;<i> Hello Matyas,
</I>






&gt;<i> &gt; I am trying to integrate our presence server with OpenIMS. However I
</I>
&gt;<i> &gt; receive Status-Line: SIP/2.0 403 Forbidden - Not Registered! You must
</I>
&gt;<i> &gt; register first with a S-CSCF response to the AS initiated NOTIFY  
</I>&gt;<i> message.
</I>
&gt;<i> &gt; I searched the archives and found an issue similar to this but the
</I>
&gt;<i> &gt; solution was missing from the thread:( Could someone help me in this
</I>
&gt;<i> &gt; issue? I am stucked with it...
</I>






&gt;<i> Please add a trace-file
</I>&gt;<i> of the core messages.
</I>
&gt;<i> I guess your AS did not honour the Record-Route header fields of the
</I>
&gt;<i> SUBSCRIBE request.
</I>


&gt;<i> Regards
</I>
&gt;<i> Franz
</I>

















-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20100102/14f187ad/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20100102/14f187ad/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005986.html">[OpenIMSCore-Users] Troubles with AS initiated NOTIFY message
</A></li>
	<LI>Next message: <A HREF="005988.html">[OpenIMSCore-Users] Troubles with AS initiated NOTIFY message
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5987">[ date ]</a>
              <a href="thread.html#5987">[ thread ]</a>
              <a href="subject.html#5987">[ subject ]</a>
              <a href="author.html#5987">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
