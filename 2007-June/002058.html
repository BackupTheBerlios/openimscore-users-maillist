<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] &#22238;&#22797;&#65306; Re:  How to identify the user at P-CSCF?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2007-June/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%0A%20%3D%3Fgb2312%3Fb%3Fu9i4tKO6IFJlOiAgSG93IHRvIGlkZW50%3F%3D%0A%20%3D%3Fgb2312%3Fb%3FaWZ5IHRoZSB1c2VyIGF0IFAtQ1NDRj8%3D%3F%3D&In-Reply-To=%3C4684D94E.3030008%40fokus.fraunhofer.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002056.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] &#22238;&#22797;&#65306; Re:  How to identify the user at P-CSCF?</H1>
    <B>Dragos Vingarzan</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%0A%20%3D%3Fgb2312%3Fb%3Fu9i4tKO6IFJlOiAgSG93IHRvIGlkZW50%3F%3D%0A%20%3D%3Fgb2312%3Fb%3FaWZ5IHRoZSB1c2VyIGF0IFAtQ1NDRj8%3D%3F%3D&In-Reply-To=%3C4684D94E.3030008%40fokus.fraunhofer.de%3E"
       TITLE="[OpenIMSCore-Users] &#22238;&#22797;&#65306; Re:  How to identify the user at P-CSCF?">Dragos.Vingarzan at fokus.fraunhofer.de
       </A><BR>
    <I>Fri Jun 29 12:05:02 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002056.html">[OpenIMSCore-Users] SUBSCRIBE with 404 &quot;User not registered on this S-CSCF&quot;
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2058">[ date ]</a>
              <a href="thread.html#2058">[ thread ]</a>
              <a href="subject.html#2058">[ subject ]</a>
              <a href="author.html#2058">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>No, the Via header contents are taken into account and compared to the
Contact addresses accepted in the registration (present in the 200 OK
for REGISTER).

-Dragos
mark lee wrote:
&gt;<i> Hi,Dragos:
</I>&gt;<i> So I can consider that the P-CSCF can identify the user with the
</I>&gt;<i> contact header of INVITE message,right?
</I>&gt;<i> Following is the Invite message I captured.
</I>&gt;<i> ---------------------------------------------------------------------------------------------------------
</I>&gt;<i> INVITE sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at open-ims.test</A> SIP/2.0
</I>&gt;<i> Via: SIP/2.0/UDP
</I>&gt;<i> 10.193.102.30:3061;rport;branch=z9hG4bK7FD9D91E520994B6B5B69702F8DF7048
</I>&gt;<i> From: 55555 &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">55555 at open-ims.test</A>:3061&gt;;tag=1362052409
</I>&gt;<i> To: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at open-ims.test</A>&gt;
</I>&gt;<i> Contact: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">55555 at 10.193.102.30</A>:3061&gt;
</I>&gt;<i> Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">5EEFF4BD-A276-9B8F-15BE-839D8D6449F1 at 10.193.102.30</A>
</I>&gt;<i> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">5EEFF4BD-A276-9B8F-15BE-839D8D6449F1 at 10.193.102.30</A>&gt;
</I>&gt;<i> CSeq: 9741 INVITE
</I>&gt;<i> Max-Forwards: 70
</I>&gt;<i> Content-Type: application/sdp
</I>&gt;<i> User-Agent: X-Lite release 1105d
</I>&gt;<i> Content-Length: 310
</I>&gt;<i> v=0
</I>&gt;<i> o=55555 729227309 729227348 IN IP4 10.193.102.30
</I>&gt;<i> s=X-Lite
</I>&gt;<i> c=IN IP4 10.193.102.30
</I>&gt;<i> t=0 0
</I>&gt;<i> m=audio 8000 RTP/AVP 0 8 3 98 97 101
</I>&gt;<i> a=rtpmap:0 pcmu/8000
</I>&gt;<i> a=rtpmap:8 pcma/8000
</I>&gt;<i> a=rtpmap:3 gsm/8000
</I>&gt;<i> a=rtpmap:98 iLBC/8000
</I>&gt;<i> a=rtpmap:97 speex/8000
</I>&gt;<i> a=rtpmap:101 telephone-event/8000
</I>&gt;<i> a=fmtp:101 0-15
</I>&gt;<i> a=sendrecv
</I>&gt;<i> ----------------------------------------------------------------------------------------------------------
</I>&gt;<i> Thanks
</I>&gt;<i>
</I>&gt;<i> */Dragos Vingarzan &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Dragos.Vingarzan at fokus.fraunhofer.de</A>&gt;/* &#20889;&#36947;&#65306;
</I>&gt;<i>
</I>&gt;<i>     The P-CSCF spies on the registration and the subscribes to the &quot;reg&quot;
</I>&gt;<i>     event at the S-CSCF as such it knows the contact address and also the
</I>&gt;<i>     expiration periods for that particular user. As the UE must always use
</I>&gt;<i>     as a strict outbound proxy the P-CSCF, it identifies it by the source
</I>&gt;<i>     IP:port. This method would be strong one if the UE would also use a
</I>&gt;<i>     security method, like TLS or IPSec. But as for now almost none of
</I>&gt;<i>     the UE
</I>&gt;<i>     implement this, the P-CSCF is set to also accept unencrypted traffic
</I>&gt;<i>     (but could be easily configured otherwise).
</I>&gt;<i>
</I>&gt;<i>     -Dragos
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     mark lee wrote:
</I>&gt;<i>     &gt; If one UE registered with the IMS CN, after that it send INVITE to
</I>&gt;<i>     &gt; P-CSCF, How does the P-CSCF know the UE is the registered UE?
</I>&gt;<i>     &gt; Thanks
</I>&gt;<i>     &gt; Gogofly
</I>&gt;<i>     &gt;
</I>&gt;<i>     &gt;
</I>&gt;<i>     ------------------------------------------------------------------------
</I>&gt;<i>     &gt; &#38597;&#34382;&#20813;&#36153;&#37038;&#31665;-3.5G&#23481;&#37327;&#65292;20M&#38468;&#20214;
</I>&gt;<i>     &gt;
</I>&gt;<i>     ------------------------------------------------------------------------
</I>&gt;<i>     &gt;
</I>&gt;<i>     &gt; _______________________________________________
</I>&gt;<i>     &gt; OpenIMSCore-Users mailing list
</I>&gt;<i>     &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>&gt;<i>     &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>&gt;<i>     &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     -- 
</I>&gt;<i>     -----------------------------------------
</I>&gt;<i>     Dipl. Eng. Dragos Vingarzan
</I>&gt;<i>     Fraunhofer FOKUS/NGNI
</I>&gt;<i>     Kaiserin-Augusta-Allee 31
</I>&gt;<i>     10589 Berlin,Germany
</I>&gt;<i>     Phone +49 (0)30 - 3463 - 7385
</I>&gt;<i>     Mobile +49 (0)163 - 159 - 5221
</I>&gt;<i>     Web www.fokus.fraunhofer.de www.openimscore.org
</I>&gt;<i>     We could change the world if God would give us the source code...
</I>&gt;<i>     -----------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> &#25250;&#27880;&#38597;&#34382;&#20813;&#36153;&#37038;&#31665;-3.5G&#23481;&#37327;&#65292;20M&#38468;&#20214;&#65281; &lt;<A HREF="http://cn.mail.yahoo.com">http://cn.mail.yahoo.com</A>&gt; 
</I>

-- 
-----------------------------------------
Dipl. Eng. Dragos Vingarzan
Fraunhofer FOKUS/NGNI
Kaiserin-Augusta-Allee 31
10589 Berlin,Germany
Phone +49 (0)30 - 3463 - 7385
Mobile +49 (0)163 - 159 - 5221
Web www.fokus.fraunhofer.de www.openimscore.org
We could change the world if God would give us the source code...
-----------------------------------------------------------------


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002056.html">[OpenIMSCore-Users] SUBSCRIBE with 404 &quot;User not registered on this S-CSCF&quot;
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2058">[ date ]</a>
              <a href="thread.html#2058">[ thread ]</a>
              <a href="subject.html#2058">[ subject ]</a>
              <a href="author.html#2058">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
