<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] Need explanation for S-CSCF behaviour when	forwarding messages from AS to UE
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2008-December/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Need%20explanation%20for%20S-CSCF%20behaviour%20when%0A%09forwarding%20messages%20from%20AS%20to%20UE&In-Reply-To=%3Cbbc3b52d0812100709g18790f94ge54fae81b48a4ab7%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004926.html">
   <LINK REL="Next"  HREF="004931.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] Need explanation for S-CSCF behaviour when	forwarding messages from AS to UE</H1>
    <B>prabhavati inamdar</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Need%20explanation%20for%20S-CSCF%20behaviour%20when%0A%09forwarding%20messages%20from%20AS%20to%20UE&In-Reply-To=%3Cbbc3b52d0812100709g18790f94ge54fae81b48a4ab7%40mail.gmail.com%3E"
       TITLE="[OpenIMSCore-Users] Need explanation for S-CSCF behaviour when	forwarding messages from AS to UE">prabhavati at gmail.com
       </A><BR>
    <I>Wed Dec 10 16:09:17 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="004926.html">[OpenIMSCore-Users] Fw:question of isc
</A></li>
        <LI>Next message: <A HREF="004931.html">[OpenIMSCore-Users] Need explanation for S-CSCF behaviour when forwarding messages from AS to UE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4929">[ date ]</a>
              <a href="thread.html#4929">[ thread ]</a>
              <a href="subject.html#4929">[ subject ]</a>
              <a href="author.html#4929">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
While using AS with OpenIMSCore, noticed following SCSCF behaviour.

- 3rd Party registration is successful.
- When UE sends a message to AS, 200 OK from AS reaches UE

_However_, when AS sends a message to UE, via S-CSCF, following happens

0. SCSCF sends message back to AS with additional Route header
&quot;'Route: &lt;sip:&lt;AS&gt;.somedomain.com&gt;:&lt;AS Port&gt;;lr&gt;, &lt;sip:
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">iscmark at scscf.somedomain.com</A> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">iscmark at scscf.tatarasystems.com</A>&gt;
:<i>6060;lr;s=1;h=0;d=0;a=7369703a62633366626339644074617461726173797374656d732e636f6d&gt;&quot;
</I>
1. If AS does not respond to this message, this message eventually reaches
UE

1.1 If AS responds with 400 bad message the message does not reach UE


2. If AS modifies additional Route header to remove itself and
resend message to scscf it reaches UE. i.e. uses
&quot;Route:&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">iscmark at scscf.somedomain.com</A> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">iscmark at scscf.tatarasystems.com</A>&gt;
:<i>6060;lr;s=1;h=0;d=0;a=7369703a62633366626339644074617461726173797374656d732e636f6d&gt;&quot;
</I>

My questions are
1. What is the reason for step3, i.e. adding the route header ?  Why does
this header need to be added ?
2. Which standard says that this is expected behaviour ?
3. Is there any way in which step 0 can be turned off ? As SCSCF already
knows that for the message to reach UE this header needs to be added, why
does it not simply add the header and let the message go to the UE ?



Thanks in Advance
Prabha

P.S. I have posted this to cscf group, but not got any answers. So reposting
this.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20081210/c0b43a62/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20081210/c0b43a62/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004926.html">[OpenIMSCore-Users] Fw:question of isc
</A></li>
	<LI>Next message: <A HREF="004931.html">[OpenIMSCore-Users] Need explanation for S-CSCF behaviour when forwarding messages from AS to UE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4929">[ date ]</a>
              <a href="thread.html#4929">[ thread ]</a>
              <a href="subject.html#4929">[ subject ]</a>
              <a href="author.html#4929">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
