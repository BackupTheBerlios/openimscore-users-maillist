<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] =?GB2312?B?UmU6IFtPcGVuSU1TQ29yZS1Vc2Vyc10gV2hlbiB1c2VyIHJlZ2lzdA==?= =?GB2312?B?ZXIsIFNDU0NGIHJldHVybiAiU0lQLzIuMCA0MDMgRm9yYmlkZGVuIKhDIERvbQ==?= =?GB2312?B?YWluIG5vdCBzZXJ2aWNlZCI=?=
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2006-December/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%0A%20%3D%3FGB2312%3FB%3FUmU6IFtPcGVuSU1TQ29yZS1Vc2Vyc10gV2hlbiB1c2VyIHJlZ2lzdA%3D%3D%3F%3D%0A%20%3D%3FGB2312%3FB%3FZXIsIFNDU0NGIHJldHVybiAiU0lQLzIuMCA0MDMgRm9yYmlkZGVuIKhDIERvbQ%3D%3D%3F%3D%0A%20%3D%3FGB2312%3FB%3FYWluIG5vdCBzZXJ2aWNlZCI%3D%3F%3D&In-Reply-To=%3C4576C48A.7000408%40fokus.fraunhofer.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000186.html">
   <LINK REL="Next"  HREF="000321.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] =?GB2312?B?UmU6IFtPcGVuSU1TQ29yZS1Vc2Vyc10gV2hlbiB1c2VyIHJlZ2lzdA==?= =?GB2312?B?ZXIsIFNDU0NGIHJldHVybiAiU0lQLzIuMCA0MDMgRm9yYmlkZGVuIKhDIERvbQ==?= =?GB2312?B?YWluIG5vdCBzZXJ2aWNlZCI=?=</H1>
    <B>Dragos Vingarzan</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%0A%20%3D%3FGB2312%3FB%3FUmU6IFtPcGVuSU1TQ29yZS1Vc2Vyc10gV2hlbiB1c2VyIHJlZ2lzdA%3D%3D%3F%3D%0A%20%3D%3FGB2312%3FB%3FZXIsIFNDU0NGIHJldHVybiAiU0lQLzIuMCA0MDMgRm9yYmlkZGVuIKhDIERvbQ%3D%3D%3F%3D%0A%20%3D%3FGB2312%3FB%3FYWluIG5vdCBzZXJ2aWNlZCI%3D%3F%3D&In-Reply-To=%3C4576C48A.7000408%40fokus.fraunhofer.de%3E"
       TITLE="[OpenIMSCore-Users] =?GB2312?B?UmU6IFtPcGVuSU1TQ29yZS1Vc2Vyc10gV2hlbiB1c2VyIHJlZ2lzdA==?= =?GB2312?B?ZXIsIFNDU0NGIHJldHVybiAiU0lQLzIuMCA0MDMgRm9yYmlkZGVuIKhDIERvbQ==?= =?GB2312?B?YWluIG5vdCBzZXJ2aWNlZCI=?=">vingarzan at fokus.fraunhofer.de
       </A><BR>
    <I>Wed Dec  6 14:24:26 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000186.html">[OpenIMSCore-Users] When user register, SCSCF return &quot;SIP/2.0 403 Forbidden =?GB2312?B?qEMgRG9tYWluIG5vdCBzZXJ2aWNlZCI=?=
</A></li>
        <LI>Next message: <A HREF="000321.html">[OpenIMSCore-Users] [OpenIMSCore-CSCF] Compile error of ser_ims
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#187">[ date ]</a>
              <a href="thread.html#187">[ thread ]</a>
              <a href="subject.html#187">[ subject ]</a>
              <a href="author.html#187">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>uri2dst: failed to resolve &quot;open-ims.test&quot;

It looks like SER really needs a DNS to resolve it. It is normal if you
think about &quot;SRV&quot; and &quot;NAPTR&quot; entries (now I remembered ;-) ). So you
HAVE to use a real DNS server. /etc/hosts simply won't work - it's just
a hack to get &quot;A&quot; like DNS entries solved.

-Dragos

Yin Ben Xia wrote:
&gt;<i>
</I>&gt;<i> Hi Dragos,
</I>&gt;<i>
</I>&gt;<i> Thanks for your reply.
</I>&gt;<i>
</I>&gt;<i> Because I can not control DNS, once I had added 127.0.0.1
</I>&gt;<i> p/i/scscf.open-ims.test in /etc/hosts
</I>&gt;<i> under this condition, I can ping open-ims.test
</I>&gt;<i> I use <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A> do registration, but after sip2ims forward
</I>&gt;<i> request to pcscf, pcscf returns some errors, the following is its output:
</I>&gt;<i> 5(8355) INF:P-CSCF:---------- Registrar Contents end ----------
</I>&gt;<i> 4(8354) ERROR: sip_hostport2su: could not resolve hostname:
</I>&gt;<i> &quot;open-ims.test&quot;
</I>&gt;<i> 4(8354) ERROR: uri2dst: failed to resolve &quot;open-ims.test&quot;
</I>&gt;<i> 4(8354) ERROR: t_forward_nonack: failure to add branches
</I>&gt;<i> 5(8355) INF:P-CSCF:---------- Registrar Contents begin --------
</I>&gt;<i> 5(8355) INF:P-CSCF:---------- Registrar Contents end ----------
</I>&gt;<i>
</I>&gt;<i> Network message flow is :
</I>&gt;<i> 1, sip-simualtor --&gt; sip2ims(3060)
</I>&gt;<i> 2, sip2ims --&gt; pcscf (4060)
</I>&gt;<i> REGISTER sip:open-ims.test SIP/2.0
</I>&gt;<i> Max-Forwards: 11
</I>&gt;<i> Via: SIP/2.0/UDP 0.0.0.0:3060;branch=z9hG4bKa182.717813f.0
</I>&gt;<i> Via: SIP/2.0/UDP 192.168.0.6:20319;branch=z9hG4bK-33-1
</I>&gt;<i> From: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=5b4150c61a7c0dd8
</I>&gt;<i> To: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;
</I>&gt;<i> Call-ID: 1734921434-192.168.0.6
</I>&gt;<i> CSeq: 1 REGISTER
</I>&gt;<i> Contact: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at 192.168.0.6</A>:20319&gt;
</I>&gt;<i> Expires: 3600
</I>&gt;<i> Allow: INVITE, ACK, CANCEL, OPTIONS, BYE, REFER, NOTIFY, MESSAGE,
</I>&gt;<i> SUBSCRIBE, INFO
</I>&gt;<i> User-Agent: IBM Sip Simulator
</I>&gt;<i> Content-Length: 0
</I>&gt;<i> Authorization: Digest username=&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&quot;, realm=&quot;open-ims.test&quot;,
</I>&gt;<i> 3, pcscf --&gt;sip2ims (3060)
</I>&gt;<i> SIP/2.0 478 Unresolvable destination (478/TM)
</I>&gt;<i> Via: SIP/2.0/UDP
</I>&gt;<i> 0.0.0.0:3060;branch=z9hG4bKa182.717813f.0;rport=3060;received=127.0.0.1
</I>&gt;<i> Via: SIP/2.0/UDP 192.168.0.6:20319;branch=z9hG4bK-33-1
</I>&gt;<i> From: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=5b4150c61a7c0dd8
</I>&gt;<i> To: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=5d140a338aa6e1dd545b3496380067c9-db80
</I>&gt;<i> Call-ID: 1734921434-192.168.0.6
</I>&gt;<i> CSeq: 1 REGISTER
</I>&gt;<i> Server: Sip EXpress router (0.10.99-dev53-tm_fixes (i386/linux))
</I>&gt;<i> Content-Length: 0
</I>&gt;<i> Warning: 392 0.0.0.0:4060 &quot;Noisy feedback tells: pid=8354
</I>&gt;<i> req_src_ip=127.0.0.1 req_src_port=3060 in_uri=sip:open-ims.test
</I>&gt;<i> out_uri=sip:open-ims.test via_cnt==2&quot;
</I>&gt;<i>
</I>&gt;<i> Because of above error, I replace domain name by IP address, but it
</I>&gt;<i> causes my first mail's question.
</I>&gt;<i>
</I>&gt;<i> Could you please help me to anaylse this situation?
</I>&gt;<i>
</I>&gt;<i> Danke :)
</I>&gt;<i>
</I>&gt;<i> Best Regards,
</I>&gt;<i>
</I>&gt;<i> Ben
</I>&gt;<i> ---------------------
</I>&gt;<i> Dr. Yin Ben Xia
</I>&gt;<i>
</I>&gt;<i> IBM China Research Laboratory
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Inactive hide details for Dragos Vingarzan
</I>&gt;<i> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vingarzan at fokus.fraunhofer.de</A>&gt;Dragos Vingarzan
</I>&gt;<i> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vingarzan at fokus.fraunhofer.de</A>&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>                         *Dragos Vingarzan
</I>&gt;<i>                         &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vingarzan at fokus.fraunhofer.de</A>&gt;*
</I>&gt;<i>
</I>&gt;<i>                         2006-12-06 18:46
</I>&gt;<i>
</I>&gt;<i> 	
</I>&gt;<i>
</I>&gt;<i> To
</I>&gt;<i> 	
</I>&gt;<i> Yin Ben Xia/China/<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">IBM at IBMCN</A>
</I>&gt;<i>
</I>&gt;<i> cc
</I>&gt;<i> 	
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;<i>
</I>&gt;<i> Subject
</I>&gt;<i> 	
</I>&gt;<i> Re: [OpenIMSCore-Users] When user register, SCSCF return &quot;SIP/2.0 403
</I>&gt;<i> Forbidden &#168;C Domain not serviced&quot;
</I>&gt;<i>
</I>&gt;<i> 	
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hi there,
</I>&gt;<i>
</I>&gt;<i> The REGISTER request is wrong. You should REGISTER to the
</I>&gt;<i> &quot;sip:open-ims.test&quot; Request-URI. &quot;sip:192.168.0.8:6060&quot; is well... not
</I>&gt;<i> serviced.
</I>&gt;<i>
</I>&gt;<i> The thing is that you should register to the domain. Don't worry about
</I>&gt;<i> the registrar location, the I-CSCF+HSS will find the right one for you.
</I>&gt;<i>
</I>&gt;<i> -Dragos
</I>&gt;<i>
</I>&gt;<i> Yin Ben Xia wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I want to setup a IMS-core test bed, I run all the program in one
</I>&gt;<i> &gt; machine (p/i/sCSCF,sip2ims,FHoSS).
</I>&gt;<i> &gt; Because I don't have DNS, I add a new user as sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">xyb at 192.168.0.8</A> and
</I>&gt;<i> &gt; set its SCSCF as sip:192.168.0.8:6060 through web.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; First, I want to do a registration. I issue a register request from
</I>&gt;<i> &gt; sip-simulator. I monitor network traffic, I find its process as
</I>&gt;<i> following:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 1, sip-simualtor --&gt; sip2ims(3060)
</I>&gt;<i> &gt; 2, sip2ims --&gt; pcscf (4060)
</I>&gt;<i> &gt; 3, pcscf --&gt; icscf (5060)
</I>&gt;<i> &gt; 4, icscf(3869) --&gt; FHoSS (authentication and get scscf info)
</I>&gt;<i> &gt; 5, FHoSS --&gt;icscf
</I>&gt;<i> &gt; 6, icscf --&gt;scscf(6060)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; REGISTER sip:192.168.0.8:6060 SIP/2.0
</I>&gt;<i> &gt; Max-Forwards: 9
</I>&gt;<i> &gt; Via: SIP/2.0/UDP 0.0.0.0;branch=z9hG4bK084f.36d7d522.0
</I>&gt;<i> &gt; Via: SIP/2.0/UDP
</I>&gt;<i> &gt; 0.0.0.0:4060;received=192.168.0.8;branch=z9hG4bK084f.81416d06.0
</I>&gt;<i> &gt; Via: SIP/2.0/UDP
</I>&gt;<i> &gt; 0.0.0.0:3060;rport=3060;received=127.0.0.1;branch=z9hG4bK084f.6a7999c6.0
</I>&gt;<i> &gt; Path: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">term at pcscf.open-ims.test</A>:4060;lr&gt;
</I>&gt;<i> &gt; Require: path
</I>&gt;<i> &gt; P-Charging-Vector: icid-value=&quot;abcd457502e900000003&quot;;
</I>&gt;<i> &gt; icid-gen-addr=&quot;127.0.0.1&quot;; orig-ioi=&quot;open-ims.test&quot;
</I>&gt;<i> &gt; Via: SIP/2.0/UDP 192.168.0.8:20311;branch=z9hG4bK-28-1
</I>&gt;<i> &gt; From: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">xia at 192.168.0.8</A>&gt;;tag=5a58585584d83c31
</I>&gt;<i> &gt; To: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">xia at 192.168.0.8</A>&gt;
</I>&gt;<i> &gt; Call-ID: 128158220-192.168.0.6
</I>&gt;<i> &gt; CSeq: 1 REGISTER
</I>&gt;<i> &gt; Contact: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">xia at 192.168.0.6</A>:20311&gt;
</I>&gt;<i> &gt; Expires: 3600
</I>&gt;<i> &gt; Allow: INVITE, ACK, CANCEL, OPTIONS, BYE, REFER, NOTIFY, MESSAGE,
</I>&gt;<i> &gt; SUBSCRIBE, INFO
</I>&gt;<i> &gt; User-Agent: IBM Sip Simulator
</I>&gt;<i> &gt; Content-Length: 0
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 7, scscf --&gt; icscf (SIP/2.0 403 Forbidden &#168;C Domain not serviced)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; SIP/2.0 403 Forbidden - Domain not serviced
</I>&gt;<i> &gt; Via: SIP/2.0/UDP
</I>&gt;<i> &gt; 0.0.0.0;branch=z9hG4bK084f.36d7d522.0;received=192.168.0.8
</I>&gt;<i> &gt; Via: SIP/2.0/UDP
</I>&gt;<i> &gt; 0.0.0.0:4060;received=192.168.0.8;branch=z9hG4bK084f.81416d06.0
</I>&gt;<i> &gt; Via: SIP/2.0/UDP
</I>&gt;<i> &gt; 0.0.0.0:3060;rport=3060;received=127.0.0.1;branch=z9hG4bK084f.6a7999c6.0
</I>&gt;<i> &gt; Via: SIP/2.0/UDP 192.168.0.6:20311;branch=z9hG4bK-28-1
</I>&gt;<i> &gt; From: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">xia at 192.168.0.8</A>&gt;;tag=5a58585584d83c31
</I>&gt;<i> &gt; To: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">xia at 192.168.0.8</A>&gt;;tag=602fbe8006ba0184a6ab2c41c7a00f2f.1caa
</I>&gt;<i> &gt; Call-ID: 128158220-192.168.0.6
</I>&gt;<i> &gt; CSeq: 1 REGISTER
</I>&gt;<i> &gt; Server: Sip EXpress router (0.10.99-dev53-tm_fixes (i386/linux))
</I>&gt;<i> &gt; Content-Length: 0
</I>&gt;<i> &gt; Warning: 392 0.0.0.0:6060 &quot;Noisy feedback tells: pid=8388
</I>&gt;<i> &gt; req_src_ip=192.168.0.8 req_src_port=5060 in_uri=sip:192.168.0.8:6060
</I>&gt;<i> &gt; out_uri=sip:192.168.0.8:6060 via_cnt==4&quot;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Dose anybody have idea?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks in advance.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Best Regards,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ________________________________________________________________________
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _&#207;&#196;&#210;&#250;&#234;&#218;_
</I>&gt;<i> &gt; &lt;<A HREF="http://w3.ibm.com/bluepages/simpleSearch.wss?searchFor=xia+yin+ben">http://w3.ibm.com/bluepages/simpleSearch.wss?searchFor=xia+yin+ben</A>&gt;
</I>&gt;<i> &#178;&#169;&#202;&#191;
</I>&gt;<i> &gt; Dr. _Yinben Xia_
</I>&gt;<i> &gt; &lt;<A HREF="http://w3.ibm.com/bluepages/simpleSearch.wss?searchFor=xia+yin+ben">http://w3.ibm.com/bluepages/simpleSearch.wss?searchFor=xia+yin+ben</A>&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; *IBM*
</I>&gt;<i> &gt; IBM China Research Lab, China
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 3/F, ZuanShi Building,Zhongguancun Software Park, Shangdi,
</I>&gt;<i> &gt; Haidian District, Beijing, 100094, PRC China
</I>&gt;<i> &gt; TEL: 86-10-58748421
</I>&gt;<i> &gt; FAX: 86-10-58748330
</I>&gt;<i> &gt; E-mail: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">_xiayb at cn.ibm.com_</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">xiayb at cn.ibm.com</A>&gt;
</I>&gt;<i> &gt; &#161;&#161;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ------------------------------------------------------------------------
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; OpenIMSCore-Users mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> -----------------------------------------
</I>&gt;<i> Dipl. Eng. Dragos Vingarzan
</I>&gt;<i> FOKUS/NGNI
</I>&gt;<i> Kaiserin-Augusta-Allee 31
</I>&gt;<i> 10589 Berlin,Germany
</I>&gt;<i> Phone +49 (0)30 - 3463 - 7385
</I>&gt;<i> Mobile +49 (0)163 - 159 - 5221
</I>&gt;<i> eMail <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vingarzan at fokus.fraunhofer.de</A>
</I>&gt;<i> Web www.fokus.fraunhofer.de
</I>&gt;<i> We could change the world if God would give us the source code...
</I>&gt;<i> -----------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
-----------------------------------------
Dipl. Eng. Dragos Vingarzan
FOKUS/NGNI
Kaiserin-Augusta-Allee 31
10589 Berlin,Germany
Phone +49 (0)30 - 3463 - 7385
Mobile +49 (0)163 - 159 - 5221
eMail <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vingarzan at fokus.fraunhofer.de</A>
Web www.fokus.fraunhofer.de
We could change the world if God would give us the source code...
-----------------------------------------------------------------


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000186.html">[OpenIMSCore-Users] When user register, SCSCF return &quot;SIP/2.0 403 Forbidden =?GB2312?B?qEMgRG9tYWluIG5vdCBzZXJ2aWNlZCI=?=
</A></li>
	<LI>Next message: <A HREF="000321.html">[OpenIMSCore-Users] [OpenIMSCore-CSCF] Compile error of ser_ims
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#187">[ date ]</a>
              <a href="thread.html#187">[ thread ]</a>
              <a href="subject.html#187">[ subject ]</a>
              <a href="author.html#187">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
