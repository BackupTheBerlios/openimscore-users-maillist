<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] Error while registration: Registration Failed:	Forbidden
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2006-December/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Error%20while%20registration%3A%20Registration%20Failed%3A%0A%09Forbidden&In-Reply-To=%3C002e01c72b00%24db771f80%240b40000a%40blr.velankani.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000420.html">
   <LINK REL="Next"  HREF="000425.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] Error while registration: Registration Failed:	Forbidden</H1>
    <B>Gaurav Kansal</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Error%20while%20registration%3A%20Registration%20Failed%3A%0A%09Forbidden&In-Reply-To=%3C002e01c72b00%24db771f80%240b40000a%40blr.velankani.com%3E"
       TITLE="[OpenIMSCore-Users] Error while registration: Registration Failed:	Forbidden">gkansal at velankani.com
       </A><BR>
    <I>Fri Dec 29 05:21:48 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000420.html">[OpenIMSCore-Users] which files and where should the IP	bechanged ????????????
</A></li>
        <LI>Next message: <A HREF="000425.html">[OpenIMSCore-Users] Run time errors while doing registration	fromkphone
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#421">[ date ]</a>
              <a href="thread.html#421">[ thread ]</a>
              <a href="subject.html#421">[ subject ]</a>
              <a href="author.html#421">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

 

I am finally able to start all the components. However when I send a
REGISTER message from kphone, it displays message: Registration Failed:
Forbidden

 

Configuration at kphone is for Alice as per the installation document. Rest
all components have default configurations. Can somebody see the logs below
and point out the issue. 

 

It looks some problem in hss configuration. I am assuming that default
configuration for Alice is already there and I followed all steps from
installation document. Below are the logs:

 

HSS:

[main] WARN  net.sf.ehcache.config.Configurator  - No configuration found.
Configuring ehcache from ehcache-failsafe.xml found in the classpath:
jar:file:/opt/OpenIMSCore/FHoSS/deploy/lib/ehcache-1.1.jar!/ehcache-failsafe
.xml

[main] INFO  org.hibernate.impl.SessionFactoryObjectFactory  - Factory name:
foo

[main] INFO  org.hibernate.util.NamingHelper  - JNDI InitialContext
properties:{}

[main] INFO  org.hibernate.impl.SessionFactoryObjectFactory  - Bound factory
to JNDI name: foo

[main] WARN  org.hibernate.impl.SessionFactoryObjectFactory  -
InitialContext did not implement EventContext

[main] INFO  org.hibernate.impl.SessionFactoryImpl  - Checking 0 named
queries

[main] INFO  de.fhg.fokus.hss.main.HssServer  - FHoSS was started and is
ready to use.

Type 'exit' to exit

 

Type 'exit' to exit

 

[Thread-8] INFO  de.fhg.fokus.hss.diam.cx.MARCommandListener  - MAR of User:
sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at open-ims.test</A> is being processed

[Thread-9] WARN  de.fhg.fokus.hss.diam.cx.UARCommandListener  -
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">de.fhg.fokus.hss.diam.cx.UARCommandListener at 18ed77a</A>

de.fhg.fokus.cx.exceptions.ims.UserUnknown

        at
de.fhg.fokus.hss.model.CxUserProfil.loadByPrivateIdentity(CxUserProfil.java:
263)

        at de.fhg.fokus.hss.model.CxUserProfil.&lt;init&gt;(CxUserProfil.java:118)

        at
de.fhg.fokus.hss.server.cx.op.CxOperation.loadUserProfile(CxOperation.java:1
51)

        at
de.fhg.fokus.hss.server.cx.op.QueryCxOperation.execute(QueryCxOperation.java
:<i>116)
</I>
        at
de.fhg.fokus.hss.server.cx.HSScxOperationsImpl.cxQuery(HSScxOperationsImpl.j
ava:99)

        at
de.fhg.fokus.hss.diam.cx.UARCommandListener.recvMessage(UARCommandListener.j
ava:141)

        at
de.fhg.fokus.diameter.DiameterPeer.DiameterWorker.run(DiameterWorker.java:10
0)

 

I-CSCF:

17(16936)  S[R_Open] hss.open-ims.test:3868 D[ ]

17(16936) ------------------

18(16975) DBG:sm_process(): Peer hss.open-ims.test      State R_Open
Event R_Rcv_Message

 1(16920) INFO:I-CSCF:Cx_get_result_code: Failed finding avp

18(16975) DBG:sm_process(): Peer hss.open-ims.test      State R_Open
Event R_Rcv_Message

 2(16921) INFO:I-CSCF:Cx_get_result_code: Failed finding avp

 2(16921) INFO:I-CSCF:Cx_get_capabilities: Failed finding avp

 1(16920) INFO:I-CSCF:Cx_get_capabilities: Failed finding avp

18(16975) DBG:sm_process(): Peer hss.open-ims.test      State R_Open
Event R_Rcv_Message

 3(16922) INFO:I-CSCF:Cx_get_result_code: Failed finding avp

17(16936) --- Peer List: ---

17(16936)  S[R_Open] hss.open-ims.test:3868 D[ ]

 

 

SIP2IMS:

1(16873) INF:SIP2IMS:sip2ims_get_public_identity: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at open-ims.test</A>&gt; 

 1(16873) INF:SIP2IMS:Gw_MD5_to_AKA: 

===

 

---

Authorization: Digest username=&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at open-ims.test</A>&quot;, realm=&quot;open-ims.test&quot;,

===

 4(16876) DBG:SIP2IMS:Gw_AKA_to_MD5: 401

 4(16876) INF:SIP2IMS:sip2ims_get_public_identity: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at open-ims.test</A>&gt;


 4(16876) INF:SIP2IMS:Gw_AKA_to_MD5: 

+++

Digest realm=&quot;open-ims.test&quot;,
nonce=&quot;WKyRQ/dtdAWc7HxuRMPKsgAAAAAABAAAVMVwtY2Wa6s=&quot;, algorithm=AKAv1-MD5

---

WWW-Authenticate: Digest username=&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at open-ims.test</A>&quot;,
realm=&quot;open-ims.test&quot;,
opaque=&quot;AKAv1-MD5WKyRQ/dtdAWc7HxuRMPKsgAAAAAABAAAVMVwtY2Wa6s=&quot;,
nonce=&quot;459497b4507da694f1d870db15b70d8894a0beaa&quot;, algorithm=MD5

+++

 1(16873) INF:SIP2IMS:Gw_MD5_to_AKA: 

===

Digest username=&quot;alice&quot;, realm=&quot;open-ims.test&quot;,
nonce=&quot;459497b4507da694f1d870db15b70d8894a0beaa&quot;,
uri=&quot;sip:sip2ims.open-ims.test&quot;, cnonce=&quot;abcdefghi&quot;, nc=00000001,
response=&quot;4f3281b5b3315deab27ee13083331551&quot;,
opaque=&quot;AKAv1-MD5WKyRQ/dtdAWc7HxuRMPKsgAAAAAABAAAVMVwtY2Wa6s=&quot;

---

Authorization: Digest username=&quot;alice&quot;, realm=&quot;open-ims.test&quot;,
nonce=&quot;459497b4507da694f1d870db15b70d8894a0beaa&quot;,
uri=&quot;sip:sip2ims.open-ims.test&quot;, cnonce=&quot;abcdefghi&quot;, nc=00000001,
response=&quot;4f3281b5b3315deab27ee13083331551&quot;,
opaque=&quot;AKAv1-MD5WKyRQ/dtdAWc7HxuRMPKsgAAAAAABAAAVMVwtY2Wa6s=&quot;

===

 

 

Regards,

Gaurav Kansal

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20061229/f3245f3d/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20061229/f3245f3d/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000420.html">[OpenIMSCore-Users] which files and where should the IP	bechanged ????????????
</A></li>
	<LI>Next message: <A HREF="000425.html">[OpenIMSCore-Users] Run time errors while doing registration	fromkphone
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#421">[ date ]</a>
              <a href="thread.html#421">[ thread ]</a>
              <a href="subject.html#421">[ subject ]</a>
              <a href="author.html#421">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
