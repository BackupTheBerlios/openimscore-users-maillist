<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] Initiating 3rd party Registration
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2006-December/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Initiating%203rd%20party%20Registration&In-Reply-To=%3CH000008e000749d5.1165930295.dakghar.aylus.com%40MHS%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000262.html">
   <LINK REL="Next"  HREF="000292.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] Initiating 3rd party Registration</H1>
    <B>Babu George</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Initiating%203rd%20party%20Registration&In-Reply-To=%3CH000008e000749d5.1165930295.dakghar.aylus.com%40MHS%3E"
       TITLE="[OpenIMSCore-Users] Initiating 3rd party Registration">bgeorge at aylus.com
       </A><BR>
    <I>Tue Dec 12 14:31:35 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000262.html">[OpenIMSCore-Users] Initiating 3rd party Registration
</A></li>
        <LI>Next message: <A HREF="000292.html">[OpenIMSCore-Users] Route header is not properly framed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#265">[ date ]</a>
              <a href="thread.html#265">[ thread ]</a>
              <a href="subject.html#265">[ subject ]</a>
              <a href="author.html#265">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Peter
It works fine now

-----Original Message-----
From: Peter Weik [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">weik at fokus.fraunhofer.de</A>] 
Sent: Monday, December 11, 2006 11:09 PM
To: Babu George
Cc: vingarzan; openimscore-users
Subject: Re: [OpenIMSCore-Users] Initiating 3rd party Registration

Hi Babu,

it is supported. Please modify an iFC (as combination of Trigger Point
and Application Server to contact) in the HSS Web console to point to
the application server and then add this iFC to the user's service
profile (e.g. default_sp).

Regards,

Peter

On Mon, 2006-12-11 at 21:31 +0530, Babu George wrote:
&gt;<i> Dragos,
</I>&gt;<i>   I would like to know whether routing an INVITE message towards an application server from SCSCF based on IFC is supported?
</I>&gt;<i> Thanks
</I>&gt;<i> Babu
</I>&gt;<i> 
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Dragos Vingarzan [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vingarzan at fokus.fraunhofer.de</A>] 
</I>&gt;<i> Sent: Monday, December 11, 2006 2:55 PM
</I>&gt;<i> To: Babu George
</I>&gt;<i> Cc: franz.edler; openimscore-users
</I>&gt;<i> Subject: Re: Initiating 3rd party Registration
</I>&gt;<i> 
</I>&gt;<i> Hi George,
</I>&gt;<i> 
</I>&gt;<i> 3rd party registration is not yet implemented. Please see this thread: 
</I>&gt;<i> <A HREF="000183.html">http://lists.berlios.de/pipermail/openimscore-users/2006-December/000183.html</A>
</I>&gt;<i> 
</I>&gt;<i> -Dragos
</I>&gt;<i> 
</I>&gt;<i> Babu George wrote:
</I>&gt;<i> &gt; Dragos,
</I>&gt;<i> &gt;  Can I know what I need to do for getting a third party registration done by scscf towards my application server.If I assign the IP Address of my application server to 'defult_as'(through HSS Gui), would that work?
</I>&gt;<i> &gt; Thanks
</I>&gt;<i> &gt; Babu
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; -----Original Message-----
</I>&gt;<i> &gt; From: Dragos Vingarzan [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vingarzan at fokus.fraunhofer.de</A>] 
</I>&gt;<i> &gt; Sent: Monday, December 11, 2006 5:12 AM
</I>&gt;<i> &gt; To: Babu George
</I>&gt;<i> &gt; Cc: franz.edler; openimscore-users
</I>&gt;<i> &gt; Subject: Re: [OpenIMSCore-Users] Call not getting through
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Hi Babu,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It seems that you have only partially changed the IP address. Please 
</I>&gt;<i> &gt; change ALL occurences in pcscf.cfg, icscf.cfg and scscf.cfg. There are 
</I>&gt;<i> &gt; more than just the first listen lines. That is why the S-CSCF fails to 
</I>&gt;<i> &gt; loop the message to itself - you moved it from 127.0.0.1, yet when 
</I>&gt;<i> &gt; looping it is still sending there - this is configured somewhere at the 
</I>&gt;<i> &gt; bottom of the routing script.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Well... I suggest that you do a replace all. Don't forget to update the 
</I>&gt;<i> &gt; open-ims.dnszone!
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; If you have all 3 diameter peers on the same machine (I-CSCF, S-CSCF and 
</I>&gt;<i> &gt; HSS) than you can leave the icscf.xml, scscf.xml and DiametePeerHSS.xml 
</I>&gt;<i> &gt; with the 127.0.0.1. However, as the DNS names are the same, once you 
</I>&gt;<i> &gt; change the open-ims.dnszone, you will have to change this too, as Franz 
</I>&gt;<i> &gt; replied, or the peers won't connect. I usually just drop the bind 
</I>&gt;<i> &gt; parameter from the Acceptor tag - then it will listen on all available 
</I>&gt;<i> &gt; interfaces (be aware then that other people can connect to your Diameter 
</I>&gt;<i> &gt; Peers if you also have this parameter AcceptUnknownPeers=&quot;1&quot; and do bad 
</I>&gt;<i> &gt; things).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; -Dragos
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Babu George wrote:
</I>&gt;<i> &gt;   
</I>&gt;<i> &gt;&gt; All,
</I>&gt;<i> &gt;&gt;  I changed the IP Address of SCSCF from 127.0.0.1 to the machine IP 192.168.20.13(Changed in scscf.cfg and /etc/bind/open-ims.dnszone).Registartion is getting through with the change, but not call.Looks like in the termination leg system uses the loopback address(127.0.0.1) instead of the assigned IP Address(192.68.20.13).
</I>&gt;<i> &gt;&gt; Is there anything I am missing here?
</I>&gt;<i> &gt;&gt; Thanks
</I>&gt;<i> &gt;&gt; Babu
</I>&gt;<i> &gt;&gt;  
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; -----Original Message-----
</I>&gt;<i> &gt;&gt; From: Dragos Vingarzan [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vingarzan at fokus.fraunhofer.de</A>] 
</I>&gt;<i> &gt;&gt; Sent: Saturday, December 09, 2006 4:33 PM
</I>&gt;<i> &gt;&gt; To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz.edler at inode.at</A>
</I>&gt;<i> &gt;&gt; Cc: Babu George; 'openimscore-users'
</I>&gt;<i> &gt;&gt; Subject: Re: [OpenIMSCore-Users] Call not getting through
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Yes, that is the cause. So please use the Contact in the 200 OK, 
</I>&gt;<i> &gt;&gt; sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at 192.168.20.13</A>:5055;transport=UDP as Request-URI for the ACK. 
</I>&gt;<i> &gt;&gt; Then all will be fine.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; However, I see a bug there in the P-CSCF in packet 25 - the Route header 
</I>&gt;<i> &gt;&gt; should've been removed... investigating.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; -Dragos
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Franz Edler wrote:
</I>&gt;<i> &gt;&gt;   
</I>&gt;<i> &gt;&gt;     
</I>&gt;<i> &gt;&gt;&gt;&gt;   I corrected it. Now ACK takes the following path.
</I>&gt;<i> &gt;&gt;&gt;&gt;   Alice--PCSCF-SCSCF-SCSCF-PCSCF-ICSCF-PCCSF and then getting looped.
</I>&gt;<i> &gt;&gt;&gt;&gt;   Not sure why PCSCF is sending message to ICSCF instead of sending to bob
</I>&gt;<i> &gt;&gt;&gt;&gt;     
</I>&gt;<i> &gt;&gt;&gt;&gt;       
</I>&gt;<i> &gt;&gt;&gt;&gt;         
</I>&gt;<i> &gt;&gt;&gt; It is, because your ACK is addressed to BoB's AoR and not towards its
</I>&gt;<i> &gt;&gt;&gt; Contact received in 200 OK.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Cheers
</I>&gt;<i> &gt;&gt;&gt; Franz
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;   
</I>&gt;<i> &gt;&gt;&gt;     
</I>&gt;<i> &gt;&gt;&gt;       
</I>&gt;<i> &gt;&gt;   
</I>&gt;<i> &gt;&gt;     
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;   
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> -----------------------------------------
</I>&gt;<i> Dipl. Eng. Dragos Vingarzan
</I>&gt;<i> FOKUS/NGNI
</I>&gt;<i> Kaiserin-Augusta-Allee 31
</I>&gt;<i> 10589 Berlin,Germany
</I>&gt;<i> Phone +49 (0)30 - 3463 - 7385
</I>&gt;<i> Mobile +49 (0)163 - 159 - 5221
</I>&gt;<i> eMail <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vingarzan at fokus.fraunhofer.de</A>
</I>&gt;<i> Web www.fokus.fraunhofer.de
</I>&gt;<i> We could change the world if God would give us the source code...
</I>&gt;<i> -----------------------------------------------------------------
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OpenIMSCore-Users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000262.html">[OpenIMSCore-Users] Initiating 3rd party Registration
</A></li>
	<LI>Next message: <A HREF="000292.html">[OpenIMSCore-Users] Route header is not properly framed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#265">[ date ]</a>
              <a href="thread.html#265">[ thread ]</a>
              <a href="subject.html#265">[ subject ]</a>
              <a href="author.html#265">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
