<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] Third party REGISTER
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2006-December/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Third%20party%20REGISTER&In-Reply-To=%3C4576C34F.5080203%40fokus.fraunhofer.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000184.html">
   <LINK REL="Next"  HREF="000190.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] Third party REGISTER</H1>
    <B>Dragos Vingarzan</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Third%20party%20REGISTER&In-Reply-To=%3C4576C34F.5080203%40fokus.fraunhofer.de%3E"
       TITLE="[OpenIMSCore-Users] Third party REGISTER">vingarzan at fokus.fraunhofer.de
       </A><BR>
    <I>Wed Dec  6 14:19:11 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000184.html">[OpenIMSCore-Users] Third party REGISTER
</A></li>
        <LI>Next message: <A HREF="000190.html">[OpenIMSCore-Users] Third party REGISTER
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#185">[ date ]</a>
              <a href="thread.html#185">[ thread ]</a>
              <a href="subject.html#185">[ subject ]</a>
              <a href="author.html#185">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Erling,

Erling Kl&#230;boe wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> Two questions:
</I>&gt;<i> 1)
</I>&gt;<i> Does the S-CSCF support third party REGISTER towards an AS ?
</I>&gt;<i> I've set the REGISTER filter criteria in order to route it to my AS, 
</I>&gt;<i> but when a client (kphone) REGISTER,
</I>&gt;<i> the S-CSCF doesn't seem to forward it to my AS ?
</I>&gt;<i>
</I>No, this is not yet supported. Actually, it is not as simple as you put 
it. The S-CSCF should create new REGISTER transactions after it finished 
the initial one, towards the App Servers, so it's not a trivial case of 
matching/forwarding a SIP request.

You do have, through Sh, notification on the user registration state 
changes from the HSS. So far we have been satisfied with this method of 
letting the AS know about user registration statuses and I see the 3rd 
party REGISTER redundant.
&gt;<i> 2)
</I>&gt;<i> When I do the same with a sip MESSAGE, it is routed correctly to my AS 
</I>&gt;<i> so that works (I've added MESSAGE to my filter criteria)
</I>&gt;<i> When the MESSAGE is sent from P-CSCF towards S-CSCF, the route header 
</I>&gt;<i> contains typically
</I>&gt;<i> &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">orig at scscf.open-ims.test</A>:6060;lr
</I>&gt;<i>
</I>&gt;<i> However when it is forwarded to the AS, the route header contains:
</I>&gt;<i> &lt;sip:AS IP ADDR:5064;lr&gt;, 
</I>&gt;<i> &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">iscmark at scscf.open-ims.test</A>:6060;lr;s=1;h=0;d=0;lr&gt;
</I>&gt;<i>
</I>&gt;<i> Shouldn't it contain the orig parameter also, in order for the AS to 
</I>&gt;<i> detect that this is an originating message ?
</I>&gt;<i> (I guess the iscmark is there so that the S-CSCF may detect that it 
</I>&gt;<i> has received this earlier and avoid loops)
</I>&gt;<i>
</I>If you would like that, then modify the App Server URI in the Service 
Profile. The Route header contains exactly what you put in there.
&gt;<i> I run everything on one PC including client, IMS and AS.
</I>&gt;<i>
</I>&gt;<i> Regards
</I>&gt;<i> Erling
</I>&gt;<i>
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OpenIMSCore-Users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>&gt;<i>   
</I>

-- 
-----------------------------------------
Dipl. Eng. Dragos Vingarzan
FOKUS/NGNI
Kaiserin-Augusta-Allee 31
10589 Berlin,Germany
Phone +49 (0)30 - 3463 - 7385
Mobile +49 (0)163 - 159 - 5221
eMail <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vingarzan at fokus.fraunhofer.de</A>
Web www.fokus.fraunhofer.de
We could change the world if God would give us the source code...
-----------------------------------------------------------------


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000184.html">[OpenIMSCore-Users] Third party REGISTER
</A></li>
	<LI>Next message: <A HREF="000190.html">[OpenIMSCore-Users] Third party REGISTER
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#185">[ date ]</a>
              <a href="thread.html#185">[ thread ]</a>
              <a href="subject.html#185">[ subject ]</a>
              <a href="author.html#185">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
