<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] 403 Forbidden - HSS Roaming not allowed
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20403%20Forbidden%20-%20HSS%20Roaming%20not%20allowed&In-Reply-To=%3CL2F4A12E03F214f21A2E9C51182FB6AAA.1202384216.dakghar.aylus.com%40MHS%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003345.html">
   <LINK REL="Next"  HREF="003347.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] 403 Forbidden - HSS Roaming not allowed</H1>
    <B>Babu George</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20403%20Forbidden%20-%20HSS%20Roaming%20not%20allowed&In-Reply-To=%3CL2F4A12E03F214f21A2E9C51182FB6AAA.1202384216.dakghar.aylus.com%40MHS%3E"
       TITLE="[OpenIMSCore-Users] 403 Forbidden - HSS Roaming not allowed">bgeorge at aylus.com
       </A><BR>
    <I>Thu Feb  7 12:38:49 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003345.html">[OpenIMSCore-Users] 403 Forbidden - HSS Roaming not allowed
</A></li>
        <LI>Next message: <A HREF="003347.html">[OpenIMSCore-Users] Route header parameters in messages sent to AS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3346">[ date ]</a>
              <a href="thread.html#3346">[ thread ]</a>
              <a href="subject.html#3346">[ subject ]</a>
              <a href="author.html#3346">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Robin

Pvisited-Network-ID should be open-ims.test.In the trace it is shown as
pcscf.open-ims.test.This could be the reason for failure

Babu

 

  _____  

From: Schaffer Robin [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Robin.Schaffer at telekom.at</A>] 
Sent: Thursday, February 07, 2008 4:39 PM
To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Subject: [OpenIMSCore-Users] 403 Forbidden - HSS Roaming not allowed
Importance: High

 

Hello, 
I would appreciate some help regarding the problem 403 Forbidden - HSS
Roaming not allowed 
I installed openimscore according to
<A HREF="http://www.openimscore.org/docs/install.html">http://www.openimscore.org/docs/install.html</A> 
Now in the FHoSS (Rel. 7) there are the default stettings for bob and
alice: 
IMPI: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A> 
IMPU: sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A> 
List of Visited Networks: open-ims.test 

I'm getting roaming not allowed error in a 403 response to a REGISTER. 

Below is the wireshark trace: 

SIP Message from P-CSCF to I-CSCF: 
Session Initiation Protocol 
    Request-Line: REGISTER sip:open-ims.test SIP/2.0 
    Message Header 
        Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">cf0ee3628e4c8a1657a09a3aea52d6ca at 10.238.105.231</A> 
        CSeq: 1 REGISTER 
        From: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=1002 
        To: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt; 
        Via: SIP/2.0/UDP
10.238.105.37:4060;branch=z9hG4bKfcce.5afeeb91.0 
        Via: SIP/2.0/UDP
10.238.105.231:5060;rport=5060;branch=z9hG4bKfe80b86e82764b147cb6d212dee
389af 
        Max-Forwards: 16 
        Expires: 3600 
        Supported: path 
        Contact: &quot;bob&quot; &lt;sip:10.238.105.231:5060&gt; 
        P-Preferred-Identity: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt; 
        P-Access-Network-Info: 3GPP-UTRAN-TDD;
utran-cell-id-3gpp=00000000 
        Privacy: none 
        User-Agent: Fraunhofer FOKUS/NGNI Java IMS UserEndpoint FoJIE
0.1 (jdk1.3) 
        Allow: INVITE,ACK,CANCEL,BYE,MESSAGE,NOTIFY 
        Content-Length: 0 
        Authorization: Digest
username=&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&quot;,realm=&quot;open-ims.test&quot;,nonce=&quot;&quot;,response=&quot;&quot;,
uri=&quot;sip:open-ims.test&quot;, integrity-protected=&quot;no&quot;

        Path: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">term at pcscf.open-ims.test</A>:4060;lr&gt; 
        Require: path 
        P-Charging-Vector:
icid-value=&quot;P-CSCFabcd47a855b300000007&quot;;icid-generated-at=10.238.105.37;
orig-ioi=&quot;pcscf.open-ims.test&quot;

        P-Visited-Network-ID: pcscf.open-ims.test 

UAR from I-CSCF to HSS 
Diameter Protocol 
    Version: 0x01 
    Length: 280 
    Flags: 0xc0 
    Command Code: 300 User-Authorization 
    ApplicationId: 3GPP Cx (16777216) 
    Hop-by-Hop Identifier: 0xfda4cf38 
    End-to-End Identifier: 0xbe17a6d1 
    AVP: Session-Id(263) l=41 f=-M-
val=icscf.open-ims.test;2016480538;32 
    AVP: Origin-Host(264) l=27 f=-M- val=icscf.open-ims.test 
    AVP: Origin-Realm(296) l=21 f=-M- val=open-ims.test 
    AVP: Destination-Realm(283) l=21 f=-M- val=open-ims.test 
    AVP: Vendor-Specific-Application-Id(260) l=32 f=-M- 
    AVP: Auth-Session-State(277) l=12 f=-M- val=NO_STATE_MAINTAINED (1) 
    AVP: User-Name(1) l=25 f=-M- val=<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A> 
    AVP: Public-Identity(601) l=33 f=VM- vnd=TGPP
val=sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A> 
    AVP: Visited-Network-Identifier(600) l=31 f=VM- vnd=TGPP
val=70637363662E6F70656E2D696D732E74657374 

UAA from HSS to I-CSCF 
Diameter Protocol 
    Version: 0x01 
    Length: 192 
    Flags: 0x40 
    Command Code: 300 User-Authorization 
    ApplicationId: 3GPP Cx (16777216) 
    Hop-by-Hop Identifier: 0xfda4cf38 
    End-to-End Identifier: 0xbe17a6d1 
    AVP: Session-Id(263) l=41 f=-M-
val=icscf.open-ims.test;2016480538;32 
    AVP: Origin-Host(264) l=25 f=-M- val=hss.open-ims.test 
    AVP: Origin-Realm(296) l=21 f=-M- val=open-ims.test 
    AVP: Auth-Session-State(277) l=12 f=-M- val=NO_STATE_MAINTAINED (1) 
    AVP: Vendor-Specific-Application-Id(260) l=32 f=-M- 
    AVP: Experimental-Result(297) l=32 f=-M- 
        AVP Code: 297 Experimental-Result 
        AVP Flags: 0x40 
        AVP Length: 32 
        Experimental-Result:
0000010A4000000C000028AF0000012A4000000C0000138C 
            AVP: Vendor-Id(266) l=12 f=-M- val=10415 
            AVP: Experimental-Result-Code(298) l=12 f=-M-
val=DIAMETER_ERROR_ROAMING_NOT_ALLOWED (5004 

Best regards 
Robin 

 


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20080207/76b7ba92/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20080207/76b7ba92/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003345.html">[OpenIMSCore-Users] 403 Forbidden - HSS Roaming not allowed
</A></li>
	<LI>Next message: <A HREF="003347.html">[OpenIMSCore-Users] Route header parameters in messages sent to AS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3346">[ date ]</a>
              <a href="thread.html#3346">[ thread ]</a>
              <a href="subject.html#3346">[ subject ]</a>
              <a href="author.html#3346">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
