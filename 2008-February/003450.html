<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] How to test IPSec in Open IMS
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20How%20to%20test%20IPSec%20in%20Open%20IMS&In-Reply-To=%3C20080222122133.A7D3A12A81D%40mail.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003441.html">
   <LINK REL="Next"  HREF="003506.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] How to test IPSec in Open IMS</H1>
    <B>Klemens Schragel</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20How%20to%20test%20IPSec%20in%20Open%20IMS&In-Reply-To=%3C20080222122133.A7D3A12A81D%40mail.berlios.de%3E"
       TITLE="[OpenIMSCore-Users] How to test IPSec in Open IMS">klemens.schragel at gmx.at
       </A><BR>
    <I>Fri Feb 22 13:16:01 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003441.html">[OpenIMSCore-Users] How to test IPSec in Open IMS
</A></li>
        <LI>Next message: <A HREF="003506.html">[OpenIMSCore-Users] How to test IPSec in Open IMS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3450">[ date ]</a>
              <a href="thread.html#3450">[ thread ]</a>
              <a href="subject.html#3450">[ subject ]</a>
              <a href="author.html#3450">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Sabyasachi,

 

as far as I&#146;ve understood your mails it works now (at least with cbc-mode
aes protection)
 I remember I&#146;ve tried once also with NULL encryption and it
did also not work
 maybe the scripts have a problem with the syntax
 if you
have a look at ipsec*.sh (SIPp or P-CSCF, I think they are nearly the same)
you can see that in case of null-encryption the cipher key parameter ck is
set to &#147;&#148;, afterwards the algorithm is set to rijndael although I think it
should be &#147;null&#148; or &#147;&#148; according to whatever setkey expects


from the ipsec-shell scripts you can figure out that null, 3des-cbc and
rijndael-cbc algorithms are allowed
 well, actually would the string
&#147;3des-cbc&#148; be modified in the else-branch to rijndael-cbc :-/ I don&#146;t really
like this else-branch..

Maybe this works:

Exchange

 

if [ &quot;$6&quot; = &quot;null&quot; ] 

then

            ck=&quot;&quot;

fi

 

if [ &quot;$ealg&quot; = &quot;des-ede3-cbc&quot; ]

then

            ealg=&quot;3des-cbc&quot;

else

            ealg=&quot;rijndael-cbc&quot;

fi

 

with 

 

Case &quot;$6&quot; in

  &quot;null&quot;) ck=&quot;&quot;

  &quot;des-ede3-cbc&quot;) ealg=&quot;3des-cbc&quot;

  *) ealg=&quot;rijndael-cbc&quot;

esac

 

note: this is not tested, and because of my poor programming skills am not
realy sure if the syntax is 100% correct


 

br, Klemens

 

  _____  

From: Sabyasachi Samal [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sabyasachisamal at gmail.com</A>] 
Sent: Donnerstag, 21. Februar 2008 16:10
To: Klemens Schragel
Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Subject: Re: [OpenIMSCore-Users] How to test IPSec in Open IMS

 

Hello Klemens,

 

I have modified the port for testing porpose. I thought may be due to same
port the SA was not created. But now i am using 4060.

 

The problem was even i could not able to register scscf was complaining UE
Said: xxxx and we expect:yyyy. This was because i have changed the OP in hss
to cdc202d5123e20f62b6d676ac72cb318 as this is our operator code. 

Now it is working after changing the OP value to all zeros. I want to modify
the same in SIPp. 

I am having few queries regarding SIPp please reply me.

1.	How to configure OP value and user's secret key in SIPp?
2.	How to view or save the logs of the callflow i.e. details message
flow in SIPp?
3.	whether SIPp supports ealg=null?

Regards,

Sabyasachi



 

On 2/21/08, Klemens Schragel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">klemens.schragel at gmx.at</A>&gt; wrote: 

As far as I remember you are using my modifications of SIPp IPSec
scenario... did you change anything? e.g. &quot;I've tried with 4060&quot;... which
lines did you modify?

concerning your question about modifying the key, why do you want to change
them? Do you really want to change the IPSec key, or just the user's secret?
Just in case you think the SIPp scenario uses different keys than P-CSCF: in
line 42 of regIPSEC1.xml the scenario echos the IPSec values (and thus the
used key) into the file echoipsec.txt, you can compare this value with the
logged one on P-CSCF...

br, Klemens

-------- Original-Nachricht --------
&gt;<i> Datum: Wed, 20 Feb 2008 23:30:44 +0530
</I>&gt;<i> Von: &quot;Sabyasachi Samal&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sabyasachisamal at gmail.com</A>&gt;
</I>&gt;<i> An: &quot;OpenIMS list&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>&gt;
</I>&gt;<i> Betreff: [OpenIMSCore-Users] How to test IPSec in Open IMS
</I>
&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> Can anybody help me to test IPSec with Open IMS? I am facing some problem
</I>&gt;<i> related to SA setup. Please go thru below mail and if any one tested IPSec
</I>&gt;<i> with Open IMS and SIPp or any client please give me some hints to go
</I>&gt;<i> forward.
</I>&gt;<i>
</I>&gt;<i> I need this urgently.
</I>&gt;<i>
</I>&gt;<i> Any help is realy appreciated.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Sabyasachi
</I>&gt;<i>
</I>&gt;<i> ---------- Forwarded message ----------
</I>&gt;<i> From: Sabyasachi Samal &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sabyasachisamal at gmail.com</A>&gt;
</I>&gt;<i> Date: Feb 19, 2008 11:13 PM
</I>&gt;<i> Subject: Re: How to test IPSec in Open IMS
</I>&gt;<i> To: Dragos Vingarzan &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Dragos.Vingarzan at fokus.fraunhofer.de</A>&gt;
</I>&gt;<i> Cc: Klemens Schragel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">klemens.schragel at gmx.at</A>&gt;,
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> I have tried with same port i.e. 4060 still the 2nd Reg is not reached at
</I>&gt;<i> PCSCF. Please let me know if i have to configure some more things or have
</I>&gt;<i> to
</I>&gt;<i> install some other required software for IPSec.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Sabyasachi
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  On 2/19/08, Dragos Vingarzan &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Dragos.Vingarzan at fokus.fraunhofer.de</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The P-CSCF does not open supplementary ports. The same ports are used
</I>&gt;<i> &gt; also for IPSec. It works because each client has a different IP:port and
</I>&gt;<i> &gt; this is enough to identify a SA.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; -Dragos
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Sabyasachi Samal wrote:
</I>&gt;<i> &gt; &gt; Hello Dragos,
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Sorry to disturb you again. Still i am not able to get the IPSec
</I>&gt;<i> &gt; &gt; through. The 2nd REGISTER did not received at Open IMS. I have checked
</I>&gt;<i> &gt; &gt; with the netstat -na command. the secured port is not created at Open
</I>&gt;<i> &gt; &gt; IMS side. Can you please let me know if some other software needs to
</I>&gt;<i> &gt; &gt; be installed to activate IPSEC in OPEN IMS.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Sending the pcscf logs please have a look.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Regards,
</I>&gt;<i> &gt; &gt; Sabyasachi
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; On 1/31/08, *Dragos Vingarzan* &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Dragos.Vingarzan at fokus.fraunhofer.de</A>
</I>&gt;<i> &gt; &gt; &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Dragos.Vingarzan at fokus.fraunhofer.de</A>&gt;&gt; wrote:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;     the 5 for E (Endpoint) are there so that UE developers won't have
</I>&gt;<i> &gt; &gt;     a hard
</I>&gt;<i> &gt; &gt;     time figuring out how to do it. They are pretty similar to the
</I>&gt;<i> &gt; P-CSCF
</I>&gt;<i> &gt; &gt;     ones, so I thought that it might help someone. But they are not
</I>&gt;<i> ever
</I>&gt;<i> &gt; &gt;     used by the P-CSCF.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;     back to the contact finding - I think that we have discussed this
</I>&gt;<i> &gt; some
</I>&gt;<i> &gt; &gt;     time ago... is it the case that you have different contacts or
</I>&gt;<i> &gt; &gt;     something
</I>&gt;<i> &gt; &gt;     like that in the 1st and 2nd REGISTER? There are some examples in
</I>&gt;<i> &gt; the
</I>&gt;<i> &gt; &gt;     FAQ that should work and give you a starting point... I don't
</I>&gt;<i> &gt; remember
</I>&gt;<i> &gt; &gt;     if the previous bug was fixed or not, but I remember it fixed....
</I>&gt;<i> &gt; &gt;     anyway, try the latest revision and browse the list a little...
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;     (sorry for not giving a more detailed response, but there are so
</I>&gt;<i> &gt; many
</I>&gt;<i> &gt; &gt;     new messages on the list and now I am just trying to quickly solve
</I>&gt;<i> &gt; as
</I>&gt;<i> &gt; &gt;     many small issues as possible)
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;     Cheers,
</I>&gt;<i> &gt; &gt;     -Dragos
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;     Sabyasachi Samal wrote:
</I>&gt;<i> &gt; &gt;     &gt; Hello,
</I>&gt;<i> &gt; &gt;     &gt;
</I>&gt;<i> &gt; &gt;     &gt; I am confused about the sh files meant for IPSec. There are 10
</I>&gt;<i> sh
</I>&gt;<i> &gt; &gt;     &gt; files in the /modules/pcscf folder. 5 for E and 5 for P. But in
</I>&gt;<i> &gt; &gt;     &gt; pcscf.cfg only 5 for P is used. When the sh files for E are
</I>&gt;<i> used?
</I>&gt;<i> &gt; &gt;     &gt;
</I>&gt;<i> &gt; &gt;     &gt; From the pcscf logs it seems every thing is okay but why SA is
</I>&gt;<i> not
</I>&gt;<i> &gt; &gt;     &gt; created? any idea? pl have a look to the log.
</I>&gt;<i> &gt; &gt;     &gt;
</I>&gt;<i> &gt; &gt;     &gt;
</I>&gt;<i> &gt; &gt;     &gt; 3(14030) DBG:P-CSCF:P_security_401: Security-Client header found
</I>&gt;<i> :
</I>&gt;<i> &gt; &gt;     &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&lt;ipsec-3gpp;alg=hmac-md5-96;prot=esp;mod=trans;spi-c=2345;spi-s=9870;port-c=
6001;port-s=6000&gt;.
&gt;<i> &gt; &gt;     &gt; 3(14030) parse_headers: flags=ffffffffffffffff
</I>&gt;<i> &gt; &gt;     &gt; 3(14030) DBG:P-CSCF:save_contact_security:
</I>&gt;<i> &gt; &gt;     &gt; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at 10.21.21.149</A>:6070;transport=udp&gt;
</I>&gt;<i> &gt; &gt;     &gt; 3(14030) DBG:P-CSCF:save_contact_security: 1 10.21.21.149
</I>&gt;<i> &gt; &gt;     &lt;<A HREF="http://10.21.21.149">http://10.21.21.149</A>&gt;
</I>&gt;<i> &gt; &gt;     &gt; &lt;<A HREF="http://10.21.21.149">http://10.21.21.149</A>&gt; : 6070
</I>&gt;<i> &gt; &gt;     &gt; 3(14030) DBG:P-CSCF:save_contact_security: CK:
</I>&gt;<i> &gt; &gt;     &gt; &lt;43e0597777e294752d6283443c704e40&gt;
</I>&gt;<i> &gt; &gt;     &gt; 3(14030) DBG:P-CSCF:save_contact_security: IK:
</I>&gt;<i> &gt; &gt;     &gt; &lt;8bc5d0f2366cf8625a1a7dd67acdeb74&gt;
</I>&gt;<i> &gt; &gt;     &gt; 3(14030) DBG:P-CSCF:save_contact_security: Enc Algorithm: &lt;&gt;
</I>&gt;<i> &gt; &gt;     &gt; 3(14030) DBG:P-CSCF:save_contact_security: Int Algorithm:
</I>&gt;<i> &gt; &gt;     &lt;hmac-md5-96&gt;
</I>&gt;<i> &gt; &gt;     &gt; 3(14030) DBG:P-CSCF:save_contact_security: SPI-C: 2345
</I>&gt;<i> &gt; &gt;     &gt; 3(14030) DBG:P-CSCF:save_contact_security: SPI-S: 9870
</I>&gt;<i> &gt; &gt;     &gt; 3(14030) DBG:P-CSCF:save_contact_security: Port-C: 6001
</I>&gt;<i> &gt; &gt;     &gt; 3(14030) DBG:P-CSCF:save_contact_security: Port-S: 6000
</I>&gt;<i> &gt; &gt;     &gt; 3(14030) INF:P-CSCF:execute_cmd:
</I>&gt;<i> &gt; &gt;     &gt; [/opt/OpenIMSCore/ser_ims/modules/pcscf/ipsec_P_Inc_Req.sh
</I>&gt;<i> &gt; &gt;     &gt; 10.21.21.149 &lt;<A HREF="http://10.21.21.149">http://10.21.21.149</A>&gt; &lt;<A HREF="http://10.21.21.149">http://10.21.21.149</A>&gt; 6001
</I>&gt;<i> &gt; &gt;     10.21.21.147 &lt;<A HREF="http://10.21.21.147">http://10.21.21.147</A>&gt;
</I>&gt;<i> &gt; &gt;     &gt; &lt;<A HREF="http://10.21.21.147">http://10.21.21.147</A>&gt; 4064 5001 null
</I>&gt;<i> &gt; &gt;     &gt; 0x43e0597777e294752d6283443c704e40 hmac-md5
</I>&gt;<i> &gt; &gt;     &gt; 0x8bc5d0f2366cf8625a1a7dd67acdeb74]
</I>&gt;<i> &gt; &gt;     &gt; 3(14030) DEBUG: t_check: msg id=1 global id=1 T start=0xb61999a8
</I>&gt;<i> &gt; &gt;     &gt; 3(14030) DEBUG: t_check: T already found!
</I>&gt;<i> &gt; &gt;     &gt; 3(14030) DEBUG:t_check_status: checked status is &lt;401&gt;
</I>&gt;<i> &gt; &gt;     &gt; *3(14030) ERR:P-CSCF:P_security_relay: we cannot find the
</I>&gt;<i> contact
</I>&gt;<i> &gt; or
</I>&gt;<i> &gt; &gt;     &gt; its IPSec/TLS SAs for &lt;1://10.21.21.149:6070&gt;.
</I>&gt;<i> &gt; &gt;     &gt; *3(14030) -&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; T_code=0, new_code=401
</I>&gt;<i> &gt; &gt;     &gt; 3(14030) DEBUG: t_check: msg id=0 global id=0 T start=0xb61999a8
</I>&gt;<i> &gt; &gt;     &gt; 3(14030) DEBUG: t_check: T already found!
</I>&gt;<i> &gt; &gt;     &gt; 3(14030) DEBUG:t_check_status: checked status is &lt;401&gt;
</I>&gt;<i> &gt; &gt;     &gt; 3(14030) DBG:free_faked_req: removing hdr-&gt;parsed 7
</I>&gt;<i> &gt; &gt;     &gt; 3(14030) DEBUG: relay_reply: branch=0, save=0, relay=0
</I>&gt;<i> &gt; &gt;     &gt; 3(14030)  old size: 1043, new size: 1013
</I>&gt;<i> &gt; &gt;     &gt; 3(14030) build_res_from_sip_res: copied size: orig:1041, new:
</I>&gt;<i> &gt; 1011,
</I>&gt;<i> &gt; &gt;     &gt; rest: 2 msg=
</I>&gt;<i> &gt; &gt;     &gt;
</I>&gt;<i> &gt; &gt;     &gt;
</I>&gt;<i> &gt; &gt;     &gt; BR,
</I>&gt;<i> &gt; &gt;     &gt; Sabyasachi
</I>&gt;<i> &gt; &gt;     &gt;
</I>&gt;<i> &gt; &gt;     &gt; On 1/25/08, Klemens Schragel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">klemens.schragel at gmx.at</A>
</I>&gt;<i> &gt; &gt;     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">klemens.schragel at gmx.at</A>&gt;
</I>&gt;<i> &gt; &gt;     &gt; &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">klemens.schragel at gmx.at</A>
</I>&gt;<i> &gt; &gt;     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">klemens.schragel at gmx.at</A>&gt;&gt;&gt; wrote:
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; Hello,
</I>&gt;<i> &gt; &gt;     &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; Hi,
</I>&gt;<i> &gt; &gt;     &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; I want to do a Register over IPSec but pcscf gives one error
</I>&gt;<i> &gt; &gt;     like
</I>&gt;<i> &gt; &gt;     &gt; below.
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; ERR:P-CSCF:P_security_relay: we cannot find the contact or
</I>&gt;<i> its
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; IPSec/TLS SAs for &lt;1://10.21.21.149:6070&gt;.
</I>&gt;<i> &gt; &gt;     &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; I'm not sure if the ERROR message is really a problem.. I
</I>&gt;<i> &gt; &gt;     think it's
</I>&gt;<i> &gt; &gt;     &gt; more an information from P-CSCF that there hasn't been yet a SA
</I>&gt;<i> &gt; &gt;     &gt; established for this connection..
</I>&gt;<i> &gt; &gt;     &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; more interesting is this, here handles the response...
</I>&gt;<i> &gt; &gt;     &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt;  1(8012) build_res_from_sip_res: copied size: orig:1040, new:
</I>&gt;<i> &gt; &gt;     1010,
</I>&gt;<i> &gt; &gt;     &gt; rest: 2 msg=
</I>&gt;<i> &gt; &gt;     &gt; &gt;  SIP/2.0 401 Unauthorized - Challenging the UE
</I>&gt;<i> &gt; &gt;     &gt; &gt;  Via: SIP/2.0/UDP 10.21.21.149:6070 &lt;<A HREF="http://10.21.21.149:6070">http://10.21.21.149:6070</A>&gt;
</I>&gt;<i> &gt; &gt;     &gt;
</I>&gt;<i> &lt;<A HREF="http://10.21.21.149:6070">http://10.21.21.149:6070</A>&gt;;rport=6070;branch=z9hG4bK1201096438817
</I>&gt;<i> &gt; &gt;     &gt; &gt;  From: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims2.test</A>
</I>&gt;<i> &gt; &gt;     &lt;mailto:sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims2.test</A>&gt;
</I>&gt;<i> &gt; &gt;     &gt; &lt;mailto:sip &lt;mailto:sip&gt;:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims2.test</A>
</I>&gt;<i> &gt; &gt;     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims2.test</A>&gt;&gt;&gt;;tag=1201096438817
</I>&gt;<i> &gt; &gt;     &gt; &gt;  To: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims2.test</A> &lt;mailto:sip:
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims2.test</A>&gt;
</I>&gt;<i> &gt; &gt;     &gt; &lt;mailto:sip &lt;mailto:sip&gt;:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims2.test</A>
</I>&gt;<i> &gt; &gt;     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims2.test</A>
</I>&gt;<i> &gt; &gt;&gt;&gt;;tag=ba3c9c9c2e1d2842aad0ac49411acef0-c046
</I>&gt;<i> &gt; &gt;     &gt; &gt;  Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1201096438511 at 10.21.21.149</A>
</I>&gt;<i> &gt; &gt;     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1201096438511 at 10.21.21.149</A>&gt;
</I>&gt;<i> &gt; &gt;     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1201096438511 at 10.21.21.149</A>
</I>&gt;<i> &gt; &gt;     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1201096438511 at 10.21.21.149</A>&gt;&gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt;  CSeq: 1 REGISTER
</I>&gt;<i> &gt; &gt;     &gt; &gt;  Path: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">term at pcscf.open-ims2.test</A>:4060;lr&gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt;  Service-Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">orig at scscf.open-ims2.test</A>:6060;lr&gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt;  Allow: INVITE, ACK, CANCEL, OPTIONS, BYE, REFER, SUBSCRIBE,
</I>&gt;<i> &gt; &gt;     NOTIFY,
</I>&gt;<i> &gt; &gt;     &gt; MESSAGE, INFO
</I>&gt;<i> &gt; &gt;     &gt; &gt;  Server: Sip EXpress router (2.1.0-dev1 OpenIMSCore
</I>&gt;<i> &gt; (i386/linux))
</I>&gt;<i> &gt; &gt;     &gt; &gt;  Content-Length: 0
</I>&gt;<i> &gt; &gt;     &gt; &gt;  Warning: 392 10.21.21.147:6060 &lt;<A HREF="http://10.21.21.147:6060">http://10.21.21.147:6060</A>&gt;
</I>&gt;<i> &gt; &gt;     &lt;<A HREF="http://10.21.21.147:6060">http://10.21.21.147:6060</A>&gt; &quot;Noisy
</I>&gt;<i> &gt; &gt;     &gt; feedback tells:  pid=6992 req_src_ip=10.21.21.147
</I>&gt;<i> &gt; &gt;     &lt;<A HREF="http://10.21.21.147">http://10.21.21.147</A>&gt;
</I>&gt;<i> &gt; &gt;     &gt; &lt;<A HREF="http://10.21.21.147">http://10.21.21.147</A>&gt; req_src_port=5060
</I>&gt;<i> &gt; &gt;     &gt; in_uri=sip:scscf.open-ims2.test:6060
</I>&gt;<i> &gt; &gt;     &gt; out_uri=sip:scscf.open-ims2.test:6060 via_cnt==3&quot;
</I>&gt;<i> &gt; &gt;     &gt; &gt;  WWW-Authenticate: Digest realm=&quot;open-ims2.test&quot;,
</I>&gt;<i> &gt; &gt;     &gt; nonce=&quot;HmlHeaUo1mGzqMxSPx05UoQsop/54wAARBZrISwY0eM=&quot;,
</I>&gt;<i> &gt; &gt;     algorithm=AKAv1-MD5
</I>&gt;<i> &gt; &gt;     &gt; &gt;  Security-Server: ipsec-3gpp; ealg=null; alg=hmac-md5-96;
</I>&gt;<i> &gt; &gt;     &gt; spi-c=5000; spi-s=5001; port-c=4063; port-s=4064; q=0.1
</I>&gt;<i> &gt; &gt;     &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; so far so good... the trace reveals that this is sent to UE.
</I>&gt;<i> &gt; &gt;     as far
</I>&gt;<i> &gt; &gt;     &gt; as I remember the P-CSCF shoudl now start the shell-scripts
</I>&gt;<i> &gt; creating
</I>&gt;<i> &gt; &gt;     &gt; the IPSec SAs, but the next logging just shows:
</I>&gt;<i> &gt; &gt;     &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt;  1(8012) WARNING:vqm_resize: resize(0) called
</I>&gt;<i> &gt; &gt;     &gt; &gt;  1(8012) qm_malloc(0xb5faf000, 1012) called from
</I>&gt;<i> mem/shm_mem.c:
</I>&gt;<i> &gt; &gt;     &gt; _shm_resize(106)
</I>&gt;<i> &gt; &gt;     &gt; &gt;  1(8012) qm_malloc(0xb5faf000, 1012) returns address
</I>&gt;<i> 0xb619b61c
</I>&gt;<i> &gt; &gt;     &gt; frag. 0xb619b604 (size=1012) on 1 -th hit
</I>&gt;<i> &gt; &gt;     &gt; &gt;  1(8012) DEBUG: reply relayed. buf=0x8187584: SIP/2.0 401
</I>&gt;<i> &gt; Una...,
</I>&gt;<i> &gt; &gt;     &gt; shmem=0xb619b61c: SIP/2.0 4 totag_retr=0
</I>&gt;<i> &gt; &gt;     &gt; &gt;  1(8012) qm_free(0x812d580, 0x8187584), called from t_reply.c:
</I>&gt;<i> &gt; &gt;     &gt; relay_reply(1420)
</I>&gt;<i> &gt; &gt;     &gt; &gt;  1(8012) qm_free: freeing frag. 0x818756c alloc'ed from
</I>&gt;<i> &gt; &gt;     &gt; msg_translator.c: build_res_buf_from_sip_res(1684)
</I>&gt;<i> &gt; &gt;     &gt; &gt;  1(8012) DEBUG: cleanup_uac_timers: RETR/FR timers reset
</I>&gt;<i> &gt; &gt;     &gt; &gt;  1(8012) DEBUG:destroy_avp_list: destroying list (nil)
</I>&gt;<i> &gt; &gt;     &gt; &gt;  1(8012) DEBUG:destroy_avp_list: destroying list (nil)
</I>&gt;<i> &gt; &gt;     &gt; &gt;  1(8012) DEBUG:destroy_avp_list: destroying list (nil)
</I>&gt;<i> &gt; &gt;     &gt; &gt;  1(8012) DEBUG:destroy_avp_list: destroying list (nil)
</I>&gt;<i> &gt; &gt;     &gt; &gt;  1(8012) DEBUG:destroy_avp_list: destroying list (nil)
</I>&gt;<i> &gt; &gt;     &gt; &gt;  1(8012) DEBUG:destroy_avp_list: destroying list (nil)
</I>&gt;<i> &gt; &gt;     &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; what happens after these strange (at least I don't know them)
</I>&gt;<i> &gt; &gt;     &gt; 'destroy_avp_list' messages?
</I>&gt;<i> &gt; &gt;     &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; btw: your setkey output isn't complete...
</I>&gt;<i> &gt; &gt;     &gt; &gt; you have build the SA for a request from UE =&gt; P-CSCF... for
</I>&gt;<i> &gt; this
</I>&gt;<i> &gt; &gt;     &gt; transaction you need at least an additional SA decoding the
</I>&gt;<i> &gt; &gt;     response,
</I>&gt;<i> &gt; &gt;     &gt; i.e. from P-CSCF =&gt; UE...
</I>&gt;<i> &gt; &gt;     &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; br, Klemens
</I>&gt;<i> &gt; &gt;     &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; Here is my testbed:::
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; I am using Xpresent stack for IPSec at client ip
</I>&gt;<i> &gt; &gt;     10.21.21.149 &lt;<A HREF="http://10.21.21.149">http://10.21.21.149</A>&gt;
</I>&gt;<i> &gt; &gt;     &gt; &lt;<A HREF="http://10.21.21.149">http://10.21.21.149</A>&gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; Open IMS in ip 10.21.21.147 &lt;<A HREF="http://10.21.21.147">http://10.21.21.147</A>&gt;
</I>&gt;<i> &gt; &gt;     &lt;<A HREF="http://10.21.21.147">http://10.21.21.147</A>&gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; While sending the first REGISTER it is okay but while
</I>&gt;<i> &gt; &gt;     sending the
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; encrypted REG over IPSec (esp) it does not handled by Open
</I>&gt;<i> &gt; &gt;     IMS. The
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; 2nd REG does not reach at pcscf.
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; Sending the ethereal trace for both client and server,
</I>&gt;<i> output
</I>&gt;<i> &gt; of
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; setkey, pcscf logs and pcscf.cfg for your reference.
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; Pl have a look and let me know if i did something wrong.
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; Also pl let me know how to handle logging info for servers
</I>&gt;<i> &gt; like
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; p/s/icscf. Like suppose i want to dump the logs only for
</I>&gt;<i> &gt; &gt;     DEBUG and ERR
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; what should be the log level in cfg files.
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; Regards,
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; Sabyasachi
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; On 1/24/08, Klemens Schragel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">klemens.schragel at gmx.at</A>
</I>&gt;<i> &gt; &gt;     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">klemens.schragel at gmx.at</A>&gt;
</I>&gt;<i> &gt; &gt;     &gt; &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">klemens.schragel at gmx.at</A>
</I>&gt;<i> &gt; &gt;     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">klemens.schragel at gmx.at</A>&gt;&gt;&gt; wrote:
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; Hi,
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; try
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; setkey -c &lt;&lt; EOF
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; spdadd
</I>&gt;<i> 192.168.0.7/32[5060] &lt;<A HREF="http://192.168.0.7/32%5b5060%5d">http://192.168.0.7/32%5b5060%5d</A>&gt;
</I>&lt;<A HREF="http://192.168.0.7/32%5B5060%5D">http://192.168.0.7/32%5B5060%5D</A>&gt;
&gt;<i> &gt; &gt;     &lt;<A HREF="http://192.168.0.7/32%5B5060%5D">http://192.168.0.7/32%5B5060%5D</A>&gt;
</I>&gt;<i> &lt;<A HREF="http://192.168.0.7/32%5B5060%5D">http://192.168.0.7/32%5B5060%5D</A>&gt;
</I>&gt;<i> &gt; &gt;     &gt; 192.168.0.5/32[5060] &lt;<A HREF="http://192.168.0.5/32%5b5060%5d">http://192.168.0.5/32%5b5060%5d</A>&gt;
</I>&lt;<A HREF="http://192.168.0.5/32%5B5060%5D">http://192.168.0.5/32%5B5060%5D</A>&gt; &lt;
&gt;<i> &gt; <A HREF="http://192.168.0.5/32%5B5060%5D">http://192.168.0.5/32%5B5060%5D</A>&gt;
</I>&gt;<i> &gt; &gt;     &lt;<A HREF="http://192.168.0.5/32%5B5060%5D">http://192.168.0.5/32%5B5060%5D</A>&gt; tcp -P out ipsec
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; esp/transport//unique:1 ;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; EOF
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; then setkey -DP should response:
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; 192.168.0.7[5060] 192.168.0.5[5060] tcp
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt;        out prio def ipsec
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt;        esp/transport//unique:1
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt;        created: Jan 24 06:43:35 2008  lastused:
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt;        lifetime: 0(s) validtime: 0(s)
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt;        spid=1 seq=0 pid=2041
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt;        refcnt=1
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; br, Klemens
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; -----Original Message-----
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; From: Sabyasachi Samal [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sabyasachisamal at gmail.com</A>
</I>&gt;<i> &gt; &gt;     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sabyasachisamal at gmail.com</A>&gt;
</I>&gt;<i> &gt; &gt;     &gt; &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sabyasachisamal at gmail.com</A>
</I>&gt;<i> &gt; &gt;     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sabyasachisamal at gmail.com</A>&gt;&gt;]
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; Sent: Mittwoch, 23. J&#228;nner 2008 16:51
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; To: Klemens Schragel
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; Subject: Re: How to test IPSec in Open IMS
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; Hey,
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; I have already tried setkey -DP command but it is showing
</I>&gt;<i> &gt; &gt;     No SPD
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; entries.
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; Can you pl give one sample command to add one entry and
</I>&gt;<i> &gt; &gt;     how to dump
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; that.
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; I think there is some problem in the installation.
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; after installing the ipsec-tools in my /etc there is no
</I>&gt;<i> &gt; &gt;     &gt; ipsec.conf and
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; /etc/init.d there is no ipsec to start.
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; BR,
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; Sabyasachi
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; On 1/23/08, Klemens Schragel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">klemens.schragel at gmx.at</A>
</I>&gt;<i> &gt; &gt;     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">klemens.schragel at gmx.at</A>&gt;
</I>&gt;<i> &gt; &gt;     &gt; &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">klemens.schragel at gmx.at</A>
</I>&gt;<i> &gt; &gt;     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">klemens.schragel at gmx.at</A>&gt;&gt;&gt; wrote:
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; Yes, actually this command should show the DB entries...
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; Although I don't understand why you start setkey with a
</I>&gt;<i> &gt; &gt;     end of
</I>&gt;<i> &gt; &gt;     &gt; file
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; entry...
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; [Hide Quoted Text]
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; I think you'll need the EOF also after adding spddump...
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; But also for the dump you can start directly from the
</I>&gt;<i> &gt; &gt;     command line
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; with
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; setkey -DP
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; br
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; -----Original Message-----
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; From: Sabyasachi Samal
</I>&gt;<i> &gt; &gt;     [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sabyasachisamal at gmail.com</A>
</I>&gt;<i> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sabyasachisamal at gmail.com</A>&gt;
</I>&gt;<i> &gt; &gt;     &gt; &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sabyasachisamal at gmail.com</A>
</I>&gt;<i> &gt; &gt;     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sabyasachisamal at gmail.com</A>&gt;&gt;]
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; Sent: Mittwoch, 23. J&#228;nner 2008 16:27
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; To: Klemens Schragel
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; Subject: Re: How to test IPSec in Open IMS
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; Thanks, Now it is not showing any error. but while
</I>&gt;<i> &gt; &gt;     adding a spd
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; using
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; below commad, i think it is not storing the data.
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; # setkey -c &lt;&lt; EOF
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; spdadd 10.21.21.147 &lt;<A HREF="http://10.21.21.147">http://10.21.21.147</A>&gt;
</I>&gt;<i> &gt; &gt;     &lt;<A HREF="http://10.21.21.147">http://10.21.21.147</A>&gt; 10.21.21.149 &lt;<A HREF="http://10.21.21.149">http://10.21.21.149</A>&gt;
</I>&gt;<i> &gt; &gt;     &gt; &lt;<A HREF="http://10.21.21.149">http://10.21.21.149</A>&gt; any -P out ipsec
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt;EOF
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; then i am using setkey -c &lt;&lt; spddump to show those
</I>&gt;<i> &gt; &gt;     value. It
</I>&gt;<i> &gt; &gt;     &gt; is not
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; showing anything.
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; Is there any database ipsec stores the data?
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; Regards,
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; Sabyasachi
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; On 1/23/08, Klemens Schragel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">klemens.schragel at gmx.at</A>
</I>&gt;<i> &gt; &gt;     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">klemens.schragel at gmx.at</A>&gt;
</I>&gt;<i> &gt; &gt;     &gt; &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">klemens.schragel at gmx.at</A>
</I>&gt;<i> &gt; &gt;     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">klemens.schragel at gmx.at</A>&gt;&gt;&gt; wrote:
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; Hi Sabyasachi,
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; Try it with &quot;setkey -c &lt;&lt; spdflush&quot;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; And you can have the same effect by just entering
</I>&gt;<i> &gt; setkey
</I>&gt;<i> &gt; &gt;     &gt; -FP (see
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; also
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; man-pages of setkey)
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; br
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; -----Original Message-----
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; From: Sabyasachi Samal
</I>&gt;<i> &gt; &gt;     [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sabyasachisamal at gmail.com</A>
</I>&gt;<i> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sabyasachisamal at gmail.com</A>&gt;
</I>&gt;<i> &gt; &gt;     &gt; &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sabyasachisamal at gmail.com</A>
</I>&gt;<i> &gt; &gt;     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sabyasachisamal at gmail.com</A>&gt;&gt;]
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Sent: Mittwoch, 23. J&#228;nner 2008 15:54
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; To: Klemens Schragel
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Subject: Re: How to test IPSec in Open IMS
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Hello Klemens,
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; I am using # setkey -c spdflush the output is
</I>&gt;<i> &gt; setkey:
</I>&gt;<i> &gt; &gt;     &gt; spdflush:
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; no
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; such file or directory.
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Pl let me know how to overcome this.
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Regards,
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Sabyasachi
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; On 1/23/08, Klemens Schragel
</I>&gt;<i> &gt; &gt;     &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">klemens.schragel at gmx.at</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">klemens.schragel at gmx.at</A>&gt;
</I>&gt;<i> &gt; &gt;     &gt; &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">klemens.schragel at gmx.at</A>
</I>&gt;<i> &gt; &gt;     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">klemens.schragel at gmx.at</A>&gt;&gt;&gt; wrote:
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Hi Sabyasachi,
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Could you send me the whole command you entered
</I>&gt;<i> &gt; with
</I>&gt;<i> &gt; &gt;     &gt; output?
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; First: as far as I know its spdadd =&gt; security
</I>&gt;<i> &gt; &gt;     policy
</I>&gt;<i> &gt; &gt;     &gt; database
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Second: the way you describe it sounds like you
</I>&gt;<i> &gt; &gt;     &gt; entered the
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; command
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; [Hide Quoted Text]
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; direct
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; in your shell.. but sdpadd is a command of
</I>&gt;<i> setkey
</I>&gt;<i> &gt; so
</I>&gt;<i> &gt; &gt;     &gt; you fist
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; have
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; to
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; start
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; setkey...
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; br, Klemens
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; -----Original Message-----
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; From: Sabyasachi Samal
</I>&gt;<i> &gt; &gt;     &gt; [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sabyasachisamal at gmail.com</A>
</I>&gt;<i> &gt; &gt;     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sabyasachisamal at gmail.com</A>&gt;
</I>&gt;<i> &gt; &gt;     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sabyasachisamal at gmail.com</A>
</I>&gt;<i> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sabyasachisamal at gmail.com</A>
</I>&gt;<i> &gt; &gt;&gt;]
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Sent: Mittwoch, 23. J&#228;nner 2008 13:53
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; To: Dragos Vingarzan
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Cc: Klemens Schragel;
</I>&gt;<i> &gt; &gt;     &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt;     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>&gt;
</I>&gt;<i> &gt; &gt;     &gt; &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt;     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>&gt;&gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Subject: How to test IPSec in Open IMS
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Hello Guys,
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; I am having problem while testing the stuffs
</I>&gt;<i> &gt; using
</I>&gt;<i> &gt; &gt;     &gt; IPSec. I
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; am
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; using
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; 2.6.9-22.ELsmp kernel and install ipsec-tools
</I>&gt;<i> &gt; &gt;     0.6.7. But
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; while i
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; am
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; using &quot;sdpadd&quot; it is showing command not
</I>&gt;<i> found.
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; So can you pl help me how to over come this
</I>&gt;<i> &gt; issue.
</I>&gt;<i> &gt; &gt;     &gt; For this
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; the
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; scripts related to ipsec inside
</I>&gt;<i> &gt; &gt;     &gt; /ser_ims/modules/pcscf did
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; not
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; work.
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; whether i need some extra module for the same,
</I>&gt;<i> &gt; &gt;     pl advise
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Regards,
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Sabyasachi
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; --
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; GMX FreeMail: 1 GB Postfach, 5 E-Mail-Adressen, 10 Free
</I>&gt;<i> SMS.
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt; Alle Infos und kostenlose Anmeldung:
</I>&gt;<i> &gt; &gt;     &gt; <A HREF="http://www.gmx.net/de/go/freemail">http://www.gmx.net/de/go/freemail</A>
</I>&gt;<i> &gt; &gt;     &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt;
</I>&gt;<i> &gt; &gt;     &gt; &gt; --
</I>&gt;<i> &gt; &gt;     &gt; &gt; Ist Ihr Browser Vista-kompatibel? Jetzt die neuesten
</I>&gt;<i> &gt; &gt;     &gt; &gt; Browser-Versionen downloaden: <A HREF="http://www.gmx.net/de/go/browser">http://www.gmx.net/de/go/browser</A>
</I>&gt;<i> &gt; &gt;     &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;     --
</I>&gt;<i> &gt; &gt;     -----------------------------------------
</I>&gt;<i> &gt; &gt;     Dipl. Eng. Dragos Vingarzan
</I>&gt;<i> &gt; &gt;     Fraunhofer FOKUS/NGNI
</I>&gt;<i> &gt; &gt;     Kaiserin-Augusta-Allee 31
</I>&gt;<i> &gt; &gt;     10589 Berlin,Germany
</I>&gt;<i> &gt; &gt;     Phone +49 (0)30 - 3463 - 7385
</I>&gt;<i> &gt; &gt;     Mobile +49 (0)176 - 48 32 16 00
</I>&gt;<i> &gt; &gt;     Web www.fokus.fraunhofer.de &lt;<A HREF="http://www.fokus.fraunhofer.de">http://www.fokus.fraunhofer.de</A>&gt;
</I>&gt;<i> &gt; &gt;     www.openimscore.org &lt;<A HREF="http://www.openimscore.org">http://www.openimscore.org</A>&gt;
</I>&gt;<i> &gt; &gt;     We could change the world if God would give us the source code...
</I>&gt;<i> &gt; &gt;     -----------------------------------------------------------------
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; --
</I>&gt;<i> &gt; &gt; Regards,
</I>&gt;<i> &gt; &gt;   Sabyasachi Samal
</I>&gt;<i> &gt; &gt;   IMS Testing Solution
</I>&gt;<i> &gt; &gt;   Nethawk Networks India Pvt. Ltd.
</I>&gt;<i> &gt; &gt;   Bhubaneswar
</I>&gt;<i> &gt; &gt;   Orissa, India
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; -----------------------------------------
</I>&gt;<i> &gt; Dipl. Eng. Dragos Vingarzan
</I>&gt;<i> &gt; Fraunhofer FOKUS/NGNI
</I>&gt;<i> &gt; Kaiserin-Augusta-Allee 31
</I>&gt;<i> &gt; 10589 Berlin,Germany
</I>&gt;<i> &gt; Phone +49 (0)30 - 3463 - 7385
</I>&gt;<i> &gt; Mobile +49 (0)176 - 48 32 16 00
</I>&gt;<i> &gt; Web www.fokus.fraunhofer.de www.openimscore.org
</I>&gt;<i> &gt; We could change the world if God would give us the source code...
</I>&gt;<i> &gt; -----------------------------------------------------------------
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Regards,
</I>&gt;<i>   Sabyasachi Samal
</I>&gt;<i>   IMS Testing Solution
</I>&gt;<i>   Nethawk Networks India Pvt. Ltd.
</I>&gt;<i>   Bhubaneswar
</I>&gt;<i>   Orissa, India
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Regards,
</I>&gt;<i>   Sabyasachi Samal
</I>&gt;<i>   IMS Testing Solution
</I>&gt;<i>   Nethawk Networks India Pvt. Ltd.
</I>&gt;<i>   Bhubaneswar
</I>&gt;<i>   Orissa, India
</I>
--
Der GMX SmartSurfer hilft bis zu 70% Ihrer Onlinekosten zu sparen!
Ideal f&#252;r Modem und ISDN: <A HREF="http://www.gmx.net/de/go/smartsurfer">http://www.gmx.net/de/go/smartsurfer</A>




-- 
Regards,
  Sabyasachi Samal
  IMS Testing Solution
  Nethawk Networks India Pvt. Ltd.
  Bhubaneswar
  Orissa, India 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20080222/488542a1/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20080222/488542a1/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003441.html">[OpenIMSCore-Users] How to test IPSec in Open IMS
</A></li>
	<LI>Next message: <A HREF="003506.html">[OpenIMSCore-Users] How to test IPSec in Open IMS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3450">[ date ]</a>
              <a href="thread.html#3450">[ thread ]</a>
              <a href="subject.html#3450">[ subject ]</a>
              <a href="author.html#3450">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
