<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] PSI on terminating side - will it work in	the OpenIMS
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20PSI%20on%20terminating%20side%20-%20will%20it%20work%20in%0A%09the%20OpenIMS&In-Reply-To=%3C5fd52d7a0802150455q37bdc4aape327a52e64587090%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003392.html">
   <LINK REL="Next"  HREF="003395.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] PSI on terminating side - will it work in	the OpenIMS</H1>
    <B>Tomasz Zieleniewski</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20PSI%20on%20terminating%20side%20-%20will%20it%20work%20in%0A%09the%20OpenIMS&In-Reply-To=%3C5fd52d7a0802150455q37bdc4aape327a52e64587090%40mail.gmail.com%3E"
       TITLE="[OpenIMSCore-Users] PSI on terminating side - will it work in	the OpenIMS">tzieleniewski at gmail.com
       </A><BR>
    <I>Fri Feb 15 13:55:04 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003392.html">[OpenIMSCore-Users] PSI on terminating side - will it work in	the OpenIMS
</A></li>
        <LI>Next message: <A HREF="003395.html">[OpenIMSCore-Users] PSI on terminating side - will it work in the OpenIMS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3393">[ date ]</a>
              <a href="thread.html#3393">[ thread ]</a>
              <a href="subject.html#3393">[ subject ]</a>
              <a href="author.html#3393">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>A piece of log from the icscf:

<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">ims at venom</A>:~/oims/ser_ims/cfg$  7(7501) DBG:accept_loop(): No connection
attempts
12(7506) DBG:trans_timer(): taking care of diameter transactions...
 3(7497) SIP Request:
 3(7497)  method:  &lt;MESSAGE&gt;
 3(7497)  uri:     &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vots at ims.rd.touk.pl</A>&gt;
 3(7497)  version: &lt;SIP/2.0&gt;
 3(7497) parse_headers: flags=2
 3(7497) get_hdr_field: cseq &lt;CSeq&gt;: &lt;1&gt; &lt;MESSAGE&gt;
 3(7497) end of header reached, state=9
 3(7497) DEBUG: get_hdr_field: &lt;To&gt; [27]; uri=[sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vots at ims.rd.touk.pl</A>]
 3(7497) DEBUG: to body [&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vots at ims.rd.touk.pl</A>&gt;
]
 3(7497) Found param type 232, &lt;branch&gt; = &lt;z9hG4bKf413.81b40cc6.0&gt;; state=16
 3(7497) end of header reached, state=5
 3(7497) parse_headers: Via found, flags=2
 3(7497) parse_headers: this is the first via
 3(7497) After parse_msg...
 3(7497) preparing to run routing scripts...
 3(7497) parse_headers: flags=100
 3(7497) Found param type 232, &lt;branch&gt; = &lt;z9hG4bKf413.226553e7.0&gt;; state=16
 3(7497) end of header reached, state=5
 3(7497) parse_headers: Via found, flags=100
 3(7497) parse_headers: this is the second via
 3(7497) Found param type 235, &lt;rport&gt; = &lt;5060&gt;; state=6
 3(7497) Found param type 232, &lt;branch&gt; =
&lt;z9hG4bKac70908829c306ce41d161fcb664284d&gt;; state=16
 3(7497) end of header reached, state=5
 3(7497) parse_headers: Via found, flags=100
 3(7497) DEBUG:maxfwd:is_maxfwd_present: value = 15
 3(7497) Calling SELECT 0x764348
 3(7497) parse_headers: flags=ffffffffffffffff
 3(7497) DEBUG: get_hdr_body : content_length=4
 3(7497) found end of header
 3(7497) parse_headers: flags=40
 3(7497) DBG:I-CSCF:I_LIR: Starting ...
 3(7497) parse_headers: flags=200
 3(7497) DBG:I-CSCF:I_originating: Header Route not found
 3(7497) DBG:I-CSCF:cscf_get_public_identity_from_requri: &lt;
sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vots at ims.rd.touk.pl</A>&gt;
 3(7497) AAABuildMsgBuffer(): len=220
 3(7497) DBG:peer_send_msg(): Pipe push [0x2b02d49c55a8]
18(7513) DBG:select_recv(): There is something on the pipe
18(7513) DBG:select_recv(): Pipe says [0x2b02d49c55a8] 8
18(7513) DBG:AAAFreeMessage: Freeing message (0x2b02d49c55a8) 302
18(7513) DBG:receive_loop():[18] Recv Version 1 Length 208
18(7513) DBG:receive_loop():[18] Recv message complete
18(7513) DBG:receive_message(): [18] Recv msg 302
18(7513) DBG:sm_process(): Peer hss.ims.rd.touk.pl     State I_Open
Event I_Rcv_Message
18(7513) DBG:Rcv_Process(): Received a message
18(7513) DBG:Rcv_Process(): task added to queue
11(7505) DBG:worker_process(): [3] got task Q(6/6)
 3(7497) INFO:I-CSCF:new_scscf_entry:  &lt;sip:scscf.ims.rd.touk.pl&gt;
 3(7497) parse_headers: flags=40
 3(7497) DBG:AAAFreeMessage: Freeing message (0x2b02d49c55a8) 302
 3(7497) DBG:I-CSCF:I_LIR: ... Done
 3(7497) parse_headers: flags=40
 3(7497) DBG:I-CSCF:I_scscf_select(): &lt;
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">ba909b27730e908f590fb1c62847d7e1 at 192.168.0.165</A>&gt;
 3(7497) DEBUG: t_newtran: msg id=105 , global msg id=29 , T on
entrance=0xffffffffffffffff
 3(7497) parse_headers: flags=ffffffffffffffff
 3(7497) parse_headers: flags=78
 3(7497) t_lookup_request: start searching: hash=12623, isACK=0
 3(7497) DEBUG: RFC3261 transaction matching failed
 3(7497) DEBUG: t_lookup_request: no transaction found
 3(7497) dns_hash_find(_sip._udp.scscf.ims.rd.touk.pl(30), 33), h=445
 3(7497) dns_hash_find(scscf.ims.rd.touk.pl(20), 1), h=108
 3(7497) check_via_address(192.168.129.38, 192.168.129.38, 0)
 3(7497) SER: new transaction fwd'ed
 3(7497) DEBUG:destroy_avp_list: destroying list (nil)
 3(7497) DEBUG:destroy_avp_list: destroying list (nil)
 3(7497) DEBUG:destroy_avp_list: destroying list (nil)
 3(7497) DEBUG:destroy_avp_list: destroying list (nil)
 3(7497) DEBUG:destroy_avp_list: destroying list (nil)
 3(7497) DEBUG:destroy_avp_list: destroying list (nil)
 3(7497) receive_msg: cleaning up
 3(7497) SIP Request:
 3(7497)  method:  &lt;MESSAGE&gt;
 3(7497)  uri:     &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vots at ims.rd.touk.pl</A>&gt;
 3(7497)  version: &lt;SIP/2.0&gt;
 3(7497) parse_headers: flags=2
 3(7497) get_hdr_field: cseq &lt;CSeq&gt;: &lt;1&gt; &lt;MESSAGE&gt;
 3(7497) end of header reached, state=9
 3(7497) DEBUG: get_hdr_field: &lt;To&gt; [27]; uri=[sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vots at ims.rd.touk.pl</A>]
 3(7497) DEBUG: to body [&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vots at ims.rd.touk.pl</A>&gt;
]
 3(7497) Found param type 232, &lt;branch&gt; = &lt;z9hG4bKf413.ec396241.0&gt;; state=16
 3(7497) end of header reached, state=5
 3(7497) parse_headers: Via found, flags=2
 3(7497) parse_headers: this is the first via
 3(7497) After parse_msg...
 3(7497) preparing to run routing scripts...
 3(7497) parse_headers: flags=100
 3(7497) Found param type 232, &lt;branch&gt; = &lt;z9hG4bKf413.81b40cc6.0&gt;; state=16
 3(7497) end of header reached, state=5
 3(7497) parse_headers: Via found, flags=100
 3(7497) parse_headers: this is the second via
 3(7497) Found param type 232, &lt;branch&gt; = &lt;z9hG4bKf413.226553e7.0&gt;; state=16
 3(7497) end of header reached, state=5
 3(7497) parse_headers: Via found, flags=100
 3(7497) Found param type 235, &lt;rport&gt; = &lt;5060&gt;; state=6
 3(7497) Found param type 232, &lt;branch&gt; =
&lt;z9hG4bKac70908829c306ce41d161fcb664284d&gt;; state=16
 3(7497) end of header reached, state=5
 3(7497) parse_headers: Via found, flags=100
 3(7497) DEBUG:maxfwd:is_maxfwd_present: value = 14
 3(7497) Calling SELECT 0x764348
 3(7497) parse_headers: flags=ffffffffffffffff
 3(7497) DEBUG: get_hdr_body : content_length=4
 3(7497) found end of header
 3(7497) parse_headers: flags=200
 3(7497) grep_sock_info - checking if host==us: 14==14 &amp;&amp;  [ims.rd.touk.pl]
== [192.168.129.38]
 3(7497) grep_sock_info - checking if port 5060 matches port 5060
 3(7497) grep_sock_info - checking if host==us: 14==14 &amp;&amp;  [ims.rd.touk.pl]
== [192.168.129.38]
 3(7497) grep_sock_info - checking if port 5060 matches port 5060
 3(7497) loose_route: RURI is myself (or tel URI)
 3(7497) grep_sock_info - checking if host==us: 20==14 &amp;&amp;  [
scscf.ims.rd.touk.pl] == [192.168.129.38]
 3(7497) grep_sock_info - checking if port 5060 matches port 5060
 3(7497) grep_sock_info - checking if host==us: 20==14 &amp;&amp;  [
scscf.ims.rd.touk.pl] == [192.168.129.38]
 3(7497) grep_sock_info - checking if port 5060 matches port 5060
 3(7497) check_self: host != me
 3(7497) has_to_tag: No
 3(7497) loose_route: pre-loaded strict routing?!
 3(7497) parse_headers: flags=40
 3(7497) DEBUG:destroy_avp_list: destroying list (nil)
 3(7497) DEBUG:destroy_avp_list: destroying list (nil)
 3(7497) DEBUG:destroy_avp_list: destroying list (nil)
 3(7497) DEBUG:destroy_avp_list: destroying list (nil)
 3(7497) DEBUG:destroy_avp_list: destroying list (nil)
 3(7497) DEBUG:destroy_avp_list: destroying list (nil)
 3(7497) receive_msg: cleaning up
12(7506) DBG:trans_timer(): taking care of diameter transactions...
 2(7496) SIP Request:
 2(7496)  method:  &lt;MESSAGE&gt;
 2(7496)  uri:     &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vots at ims.rd.touk.pl</A>&gt;
 2(7496)  version: &lt;SIP/2.0&gt;
 2(7496) parse_headers: flags=2
 2(7496) get_hdr_field: cseq &lt;CSeq&gt;: &lt;1&gt; &lt;MESSAGE&gt;
 2(7496) end of header reached, state=9
 2(7496) DEBUG: get_hdr_field: &lt;To&gt; [27]; uri=[sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vots at ims.rd.touk.pl</A>]
 2(7496) DEBUG: to body [&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vots at ims.rd.touk.pl</A>&gt;
]
 2(7496) Found param type 232, &lt;branch&gt; = &lt;z9hG4bKf413.ec396241.0&gt;; state=16
 2(7496) end of header reached, state=5
 2(7496) parse_headers: Via found, flags=2
 2(7496) parse_headers: this is the first via
 2(7496) After parse_msg...
 2(7496) preparing to run routing scripts...
 2(7496) parse_headers: flags=100
 2(7496) Found param type 232, &lt;branch&gt; = &lt;z9hG4bKf413.81b40cc6.0&gt;; state=16
 2(7496) end of header reached, state=5
 2(7496) parse_headers: Via found, flags=100
 2(7496) parse_headers: this is the second via
 2(7496) Found param type 232, &lt;branch&gt; = &lt;z9hG4bKf413.226553e7.0&gt;; state=16
 2(7496) end of header reached, state=5
 2(7496) parse_headers: Via found, flags=100
 2(7496) Found param type 235, &lt;rport&gt; = &lt;5060&gt;; state=6
 2(7496) Found param type 232, &lt;branch&gt; =
&lt;z9hG4bKac70908829c306ce41d161fcb664284d&gt;; state=16
 2(7496) end of header reached, state=5
 2(7496) parse_headers: Via found, flags=100
 2(7496) DEBUG:maxfwd:is_maxfwd_present: value = 14
 2(7496) Calling SELECT 0x764348
 2(7496) parse_headers: flags=ffffffffffffffff
 2(7496) DEBUG: get_hdr_body : content_length=4
 2(7496) found end of header
 2(7496) parse_headers: flags=200
 2(7496) grep_sock_info - checking if host==us: 14==14 &amp;&amp;  [ims.rd.touk.pl]
== [192.168.129.38]
 2(7496) grep_sock_info - checking if port 5060 matches port 5060
 2(7496) grep_sock_info - checking if host==us: 14==14 &amp;&amp;  [ims.rd.touk.pl]
== [192.168.129.38]
 2(7496) grep_sock_info - checking if port 5060 matches port 5060
 2(7496) loose_route: RURI is myself (or tel URI)
 2(7496) grep_sock_info - checking if host==us: 20==14 &amp;&amp;  [
scscf.ims.rd.touk.pl] == [192.168.129.38]
 2(7496) grep_sock_info - checking if port 5060 matches port 5060
 2(7496) grep_sock_info - checking if host==us: 20==14 &amp;&amp;  [
scscf.ims.rd.touk.pl] == [192.168.129.38]
 2(7496) grep_sock_info - checking if port 5060 matches port 5060
 2(7496) check_self: host != me
 2(7496) has_to_tag: No
 2(7496) loose_route: pre-loaded strict routing?!
 2(7496) parse_headers: flags=40
 2(7496) DEBUG:destroy_avp_list: destroying list (nil)
 2(7496) DEBUG:destroy_avp_list: destroying list (nil)
 2(7496) DEBUG:destroy_avp_list: destroying list (nil)
 2(7496) DEBUG:destroy_avp_list: destroying list (nil)
 2(7496) DEBUG:destroy_avp_list: destroying list (nil)
 2(7496) DEBUG:destroy_avp_list: destroying list (nil)
 2(7496) receive_msg: cleaning up
 4(7498) SIP Request:
 4(7498)  method:  &lt;MESSAGE&gt;
 4(7498)  uri:     &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vots at ims.rd.touk.pl</A>&gt;
 4(7498)  version: &lt;SIP/2.0&gt;
 4(7498) parse_headers: flags=2
 4(7498) get_hdr_field: cseq &lt;CSeq&gt;: &lt;1&gt; &lt;MESSAGE&gt;
 4(7498) end of header reached, state=9
 4(7498) DEBUG: get_hdr_field: &lt;To&gt; [27]; uri=[sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vots at ims.rd.touk.pl</A>]
 4(7498) DEBUG: to body [&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vots at ims.rd.touk.pl</A>&gt;
]
 4(7498) Found param type 232, &lt;branch&gt; = &lt;z9hG4bKf413.81b40cc6.0&gt;; state=16
 4(7498) end of header reached, state=5
 4(7498) parse_headers: Via found, flags=2
 4(7498) parse_headers: this is the first via
 4(7498) After parse_msg...
 4(7498) preparing to run routing scripts...
 4(7498) parse_headers: flags=100
 4(7498) Found param type 232, &lt;branch&gt; = &lt;z9hG4bKf413.226553e7.0&gt;; state=16
 4(7498) end of header reached, state=5
 4(7498) parse_headers: Via found, flags=100
 4(7498) parse_headers: this is the second via
 4(7498) Found param type 235, &lt;rport&gt; = &lt;5060&gt;; state=6
 4(7498) Found param type 232, &lt;branch&gt; =
&lt;z9hG4bKac70908829c306ce41d161fcb664284d&gt;; state=16
 4(7498) end of header reached, state=5
 4(7498) parse_headers: Via found, flags=100
 4(7498) DEBUG:maxfwd:is_maxfwd_present: value = 15
 4(7498) Calling SELECT 0x764348
 4(7498) parse_headers: flags=ffffffffffffffff
 4(7498) DEBUG: get_hdr_body : content_length=4
 4(7498) found end of header
 4(7498) parse_headers: flags=40
 4(7498) DEBUG:destroy_avp_list: destroying list (nil)
 4(7498) DEBUG:destroy_avp_list: destroying list (nil)
 4(7498) DEBUG:destroy_avp_list: destroying list (nil)
 4(7498) DEBUG:destroy_avp_list: destroying list (nil)
 4(7498) DEBUG:destroy_avp_list: destroying list (nil)
 4(7498) DEBUG:destroy_avp_list: destroying list (nil)
 4(7498) receive_msg: cleaning up
 7(7501) DBG:accept_loop(): No connection attempts
12(7506) DBG:peer_timer(): taking care of peers...
12(7506) --- Peer List: ---
12(7506)  S[I_Open] hss.ims.rd.touk.pl:3868 D[ ]
12(7506)      [16777216,10415]
12(7506)      [16777217,10415]
12(7506)      [16777221,10415]
12(7506) ------------------
12(7506) DBG:trans_timer(): taking care of diameter transactions...
 1(7495) SIP Request:
 1(7495)  method:  &lt;MESSAGE&gt;
 1(7495)  uri:     &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vots at ims.rd.touk.pl</A>&gt;
 1(7495)  version: &lt;SIP/2.0&gt;
 1(7495) parse_headers: flags=2
 1(7495) get_hdr_field: cseq &lt;CSeq&gt;: &lt;1&gt; &lt;MESSAGE&gt;
 1(7495) end of header reached, state=9
 1(7495) DEBUG: get_hdr_field: &lt;To&gt; [27]; uri=[sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vots at ims.rd.touk.pl</A>]
 1(7495) DEBUG: to body [&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vots at ims.rd.touk.pl</A>&gt;
]
 1(7495) Found param type 232, &lt;branch&gt; = &lt;z9hG4bKf413.ec396241.0&gt;; state=16
 1(7495) end of header reached, state=5
 1(7495) parse_headers: Via found, flags=2
 1(7495) parse_headers: this is the first via
 1(7495) After parse_msg...
 1(7495) preparing to run routing scripts...
 1(7495) parse_headers: flags=100
 1(7495) Found param type 232, &lt;branch&gt; = &lt;z9hG4bKf413.81b40cc6.0&gt;; state=16
 1(7495) end of header reached, state=5
 1(7495) parse_headers: Via found, flags=100
 1(7495) parse_headers: this is the second via
 1(7495) Found param type 232, &lt;branch&gt; = &lt;z9hG4bKf413.226553e7.0&gt;; state=16
 1(7495) end of header reached, state=5
 1(7495) parse_headers: Via found, flags=100
 1(7495) Found param type 235, &lt;rport&gt; = &lt;5060&gt;; state=6
 1(7495) Found param type 232, &lt;branch&gt; =
&lt;z9hG4bKac70908829c306ce41d161fcb664284d&gt;; state=16
 1(7495) end of header reached, state=5
 1(7495) parse_headers: Via found, flags=100
 1(7495) DEBUG:maxfwd:is_maxfwd_present: value = 14
 1(7495) Calling SELECT 0x764348
 1(7495) parse_headers: flags=ffffffffffffffff
 1(7495) DEBUG: get_hdr_body : content_length=4
 1(7495) found end of header
 1(7495) parse_headers: flags=200
 1(7495) grep_sock_info - checking if host==us: 14==14 &amp;&amp;  [ims.rd.touk.pl]
== [192.168.129.38]
 1(7495) grep_sock_info - checking if port 5060 matches port 5060
 1(7495) grep_sock_info - checking if host==us: 14==14 &amp;&amp;  [ims.rd.touk.pl]
== [192.168.129.38]
 1(7495) grep_sock_info - checking if port 5060 matches port 5060
 1(7495) loose_route: RURI is myself (or tel URI)
 1(7495) grep_sock_info - checking if host==us: 20==14 &amp;&amp;  [
scscf.ims.rd.touk.pl] == [192.168.129.38]
 1(7495) grep_sock_info - checking if port 5060 matches port 5060
 1(7495) grep_sock_info - checking if host==us: 20==14 &amp;&amp;  [
scscf.ims.rd.touk.pl] == [192.168.129.38]
 1(7495) grep_sock_info - checking if port 5060 matches port 5060
 1(7495) check_self: host != me
 1(7495) has_to_tag: No
 1(7495) loose_route: pre-loaded strict routing?!
 1(7495) parse_headers: flags=40
 1(7495) DEBUG:destroy_avp_list: destroying list (nil)
 1(7495) DEBUG:destroy_avp_list: destroying list (nil)
 1(7495) DEBUG:destroy_avp_list: destroying list (nil)
 1(7495) DEBUG:destroy_avp_list: destroying list (nil)
 1(7495) DEBUG:destroy_avp_list: destroying list (nil)
 1(7495) DEBUG:destroy_avp_list: destroying list (nil)
 1(7495) receive_msg: cleaning up
 3(7497) SIP Request:
 3(7497)  method:  &lt;MESSAGE&gt;
 3(7497)  uri:     &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vots at ims.rd.touk.pl</A>&gt;
 3(7497)  version: &lt;SIP/2.0&gt;
 3(7497) parse_headers: flags=2
 3(7497) get_hdr_field: cseq &lt;CSeq&gt;: &lt;1&gt; &lt;MESSAGE&gt;
 3(7497) end of header reached, state=9
 3(7497) DEBUG: get_hdr_field: &lt;To&gt; [27]; uri=[sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vots at ims.rd.touk.pl</A>]
 3(7497) DEBUG: to body [&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vots at ims.rd.touk.pl</A>&gt;
]
 3(7497) Found param type 232, &lt;branch&gt; = &lt;z9hG4bKf413.81b40cc6.0&gt;; state=16
 3(7497) end of header reached, state=5
 3(7497) parse_headers: Via found, flags=2
 3(7497) parse_headers: this is the first via
 3(7497) After parse_msg...
 3(7497) preparing to run routing scripts...
 3(7497) parse_headers: flags=100
 3(7497) Found param type 232, &lt;branch&gt; = &lt;z9hG4bKf413.226553e7.0&gt;; state=16
 3(7497) end of header reached, state=5
 3(7497) parse_headers: Via found, flags=100
 3(7497) parse_headers: this is the second via
 3(7497) Found param type 235, &lt;rport&gt; = &lt;5060&gt;; state=6
 3(7497) Found param type 232, &lt;branch&gt; =
&lt;z9hG4bKac70908829c306ce41d161fcb664284d&gt;; state=16
 3(7497) end of header reached, state=5
 3(7497) parse_headers: Via found, flags=100
 3(7497) DEBUG:maxfwd:is_maxfwd_present: value = 15
 3(7497) Calling SELECT 0x764348
 3(7497) parse_headers: flags=ffffffffffffffff
 3(7497) DEBUG: get_hdr_body : content_length=4
 3(7497) found end of header
 3(7497) parse_headers: flags=40
 3(7497) DEBUG:destroy_avp_list: destroying list (nil)
 3(7497) DEBUG:destroy_avp_list: destroying list (nil)
 3(7497) DEBUG:destroy_avp_list: destroying list (nil)
 3(7497) DEBUG:destroy_avp_list: destroying list (nil)
 3(7497) DEBUG:destroy_avp_list: destroying list (nil)
 3(7497) DEBUG:destroy_avp_list: destroying list (nil)
 3(7497) receive_msg: cleaning up

<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">ims at venom</A>:~/oims/ser_ims/cfg$ 12(7506) DBG:trans_timer(): taking care of
diameter transactions...
ser-icscf stop 7(7501) DBG:accept_loop(): No connection attempts
12(7506) DBG:trans_timer(): taking care of diameter transactions...
 4(7498) SIP Request:
 4(7498)  method:  &lt;MESSAGE&gt;
 4(7498)  uri:     &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vots at ims.rd.touk.pl</A>&gt;
 4(7498)  version: &lt;SIP/2.0&gt;
 4(7498) parse_headers: flags=2
 4(7498) get_hdr_field: cseq &lt;CSeq&gt;: &lt;1&gt; &lt;MESSAGE&gt;
 4(7498) end of header reached, state=9
 4(7498) DEBUG: get_hdr_field: &lt;To&gt; [27]; uri=[sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vots at ims.rd.touk.pl</A>]
 4(7498) DEBUG: to body [&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vots at ims.rd.touk.pl</A>&gt;
]
 4(7498) Found param type 232, &lt;branch&gt; = &lt;z9hG4bKf413.ec396241.0&gt;; state=16
 4(7498) end of header reached, state=5
 4(7498) parse_headers: Via found, flags=2
 4(7498) parse_headers: this is the first via
 4(7498) After parse_msg...
 4(7498) preparing to run routing scripts...
 4(7498) parse_headers: flags=100
 4(7498) Found param type 232, &lt;branch&gt; = &lt;z9hG4bKf413.81b40cc6.0&gt;; state=16
 4(7498) end of header reached, state=5
 4(7498) parse_headers: Via found, flags=100
 4(7498) parse_headers: this is the second via
 4(7498) Found param type 232, &lt;branch&gt; = &lt;z9hG4bKf413.226553e7.0&gt;; state=16
 4(7498) end of header reached, state=5
 4(7498) parse_headers: Via found, flags=100
 4(7498) Found param type 235, &lt;rport&gt; = &lt;5060&gt;; state=6
 4(7498) Found param type 232, &lt;branch&gt; =
&lt;z9hG4bKac70908829c306ce41d161fcb664284d&gt;; state=16
 4(7498) end of header reached, state=5
 4(7498) parse_headers: Via found, flags=100
 4(7498) DEBUG:maxfwd:is_maxfwd_present: value = 14
 4(7498) Calling SELECT 0x764348
 4(7498) parse_headers: flags=ffffffffffffffff
 4(7498) DEBUG: get_hdr_body : content_length=4
 4(7498) found end of header
 4(7498) parse_headers: flags=200
 4(7498) grep_sock_info - checking if host==us: 14==14 &amp;&amp;  [ims.rd.touk.pl]
== [192.168.129.38]
 4(7498) grep_sock_info - checking if port 5060 matches port 5060
 4(7498) grep_sock_info - checking if host==us: 14==14 &amp;&amp;  [ims.rd.touk.pl]
== [192.168.129.38]
 4(7498) grep_sock_info - checking if port 5060 matches port 5060
 4(7498) loose_route: RURI is myself (or tel URI)
 4(7498) grep_sock_info - checking if host==us: 20==14 &amp;&amp;  [
scscf.ims.rd.touk.pl] == [192.168.129.38]
 4(7498) grep_sock_info - checking if port 5060 matches port 5060
 4(7498) grep_sock_info - checking if host==us: 20==14 &amp;&amp;  [
scscf.ims.rd.touk.pl] == [192.168.129.38]
 4(7498) grep_sock_info - checking if port 5060 matches port 5060
 4(7498) check_self: host != me
 4(7498) has_to_tag: No
 4(7498) loose_route: pre-loaded strict routing?!


On Fri, Feb 15, 2008 at 1:45 PM, Tomasz Zieleniewski &lt;
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">tzieleniewski at gmail.com</A>&gt; wrote:

&gt;<i> Ok this one solved, now I see that this field are used when user is
</I>&gt;<i> registered.
</I>&gt;<i> Now the situation looks like this
</I>&gt;<i> When originating scscf sends request to the terminating PSI, because it is
</I>&gt;<i> in the same network the request is sent to the icscf
</I>&gt;<i> and iscsf sends this message to it self and nothing happens then
</I>&gt;<i>
</I>&gt;<i> this is request sent from originating scscf to icscf:
</I>&gt;<i>
</I>&gt;<i> MESSAGE sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vots at ims.rd.touk.pl</A> SIP/2.0
</I>&gt;<i> Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">8d32e9afaee92f2597cec8e43bc63aae at 192.168.0.165</A>
</I>&gt;<i> CSeq: 1 MESSAGE
</I>&gt;<i> From: &quot;tzl&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">tzl at ims.rd.touk.pl</A>&gt;;tag=1032
</I>&gt;<i> To: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vots at ims.rd.touk.pl</A>&gt;
</I>&gt;<i> Via: SIP/2.0/UDP 192.168.129.38:6060;branch=z9hG4bK9191.02f8e4b6.0
</I>&gt;<i> Via: SIP/2.0/UDP 192.168.129.38:4060;branch=z9hG4bK9191.452d0673.0
</I>&gt;<i> Via: SIP/2.0/UDP 192.168.0.165:5060
</I>&gt;<i> ;rport=5060;branch=z9hG4bK7ce877d7bb7a9ca403f4b44080742c17
</I>&gt;<i> Max-Forwards: 15
</I>&gt;<i> Content-Type: text/plain
</I>&gt;<i> Contact: &quot;tzl&quot; &lt;sip:192.168.0.165:5060&gt;
</I>&gt;<i> Privacy: none
</I>&gt;<i> User-Agent: Fraunhofer FOKUS/NGNI Java IMS UserEndpoint FoJIE 0.1 (jdk1.3)
</I>&gt;<i> P-Access-Network-Info: 3GPP-UTRAN-TDD; utran-cell-id-3gpp=00000000
</I>&gt;<i> Allow: INVITE,ACK,CANCEL,BYE,MESSAGE,NOTIFY
</I>&gt;<i> Content-Length: 4
</I>&gt;<i> P-Asserted-Identity: &quot;tzl&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">tzl at ims.rd.touk.pl</A>&gt;
</I>&gt;<i> P-Charging-Vector:
</I>&gt;<i> icid-value=&quot;P-CSCFabcd0000000047b586910000001a&quot;;icid-generated-at=
</I>&gt;<i> 192.168.129.38;orig-ioi=&quot;ims.rd.touk.pl&quot;
</I>&gt;<i>
</I>&gt;<i> this is request sent from originating icscf to itself:
</I>&gt;<i>
</I>&gt;<i> MESSAGE sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vots at ims.rd.touk.pl</A> SIP/2.0
</I>&gt;<i> Route: &lt;sip:scscf.ims.rd.touk.pl&gt;
</I>&gt;<i> Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">8d32e9afaee92f2597cec8e43bc63aae at 192.168.0.165</A>
</I>&gt;<i> CSeq: 1 MESSAGE
</I>&gt;<i> From: &quot;tzl&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">tzl at ims.rd.touk.pl</A>&gt;;tag=1032
</I>&gt;<i> To: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vots at ims.rd.touk.pl</A>&gt;
</I>&gt;<i> Via: SIP/2.0/UDP 192.168.129.38;branch=z9hG4bK9191.8c5fba93.0
</I>&gt;<i> Via: SIP/2.0/UDP 192.168.129.38:6060;branch=z9hG4bK9191.02f8e4b6.0
</I>&gt;<i> Via: SIP/2.0/UDP 192.168.129.38:4060;branch=z9hG4bK9191.452d0673.0
</I>&gt;<i> Via: SIP/2.0/UDP 192.168.0.165:5060
</I>&gt;<i> ;rport=5060;branch=z9hG4bK7ce877d7bb7a9ca403f4b44080742c17
</I>&gt;<i> Max-Forwards: 14
</I>&gt;<i> Content-Type: text/plain
</I>&gt;<i> Contact: &quot;tzl&quot; &lt;sip:192.168.0.165:5060&gt;
</I>&gt;<i> Privacy: none
</I>&gt;<i> User-Agent: Fraunhofer FOKUS/NGNI Java IMS UserEndpoint FoJIE 0.1 (jdk1.3)
</I>&gt;<i> P-Access-Network-Info: 3GPP-UTRAN-TDD; utran-cell-id-3gpp=00000000
</I>&gt;<i> Allow: INVITE,ACK,CANCEL,BYE,MESSAGE,NOTIFY
</I>&gt;<i> Content-Length: 4
</I>&gt;<i> P-Asserted-Identity: &quot;tzl&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">tzl at ims.rd.touk.pl</A>&gt;
</I>&gt;<i> P-Charging-Vector:
</I>&gt;<i> icid-value=&quot;P-CSCFabcd0000000047b586910000001a&quot;;icid-generated-at=
</I>&gt;<i> 192.168.129.38;orig-ioi=&quot;ims.rd.touk.pl&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Fri, Feb 15, 2008 at 1:28 PM, Tomasz Zieleniewski &lt;
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">tzieleniewski at gmail.com</A>&gt; wrote
</I>&gt;<i>
</I>&gt;<i> In the IMSU page in hss I can only edit the Preferred S-CSCF and
</I>&gt;<i> &gt; Capabilities Set
</I>&gt;<i> &gt; I cann't edit the S-CSCF Name field and Diameter Name
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Fri, Feb 15, 2008 at 1:11 PM, Alberto Diez &lt;
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Alberto.Diez at fokus.fraunhofer.de</A>&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; ok , the IMSU you have to select an scscf for it, cant leave it
</I>&gt;<i> &gt; &gt; without
</I>&gt;<i> &gt; &gt; deciding.. this is because we use that for routing in I-CSCF mode
</I>&gt;<i> &gt; &gt; then the LIR will reply fine and everything should work... but the bug
</I>&gt;<i> &gt; &gt; in the s-cscf before keeps me wondering what could it be
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Tomasz Zieleniewski wrote:
</I>&gt;<i> &gt; &gt; &gt; I caught something like this in the HSS
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; 2008-02-15 13:08:22,879 DEBUG de.fhg.fokus.hss.main.Task - execute
</I>&gt;<i> &gt; &gt; &gt; Processing LIR!
</I>&gt;<i> &gt; &gt; &gt; 2008-02-15 13:08:22,893 INFO  de.fhg.fokus.hss.cx.op.LIR -
</I>&gt;<i> &gt; &gt; &gt; processRequest Alberto : PSI : getting SCSCF name!
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; de.fhg.fokus.hss.cx.CxFinalResultException:
</I>&gt;<i> &gt; &gt; Diameter_Unable_To_Comply
</I>&gt;<i> &gt; &gt; &gt;     at de.fhg.fokus.hss.cx.op.LIR.processRequest(LIR.java:161)
</I>&gt;<i> &gt; &gt; &gt;     at de.fhg.fokus.hss.main.Task.execute(Task.java:121)
</I>&gt;<i> &gt; &gt; &gt;     at de.fhg.fokus.hss.main.Worker.run(Worker.java:66)
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; I've created IMSU and IMPI for my PSI IMPU but now I receive the
</I>&gt;<i> &gt; &gt; &gt; following response from icscf
</I>&gt;<i> &gt; &gt; &gt; 403 Forbiddent - Hss Unable to comply
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; On Fri, Feb 15, 2008 at 12:52 PM, Alberto Diez
</I>&gt;<i> &gt; &gt; &gt; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Alberto.Diez at fokus.fraunhofer.de</A>
</I>&gt;<i> &gt; &gt; &gt; &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Alberto.Diez at fokus.fraunhofer.de</A>&gt;&gt; wrote:
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;     well i updated something today about a parameter to allow
</I>&gt;<i> &gt; &gt; &gt;     wildcards psi
</I>&gt;<i> &gt; &gt; &gt;     in scscf , but 3-4 days i guess is ok...
</I>&gt;<i> &gt; &gt; &gt;     you have to create an IMSU and IMPI for a IMPU , and you have to
</I>&gt;<i> &gt; &gt; &gt;     assign
</I>&gt;<i> &gt; &gt; &gt;     the preferred scscf for such an IMSU , and there is also some
</I>&gt;<i> &gt; &gt; trick in
</I>&gt;<i> &gt; &gt; &gt;     how you have to create the Service Profile
</I>&gt;<i> &gt; &gt; &gt;     but again without traces i cant say you exactly where the
</I>&gt;<i> &gt; &gt; problem is
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;     if its not urgent, next week i plan to upload some examples and
</I>&gt;<i> &gt; &gt; &gt;     maybe do
</I>&gt;<i> &gt; &gt; &gt;     a wiki page
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;     Tomasz Zieleniewski wrote:
</I>&gt;<i> &gt; &gt; &gt;     &gt; Do I have to create subscription and IMPI for PSI or IMPU is
</I>&gt;<i> &gt; &gt; enough?
</I>&gt;<i> &gt; &gt; &gt;     &gt; I used ser_ims from svn about 3-4 days ago updated
</I>&gt;<i> &gt; &gt; &gt;     &gt;
</I>&gt;<i> &gt; &gt; &gt;     &gt; On Fri, Feb 15, 2008 at 12:08 PM, Alberto Diez
</I>&gt;<i> &gt; &gt; &gt;     &gt; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Alberto.Diez at fokus.fraunhofer.de</A>
</I>&gt;<i> &gt; &gt; &gt;     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Alberto.Diez at fokus.fraunhofer.de</A>&gt;
</I>&gt;<i> &gt; &gt; &gt;     &gt; &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Alberto.Diez at fokus.fraunhofer.de</A>
</I>&gt;<i> &gt; &gt; &gt;     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Alberto.Diez at fokus.fraunhofer.de</A>&gt;&gt;&gt; wrote:
</I>&gt;<i> &gt; &gt; &gt;     &gt;
</I>&gt;<i> &gt; &gt; &gt;     &gt;     Hi tomasz!
</I>&gt;<i> &gt; &gt; &gt;     &gt;
</I>&gt;<i> &gt; &gt; &gt;     &gt;     the configuration is possible, it works great in my
</I>&gt;<i> &gt; &gt; computer
</I>&gt;<i> &gt; &gt; &gt;     but some
</I>&gt;<i> &gt; &gt; &gt;     &gt;     other people have reported problems thats why I am very
</I>&gt;<i> &gt; &gt; &gt;     interested in
</I>&gt;<i> &gt; &gt; &gt;     &gt;     your problem
</I>&gt;<i> &gt; &gt; &gt;     &gt;
</I>&gt;<i> &gt; &gt; &gt;     &gt;     have you got the latest (i mean from yesterday) scscf ?
</I>&gt;<i> &gt; &gt; &gt;     &gt;     are you using wildcarded psi or distinct psi?
</I>&gt;<i> &gt; &gt; &gt;     &gt;
</I>&gt;<i> &gt; &gt; &gt;     &gt;     could you put debug level to 4 or 5 and send me more
</I>&gt;<i> &gt; &gt; &gt;     detailed output?
</I>&gt;<i> &gt; &gt; &gt;     &gt;     also more details in your configuration of HSS or a trace
</I>&gt;<i> &gt; &gt; &gt;     with the
</I>&gt;<i> &gt; &gt; &gt;     &gt;     diameter messages exchanged
</I>&gt;<i> &gt; &gt; &gt;     &gt;
</I>&gt;<i> &gt; &gt; &gt;     &gt;
</I>&gt;<i> &gt; &gt; &gt;     &gt;     Alberto
</I>&gt;<i> &gt; &gt; &gt;     &gt;
</I>&gt;<i> &gt; &gt; &gt;     &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20080215/54ec6302/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20080215/54ec6302/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003392.html">[OpenIMSCore-Users] PSI on terminating side - will it work in	the OpenIMS
</A></li>
	<LI>Next message: <A HREF="003395.html">[OpenIMSCore-Users] PSI on terminating side - will it work in the OpenIMS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3393">[ date ]</a>
              <a href="thread.html#3393">[ thread ]</a>
              <a href="subject.html#3393">[ subject ]</a>
              <a href="author.html#3393">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
