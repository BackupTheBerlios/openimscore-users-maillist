<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] need help on user register
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2007-November/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20need%20help%20on%20user%20register&In-Reply-To=%3CBAY107-W1902E4F621DD25BA6D627BBA760%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003019.html">
   <LINK REL="Next"  HREF="003028.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] need help on user register</H1>
    <B>Jingyi Hu</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20need%20help%20on%20user%20register&In-Reply-To=%3CBAY107-W1902E4F621DD25BA6D627BBA760%40phx.gbl%3E"
       TITLE="[OpenIMSCore-Users] need help on user register">jhu2000 at hotmail.com
       </A><BR>
    <I>Tue Nov 27 17:10:46 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="003019.html">[OpenIMSCore-Users] need help on user register
</A></li>
        <LI>Next message: <A HREF="003028.html">[OpenIMSCore-Users] need help on user register
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3022">[ date ]</a>
              <a href="thread.html#3022">[ thread ]</a>
              <a href="subject.html#3022">[ subject ]</a>
              <a href="author.html#3022">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi All,
 
I find both clients (x-lite and OpenIC_Lite) will send nonce=&quot;&quot; . Why? I have set with user name and password? How can I fix that?
 
Thanks.
 
Jingyi Hu


From: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">jhu2000 at hotmail.comTo</A>: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">dragos.vingarzan at fokus.fraunhofer.deDate</A>: Tue, 27 Nov 2007 08:03:54 -0500CC: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.deSubject</A>: Re: [OpenIMSCore-Users] need help on user register


 Hi Dragos and All, Here is SIP trace:Client -&gt; IMS Server: REGISTER sip:10.1.41.100 SIP/2.0Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">858b929a9d37dc0f16ba01a82052c6ec at 10.1.59.70CSeq</A>: 1 REGISTERFrom: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=1009To: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;Via: SIP/2.0/UDP 10.1.59.70:5061;branch=z9hG4bKc048bf3439f8b04d244b0233f5bff29fMax-Forwards: 20Expires: 3600Authorization: Digest username=&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&quot;,realm=&quot;10.1.41.100&quot;,nonce=&quot;&quot;,response=&quot;&quot;,uri=&quot;sip:10.1.41.100&quot;Supported: pathContact: &quot;bob&quot; &lt;sip:10.1.59.70:5061&gt;P-Preferred-Identity: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;P-Access-Network-Info: 3GPP-UTRAN-TDD; utran-cell-id-3gpp=00000000Privacy: noneUser-Agent: Fraunhofer FOKUS/NGNI Java IMS UserEndpoint FoJIE 0.1 (jdk1.3)Content-Length: 0  IMS Server-&gt; Client: SIP/2.0 401 Unauthorized - Challenging the UECall-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">858b929a9d37dc0f16ba01a82052c6ec at 10.1.59.70CSeq</A>: 1 REGISTERFrom: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=1009To: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=5ff0ec4eb2fced23d94096374ed23bd8-484eVia: SIP/2.0/UDP 10.1.59.70:5061;received=10.1.47.254;rport=1027;received=10.1.47.254;branch=z9hG4bKc048bf3439f8b04d244b0233f5bff29fPath: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">term at pcscf.open-ims.test</A>:4060;lr&gt;Service-Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">orig at scscf.open-ims.test</A>:6060;lr&gt;Allow: INVITE, ACK, CANCEL, OPTIONS, BYE, REFER, SUBSCRIBE, NOTIFY, MESSAGE, INFOServer: Sip EXpress router (2.1.0-dev1 OpenIMSCore (x86_64/linux))Content-Length: 0Warning: 392 10.1.41.100:6060 &quot;Noisy feedback tells:  pid=19545 req_src_ip=10.1.41.100 req_src_port=5060 in_uri=sip:scscf.open-ims.test:6060 out_uri=sip:scscf.open-ims.test:6060 via_cnt==3&quot;WWW-Authenticate: Digest realm=&quot;open-ims.test&quot;, nonce=&quot;QKygJK65t+4bnJAqXJkOEL8p46sODwAAhEdU/b7ETXo=&quot;, algorithm=AKAv1-MD5  It make any sense? Thanks. Jingyi Hu &gt; Date: Wed, 21 Nov 2007 12:17:11 +0100&gt; From: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Dragos.Vingarzan at fokus.fraunhofer.de</A>&gt; To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">jhu2000 at hotmail.com</A>&gt; Subject: Re: [OpenIMSCore-Users] need help on user register&gt; &gt; Hello Jingyi Hu,&gt; &gt; The logs do not help in this case. Please send a network trace showing&gt; the SIP and Diameter messages inside the Open IMS Core.&gt; &gt; -Dragos&gt; &gt; Jingyi Hu wrote:&gt; &gt; &gt; &gt; Hi All,&gt; &gt; &gt; &gt; I have problem when try to register to use OpneIC client. All CSCFs&gt; &gt; and FHos see running fine. I use OpenIC PC client to add bob as&gt; &gt; user. OpenIC Message show as wrong password, but I enter password&gt; &gt; exact as in database?&gt; &gt; &gt; &gt; Here is my setting in OpenIC:&gt; &gt; Public ID: sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt; &gt; Private ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;&gt; &gt; Secret key: bob&gt; &gt; Display name: bob&gt; &gt; Realm: 10.1.41.100&gt; &gt; Proxy Server: 10.1.41.100:4060/UDP&gt; &gt; Default Algorithm: AKA.&gt; &gt; &gt; &gt; &gt; &gt; But I got those error message:&gt; &gt; &gt; &gt; &gt; &gt; PCSCF:&gt; &gt; INF:P-CSCF:---------- Subscription list end -----------&gt; &gt; 1(3047) DBG:P-CSCF:P_verify_security: Looking for &lt;1://10.1.59.70:5064&gt;&gt; &gt; 3(3049) DBG:P-CSCF:cscf_get_pref_security_header: No known Security&gt; &gt; header&gt; &gt; foun &gt; &gt; d.&gt; &gt; 3(3049) INFO:P-CSCF:P_NAT_relay: &lt;sip:10.1.47.254:1032&gt;&gt; &gt; 1(3047) DBG:P-CSCF:P_verify_security: Looking for &lt;1://10.1.59.70:5064&gt;&gt; &gt; 3(3049) DBG:P-CSCF:cscf_get_pref_security_header: No known Security&gt; &gt; header&gt; &gt; foun &gt; &gt; d.&gt; &gt; 3(3049) INFO:P-CSCF:P_NAT_relay: &lt;sip:10.1.47.254:1032&gt;&gt; &gt; 1(3047) DBG:P-CSCF:P_verify_security: Looking for &lt;1://10.1.59.70:5064&gt;&gt; &gt; 3(3049) DBG:P-CSCF:cscf_get_pref_security_header: No known Security&gt; &gt; header&gt; &gt; foun &gt; &gt; d.&gt; &gt;&gt; &gt; &gt; &gt; SCSCF:&gt; &gt; 18(3246) DBG:sm_process(): Peer hss.open-ims.test State R_Open Event&gt; &gt; R_Rcv_Message&gt; &gt; 2(3096) INFO:I-CSCF:Cx_get_result_code: Failed finding avp&gt; &gt; 2(3096) INFO:I-CSCF:Cx_get_capabilities: Failed finding avp&gt; &gt; 2(3096) INFO:I-CSCF:new_scscf_entry: &lt;sip:scscf.open-ims.test:6060&gt;&gt; &gt; 18(3246) DBG:sm_process(): Peer hss.open-ims.test State R_Open Event&gt; &gt; R_Rcv_Message&gt; &gt; 1(3095) INFO:I-CSCF:Cx_get_result_code: Failed finding avp&gt; &gt; 1(3095) INFO:I-CSCF:Cx_get_capabilities: Failed finding avp&gt; &gt; 1(3095) INFO:I-CSCF:new_scscf_entry: &lt;sip:scscf.open-ims.test:6060&gt;&gt; &gt; 18(3246) DBG:sm_process(): Peer hss.open-ims.test State R_Open Event&gt; &gt; R_Rcv_Message&gt; &gt; 1(3095) INFO:I-CSCF:Cx_get_result_code: Failed finding avp&gt; &gt; 1(3095) INFO:I-CSCF:Cx_get_capabilities: Failed finding avp&gt; &gt; 1(3095) INFO:I-CSCF:new_scscf_entry: &lt;sip:scscf.open-ims.test:6060&gt;&gt; &gt; &gt; &gt; ICSCF:&gt; &gt; 12(3159) ------------------&gt; &gt; 4(3151) ERR:S-CSCF:cscf_get_integrity_protected: No credentials for&gt; &gt; this realm found.&gt; &gt; 4(3151) ERR:S-CSCF:cscf_get_private_identity: No credentials for this&gt; &gt; realm found.&gt; &gt; 4(3151) INF:S-CSCF:cscf_get_private_identity: Falling back to&gt; &gt; private_id=stripped(public_id)&gt; &gt; -&gt; Message did not contain a valid Authorization Header!!! This&gt; &gt; fallback is deprecated outside Early-IMS!&gt; &gt; 4(3151) ERR:S-CSCF:cscf_get_nonce: No credentials for this realm found.&gt; &gt; 4(3151) ERR:S-CSCF:cscf_get_private_identity: No credentials for this&gt; &gt; realm found.&gt; &gt; 4(3151) INF:S-CSCF:cscf_get_private_identity: Falling back to&gt; &gt; private_id=stripped(public_id)&gt; &gt; -&gt; Message did not contain a valid Authorization Header!!! This&gt; &gt; fallback is deprecated outside Early-IMS!&gt; &gt; 4(3151) ERR:S-CSCF:cscf_get_auts: No credentials for this realm found.&gt; &gt; 18(3248) DBG:sm_process(): Peer hss.open-ims.test State R_Open Event&gt; &gt; R_Rcv_Message&gt; &gt; 2(3149) ERR:S-CSCF:cscf_get_integrity_protected: No credentials for&gt; &gt; this realm found.&gt; &gt; 2(3149) ERR:S-CSCF:cscf_get_private_identity: No credentials for this&gt; &gt; realm found.&gt; &gt; 2(3149) INF:S-CSCF:cscf_get_private_identity: Falling back to&gt; &gt; private_id=stripped(public_id)&gt; &gt; -&gt; Message did not contain a valid Authorization Header!!! This&gt; &gt; fallback is deprecated outside Early-IMS!&gt; &gt; 2(3149) ERR:S-CSCF:cscf_get_nonce: No credentials for this realm found.&gt; &gt; 2(3149) ERR:S-CSCF:cscf_get_private_identity: No credentials for this&gt; &gt; realm found.&gt; &gt; 2(3149) INF:S-CSCF:cscf_get_private_identity: Falling back to&gt; &gt; private_id=stripped(public_id)&gt; &gt; -&gt; Message did not contain a valid Authorization Header!!! This&gt; &gt; fallback is deprecated outside Early-IMS!&gt; &gt; 2(3149) ERR:S-CSCF:cscf_get_auts: No credentials for this realm found.&gt; &gt; 18(3248) DBG:sm_process(): Peer hss.open-ims.test State R_Open Event&gt; &gt; R_Rcv_Message&gt; &gt; 4(3151) ERR:S-CSCF:cscf_get_integrity_protected: No credentials for&gt; &gt; this realm found.&gt; &gt; 4(3151) ERR:S-CSCF:cscf_get_private_identity: No credentials for this&gt; &gt; realm found.&gt; &gt; 4(3151) INF:S-CSCF:cscf_get_private_identity: Falling back to&gt; &gt; private_id=stripped(public_id)&gt; &gt; -&gt; Message did not contain a valid Authorization Header!!! This&gt; &gt; fallback is deprecated outside Early-IMS!&gt; &gt; 4(3151) ERR:S-CSCF:cscf_get_nonce: No credentials for this realm found.&gt; &gt; 4(3151) ERR:S-CSCF:cscf_get_private_identity: No credentials for this&gt; &gt; realm found.&gt; &gt; 4(3151) INF:S-CSCF:cscf_get_private_identity: Falling back to&gt; &gt; private_id=stripped(public_id)&gt; &gt; -&gt; Message did not contain a valid Authorization Header!!! This&gt; &gt; fallback is deprecated outside Early-IMS!&gt; &gt; 4(3151) ERR:S-CSCF:cscf_get_auts: No credentials for this realm found.&gt; &gt; 18(3248) DBG:sm_process(): Peer hss.open-ims.test State R_Open Event&gt; &gt; R_Rcv_Message&gt; &gt; 5(3152) INF:S-CSCF:---------- Registrar Contents begin --------&gt; &gt; 5(3152) INF:S-CSCF:---------- Registrar Contents end ----------&gt; &gt; &gt; &gt; FHoSS:&gt; &gt; &gt; &gt; 2007-11-19 19:42:32,862 DEBUG de.fhg.fokus.hss.main.Task - execute&gt; &gt; Processing UAR!&gt; &gt; 2007-11-19 19:42:32,918 DEBUG de.fhg.fokus.hss.main.Task - execute&gt; &gt; Processing MAR!&gt; &gt; 2007-11-19 19:42:32,930 DEBUG de.fhg.fokus.hss.cx.op.MAR -&gt; &gt; generateAuthVector Auth-Scheme is Digest-AKA&gt; &gt; 2007-11-19 19:42:32,932 DEBUG de.fhg.fokus.hss.auth.DigestAKA -&gt; &gt; getAuthenticationVector Authentication-Scheme: AKAv1!&gt; &gt; 2007-11-19 19:42:33,050 DEBUG de.fhg.fokus.hss.main.Task - execute&gt; &gt; Processing UAR!&gt; &gt; 2007-11-19 19:42:33,078 DEBUG de.fhg.fokus.hss.main.Task - execute&gt; &gt; Processing MAR!&gt; &gt; 2007-11-19 19:42:33,086 DEBUG de.fhg.fokus.hss.cx.op.MAR -&gt; &gt; generateAuthVector Auth-Scheme is Digest-AKA&gt; &gt; 2007-11-19 19:42:33,087 DEBUG de.fhg.fokus.hss.auth.DigestAKA -&gt; &gt; getAuthenticationVector Authentication-Scheme: AKAv1!&gt; &gt; 2007-11-19 19:42:33,193 DEBUG de.fhg.fokus.hss.main.Task - execute&gt; &gt; Processing UAR!&gt; &gt; 2007-11-19 19:42:33,216 DEBUG de.fhg.fokus.hss.main.Task - execute&gt; &gt; Processing MAR!&gt; &gt; 2007-11-19 19:42:33,222 DEBUG de.fhg.fokus.hss.cx.op.MAR -&gt; &gt; generateAuthVector Auth-Scheme is Digest-AKA&gt; &gt; 2007-11-19 19:42:33,223 DEBUG de.fhg.fokus.hss.auth.DigestAKA -&gt; &gt; getAuthenticationVector Authentication-Scheme: AKAv1!&gt; &gt;&gt; &gt; &gt; &gt; Could you tell me what I am doing wrong?&gt; &gt; &gt; &gt; Thank you so much.&gt; &gt; &gt; &gt; Best regards,&gt; &gt; &gt; &gt; Jingyi Hu&gt; &gt; &gt; &gt;&gt; &gt;&gt; &gt;&gt; &gt; ------------------------------------------------------------------------&gt; &gt; You keep typing, we keep giving. Download Messenger and join the i&#8217;m&gt; &gt; Initiative now. Join in!&gt; &gt; &lt;<A HREF="http://im.live.com/messenger/im/home/?source=CRM_WL_joinnow">http://im.live.com/messenger/im/home/?source=CRM_WL_joinnow</A>&gt;&gt; &gt; ------------------------------------------------------------------------&gt; &gt;&gt; &gt; _______________________________________________&gt; &gt; OpenIMSCore-Users mailing list&gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>&gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>&gt; &gt; &gt; &gt; &gt; -- &gt; -----------------------------------------&gt; Dipl. Eng. Dragos Vingarzan&gt; Fraunhofer FOKUS/NGNI&gt; Kaiserin-Augusta-Allee 31&gt; 10589 Berlin,Germany&gt; Phone +49 (0)30 - 3463 - 7385&gt; Mobile +49 (0)163 - 159 - 5221&gt; Web www.fokus.fraunhofer.de www.openimscore.org&gt; We could change the world if God would give us the source code...&gt; -----------------------------------------------------------------&gt; 

Connect and share in new ways with Windows Live. Connect now! 
_________________________________________________________________
Put your friends on the big screen with Windows Vista&#174; + Windows Live&#8482;.
<A HREF="http://www.microsoft.com/windows/shop/specialoffers.mspx?ocid=TXT_TAGLM_CPC_MediaCtr_bigscreen_102007">http://www.microsoft.com/windows/shop/specialoffers.mspx?ocid=TXT_TAGLM_CPC_MediaCtr_bigscreen_102007</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20071127/cb65bae6/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20071127/cb65bae6/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003019.html">[OpenIMSCore-Users] need help on user register
</A></li>
	<LI>Next message: <A HREF="003028.html">[OpenIMSCore-Users] need help on user register
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3022">[ date ]</a>
              <a href="thread.html#3022">[ thread ]</a>
              <a href="subject.html#3022">[ subject ]</a>
              <a href="author.html#3022">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
