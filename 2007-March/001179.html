<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] Openimscore and Sofia-Sip stack
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2007-March/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Openimscore%20and%20Sofia-Sip%20stack&In-Reply-To=%3C45F833B7.2030600%40fokus.fraunhofer.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001177.html">
   <LINK REL="Next"  HREF="001183.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] Openimscore and Sofia-Sip stack</H1>
    <B>Adrian-Daniel Popescu</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Openimscore%20and%20Sofia-Sip%20stack&In-Reply-To=%3C45F833B7.2030600%40fokus.fraunhofer.de%3E"
       TITLE="[OpenIMSCore-Users] Openimscore and Sofia-Sip stack">adrian-daniel.popescu at fokus.fraunhofer.de
       </A><BR>
    <I>Wed Mar 14 18:41:11 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001177.html">[OpenIMSCore-Users] Openimscore and Sofia-Sip stack
</A></li>
        <LI>Next message: <A HREF="001183.html">[OpenIMSCore-Users] Openimscore and Sofia-Sip stack
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1179">[ date ]</a>
              <a href="thread.html#1179">[ thread ]</a>
              <a href="subject.html#1179">[ subject ]</a>
              <a href="author.html#1179">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1


Hi Claudio,

The second REGISTER message contains a wrong Digest user name. You have
Digest username=&quot;bob&quot; and should be &quot;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&quot;. So, your
private identity is not set correctly by your client. In other words,
the username should be the same with the private identity defined in the
HSS.

Cheers,
Adrian



Cavalera Claudio wrote:
&gt;<i> Hello,
</I>&gt;<i> I'm testing openimscore with sofia-sip stack.
</I>&gt;<i> Sofia sip is an open source stack which I have already successfully used
</I>&gt;<i> with commercial IMS platforms; if interested, you can get it here:
</I>&gt;<i> <A HREF="http://opensource.nokia.com/projects/sofia-sip/">http://opensource.nokia.com/projects/sofia-sip/</A>
</I>&gt;<i> 
</I>&gt;<i> The following is a trace from an unsuccessful test I have done with the
</I>&gt;<i> command line sofia-sip client.
</I>&gt;<i> My openimscore installation is just a week old. Can you spot the problem
</I>&gt;<i> in the trace somewhere? :-)
</I>&gt;<i> 
</I>&gt;<i> Thanks.
</I>&gt;<i> 
</I>&gt;<i> Ciao,
</I>&gt;<i> Claudio
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Starting sofsip-cli in interactive mode. Issue 'h' to get list of
</I>&gt;<i> available commands.
</I>&gt;<i> sofsip&gt; r
</I>&gt;<i> UA: REGISTER sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A> - registering address to network
</I>&gt;<i> sofsip&gt; send 514 bytes to udp/[127.0.0.1]:5060 at 08:49:16.421626:
</I>&gt;<i>    ------------------------------------------------------------------------
</I>&gt;<i>    REGISTER sip:open-ims.test SIP/2.0
</I>&gt;<i>    Via: SIP/2.0/UDP 127.0.0.1:9090;rport;branch=z9hG4bK3Xa3UQeX67aDK
</I>&gt;<i>    Max-Forwards: 70
</I>&gt;<i>    From: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=3N3HFgmpvKm3a
</I>&gt;<i>    To: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;
</I>&gt;<i>    Call-ID: bb5c4ad7-4cab-122a-3d99-000e0cc407cd
</I>&gt;<i>    CSeq: 80812742 REGISTER
</I>&gt;<i>    Contact: &lt;sip:127.0.0.1:9090&gt;
</I>&gt;<i>    User-Agent: sofia-sip/1.12.5
</I>&gt;<i>    Allow: INVITE, ACK, BYE, CANCEL, OPTIONS, PRACK, MESSAGE, SUBSCRIBE,
</I>&gt;<i> NOTIFY, REFER, UPDATE
</I>&gt;<i>    Supported: timer, 100rel, path
</I>&gt;<i>    Content-Length: 0
</I>&gt;<i>    P-Visited-Network-ID: open-ims.test
</I>&gt;<i> 
</I>&gt;<i>    ------------------------------------------------------------------------
</I>&gt;<i> recv 745 bytes from udp/[127.0.0.1]:5060 at 08:49:16.455266:
</I>&gt;<i>    ------------------------------------------------------------------------
</I>&gt;<i>    SIP/2.0 401 Unauthorized - Challenging the UE
</I>&gt;<i>    Via: SIP/2.0/UDP 127.0.0.1:9090;rport=9090;branch=z9hG4bK3Xa3UQeX67aDK
</I>&gt;<i>    From: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=3N3HFgmpvKm3a
</I>&gt;<i>    To: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=d7837ce6bbd631122d10546eb75bb4cf-147f
</I>&gt;<i>    Call-ID: bb5c4ad7-4cab-122a-3d99-000e0cc407cd
</I>&gt;<i>    CSeq: 80812742 REGISTER
</I>&gt;<i>    WWW-Authenticate: Digest realm=&quot;open-ims.test&quot;,
</I>&gt;<i> nonce=&quot;ceb96a464bf301c3f00cdf72d5584552&quot;, algorithm=MD5
</I>&gt;<i>    Service-Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">orig at scscf.open-ims.test</A>:6060;lr&gt;
</I>&gt;<i>    Server: Sip EXpress router (2.1.0-dev1-OpenIMSCore (i386/linux))
</I>&gt;<i>    Content-Length: 0
</I>&gt;<i>    Warning: 392 127.0.0.1:6060 &quot;Noisy feedback tells:  pid=9148
</I>&gt;<i> req_src_ip=127.0.0.1 req_src_port=5060
</I>&gt;<i> in_uri=sip:scscf.open-ims.test:6060 out_uri=sip:scscf.open-ims.test:6060
</I>&gt;<i> via_cnt==2&quot;
</I>&gt;<i> 
</I>&gt;<i>    ------------------------------------------------------------------------
</I>&gt;<i> UA: REGISTER: 401 Unauthorized - Challenging the UE
</I>&gt;<i> Server auth: Digest realm=&quot;open-ims.test&quot;,
</I>&gt;<i> nonce=&quot;ceb96a464bf301c3f00cdf72d5584552&quot;, algorithm=MD5
</I>&gt;<i> Please authenticate 'REGISTER' with the 'k' command (e.g. 'k password',
</I>&gt;<i> or 'k [method:realm:username:]password')
</I>&gt;<i> sofsip&gt; k bob
</I>&gt;<i> UA: authenticating 'REGISTER' with 'Digest:&quot;open-ims.test&quot;:bob:bob'.
</I>&gt;<i> sofsip&gt; send 739 bytes to udp/[127.0.0.1]:5060 at 08:49:29.348945:
</I>&gt;<i>    ------------------------------------------------------------------------
</I>&gt;<i>    REGISTER sip:open-ims.test SIP/2.0
</I>&gt;<i>    Via: SIP/2.0/UDP 127.0.0.1:9090;rport;branch=z9hG4bK463UXjZ03g1Ze
</I>&gt;<i>    Max-Forwards: 70
</I>&gt;<i>    From: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=3N3HFgmpvKm3a
</I>&gt;<i>    To: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;
</I>&gt;<i>    Call-ID: bb5c4ad7-4cab-122a-3d99-000e0cc407cd
</I>&gt;<i>    CSeq: 80812743 REGISTER
</I>&gt;<i>    Contact: &lt;sip:127.0.0.1:9090&gt;
</I>&gt;<i>    User-Agent: sofia-sip/1.12.5
</I>&gt;<i>    Allow: INVITE, ACK, BYE, CANCEL, OPTIONS, PRACK, MESSAGE, SUBSCRIBE,
</I>&gt;<i> NOTIFY, REFER, UPDATE
</I>&gt;<i>    Supported: timer, 100rel, path
</I>&gt;<i>    Authorization: Digest username=&quot;bob&quot;, realm=&quot;open-ims.test&quot;,
</I>&gt;<i> nonce=&quot;ceb96a464bf301c3f00cdf72d5584552&quot;, algorithm=MD5,
</I>&gt;<i> uri=&quot;sip:open-ims.test&quot;, response=&quot;ea0809536ecdefde16fc307cc58f9530&quot;
</I>&gt;<i>    Content-Length: 0
</I>&gt;<i>    P-Visited-Network-ID: open-ims.test
</I>&gt;<i>    P-Visited-Network-ID: open-ims.test
</I>&gt;<i> 
</I>&gt;<i>    ------------------------------------------------------------------------
</I>&gt;<i> recv 557 bytes from udp/[127.0.0.1]:5060 at 08:49:29.356294:
</I>&gt;<i>    ------------------------------------------------------------------------
</I>&gt;<i>    SIP/2.0 403 Forbidden - HSS User Unknown
</I>&gt;<i>    Via: SIP/2.0/UDP 127.0.0.1:9090;rport=9090;branch=z9hG4bK463UXjZ03g1Ze
</I>&gt;<i>    From: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=3N3HFgmpvKm3a
</I>&gt;<i>    To: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=a6a1c5f60faecf035a1ae5b6e96e979a-d070
</I>&gt;<i>    Call-ID: bb5c4ad7-4cab-122a-3d99-000e0cc407cd
</I>&gt;<i>    CSeq: 80812743 REGISTER
</I>&gt;<i>    Server: Sip EXpress router (2.1.0-dev1-OpenIMSCore (i386/linux))
</I>&gt;<i>    Content-Length: 0
</I>&gt;<i>    Warning: 392 127.0.0.1:5060 &quot;Noisy feedback tells:  pid=9171
</I>&gt;<i> req_src_ip=127.0.0.1 req_src_port=9090 in_uri=sip:open-ims.test
</I>&gt;<i> out_uri=sip:open-ims.test via_cnt==1&quot;
</I>&gt;<i> 
</I>&gt;<i>    ------------------------------------------------------------------------
</I>&gt;<i> UA: REGISTER: 403 Forbidden - HSS User Unknown
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OpenIMSCore-Users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>

- --
- --------------------------------------------
Diploma Engineer Adrian Popescu
FOKUS Fraunhofer Institute
Next Generation Network Infrastructures
Kaiserin-Augusta-Allee 31, 10589, Berlin
Work Phone: +49 303 463 7364
Mobile: +49 178 153 7466
E-Mail: adp at fokus.fraunhofer.de
Web: www.fokus.fraunhofer.de
- --------------------------------------------
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.3 (GNU/Linux)
Comment: Using GnuPG with Mozilla - <A HREF="http://enigmail.mozdev.org">http://enigmail.mozdev.org</A>

iD8DBQFF+DO36Yml36HNIwcRApv5AJ4lo0lKjuGNq6c+eEvgL0RYKHL7owCfWzUy
CRKQfwZxvpz729d39pBdKDc=
=dNBm
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001177.html">[OpenIMSCore-Users] Openimscore and Sofia-Sip stack
</A></li>
	<LI>Next message: <A HREF="001183.html">[OpenIMSCore-Users] Openimscore and Sofia-Sip stack
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1179">[ date ]</a>
              <a href="thread.html#1179">[ thread ]</a>
              <a href="subject.html#1179">[ subject ]</a>
              <a href="author.html#1179">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
