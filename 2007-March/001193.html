<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] OpenIMSCore-Users Digest, Vol 5, Issue 56
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2007-March/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20OpenIMSCore-Users%20Digest%2C%20Vol%205%2C%20Issue%2056&In-Reply-To=%3COFA7BBA426.5233FB36-ONC125729F.0056D839-C125729F.0056E655%40go.com.mt%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001192.html">
   <LINK REL="Next"  HREF="001194.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] OpenIMSCore-Users Digest, Vol 5, Issue 56</H1>
    <B>Josef.Bajada at go.com.mt</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20OpenIMSCore-Users%20Digest%2C%20Vol%205%2C%20Issue%2056&In-Reply-To=%3COFA7BBA426.5233FB36-ONC125729F.0056D839-C125729F.0056E655%40go.com.mt%3E"
       TITLE="[OpenIMSCore-Users] OpenIMSCore-Users Digest, Vol 5, Issue 56">Josef.Bajada at go.com.mt
       </A><BR>
    <I>Thu Mar 15 16:49:11 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001192.html">[OpenIMSCore-Users] OpenIMSCore-Users Digest, Vol 5, Issue 56
</A></li>
        <LI>Next message: <A HREF="001194.html">[OpenIMSCore-Users] OpenIMSCore-Users Digest, Vol 5, Issue 56
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1193">[ date ]</a>
              <a href="thread.html#1193">[ thread ]</a>
              <a href="subject.html#1193">[ subject ]</a>
              <a href="author.html#1193">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Dragos,

Does the option to let the HSS decide on the authentication work for this 
case?

Josef





Dragos Vingarzan &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vingarzan at fokus.fraunhofer.de</A>&gt; 
Sent by: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-bounces at lists.berlios.de</A>
15/03/2007 16:47

To
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">a.stile at criai.it</A>
cc
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Subject
Re: [OpenIMSCore-Users] OpenIMSCore-Users Digest, Vol 5, Issue 56






Please change the S-CSCF file to do authentication with MD5 by default.

-Dragos

Alessandro Stile wrote:
&gt;<i> Hi,I'm trying to register bob on PCSCF using X-Lite,but it dosen't work
</I>&gt;<i> and I  don't read Authorization Header  in X-Lite Register message. I
</I>&gt;<i> attach a wireshark network trace, what is wrong?
</I>&gt;<i> May you suggest me X-Lite's right configuration?
</I>&gt;<i>
</I>&gt;<i> Best regards
</I>&gt;<i> Alessandro Stile
</I>&gt;<i> On Thu, 2007-03-15 at 12:01 +0100,
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-request at lists.berlios.de</A> wrote:
</I>&gt;&gt;<i> Send OpenIMSCore-Users mailing list submissions to
</I>&gt;&gt;<i>     <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> To subscribe or unsubscribe via the World Wide Web, visit
</I>&gt;&gt;<i>     <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>&gt;&gt;<i> or, via email, send a message with subject or body 'help' to
</I>&gt;&gt;<i>     <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-request at lists.berlios.de</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You can reach the person managing the list at
</I>&gt;&gt;<i>     <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-owner at lists.berlios.de</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> When replying, please edit your Subject line so it is more specific
</I>&gt;&gt;<i> than &quot;Re: Contents of OpenIMSCore-Users digest...&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Today's Topics:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    1. 403 forbidden-not registered!you must register    first with a
</I>&gt;&gt;<i>       s-cscf (? ?)
</I>&gt;&gt;<i>    2. Re: Openimscore and Sofia-Sip stack (Adrian-Daniel Popescu)
</I>&gt;&gt;<i>    3. Re: 403 forbidden-not registered!you must    register first with
</I>&gt;&gt;<i>       a s-cscf (Tran Minh Phuong Anh)
</I>&gt;&gt;<i>    4. Re: [OpenIMSCore-CSCF] MD5 problem (using    X-lite)
</I>&gt;&gt;<i>       (Tran Minh Phuong Anh)
</I>&gt;&gt;<i>    5. 3GPP release ? (? ?)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ----------------------------------------------------------------------
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Message: 1
</I>&gt;&gt;<i> Date: Thu, 15 Mar 2007 00:51:32 +0800
</I>&gt;&gt;<i> From: ? ? &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">ada_545 at hotmail.com</A>&gt;
</I>&gt;&gt;<i> Subject: [OpenIMSCore-Users] 403 forbidden-not registered!you must
</I>&gt;&gt;<i>     register    first with a s-cscf
</I>&gt;&gt;<i> To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;&gt;<i> Message-ID: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">BAY105-F124D9B498736280DAE283CC0730 at phx.gbl</A>&gt;
</I>&gt;&gt;<i> Content-Type: text/plain; charset=gb2312; format=flowed
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> hi,
</I>&gt;&gt;<i> i am doing this project as my master thesis. and i have not so much 
</I>time
&gt;&gt;<i> left.please help me!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> i have already followed 'installation-guide', and everything is ok.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> i use sjphone as my sip client, and the configuration of it is:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> sip proxy:
</I>&gt;&gt;<i> proxy domain:pcscf.open-ims.test:4060
</I>&gt;&gt;<i> user domain:open-ims.test
</I>&gt;&gt;<i> account:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at open-ims.test</A>
</I>&gt;&gt;<i> password:alice
</I>&gt;&gt;<i> caller id:alice
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> when i try to register, i got the log from sjphone as follow:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 17:29:55 DEBUG 
</I>&gt;&gt;<i> 2007-03-14 16:29:55.312 UDP LOCAL-&gt;192.168.1.7:4060
</I>&gt;&gt;<i> OPTIONS sip:pcscf.open-ims.test:4060 SIP/2.0
</I>&gt;&gt;<i> Via: SIP/2.0/UDP
</I>&gt;&gt;<i> 
</I>192.168.1.11;rport;branch=z9hG4bK802733120000001045f8230300000210000000c0
&gt;&gt;<i> Content-Length: 0
</I>&gt;&gt;<i> Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">78177297-28DC-4FAE-B0C5-1AF0B91D50C9 at 169.254.190.136</A>
</I>&gt;&gt;<i> CSeq: 65 OPTIONS
</I>&gt;&gt;<i> From: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at open-ims.test</A>&gt;;tag=2302029129733
</I>&gt;&gt;<i> Max-Forwards: 70
</I>&gt;&gt;<i> To: &lt;sip:pcscf.open-ims.test:4060&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 17:29:55 DEBUG 
</I>&gt;&gt;<i> 2007-03-14 16:29:55.312 UDP 192.168.1.7:4060-&gt;LOCAL
</I>&gt;&gt;<i> SIP/2.0 403 Forbidden - Not Registered! You must register first with a
</I>&gt;&gt;<i> S-CSCF
</I>&gt;&gt;<i> Via: SIP/2.0/UDP
</I>&gt;&gt;<i>
</I>192.168.1.11;rport=5060;branch=z9hG4bK802733120000001045f8230300000210000000c0
&gt;&gt;<i>
</I>&gt;&gt;<i> Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">78177297-28DC-4FAE-B0C5-1AF0B91D50C9 at 169.254.190.136</A>
</I>&gt;&gt;<i> CSeq: 65 OPTIONS
</I>&gt;&gt;<i> From: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at open-ims.test</A>&gt;;tag=2302029129733
</I>&gt;&gt;<i> To:
</I>&gt;&gt;<i> 
</I>&lt;sip:pcscf.open-ims.test:4060&gt;;tag=244a7c3948f8ffc8c11bdfecfe1f234d.5726
&gt;&gt;<i> Server: Sip EXpress router (2.1.0-dev1-OpenIMSCore (x86_64/linux))
</I>&gt;&gt;<i> Content-Length: 0
</I>&gt;&gt;<i> Warning: 392 192.168.1.7:4060 &quot;Noisy feedback tells:  pid=5477
</I>&gt;&gt;<i> req_src_ip=192.168.1.11 req_src_port=5060
</I>&gt;&gt;<i> in_uri=sip:pcscf.open-ims.test:4060 
</I>out_uri=sip:pcscf.open-ims.test:4060
&gt;&gt;<i> via_cnt==1&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> and what i got from wareshake is:
</I>&gt;&gt;<i> 403 forbidden-not registered!you must register first with a s-cscf
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> could you help me to solve it?
</I>&gt;&gt;<i> regards!
</I>&gt;&gt;<i> fei
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 14.mar.2007
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _________________________________________________________________
</I>&gt;&gt;<i> ?????????????? MSN Messenger:  <A HREF="http://messenger.msn.com/cn">http://messenger.msn.com/cn</A> 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ------------------------------
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Message: 2
</I>&gt;&gt;<i> Date: Wed, 14 Mar 2007 18:41:11 +0100
</I>&gt;&gt;<i> From: Adrian-Daniel Popescu
</I>&gt;&gt;<i>     &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">adrian-daniel.popescu at fokus.fraunhofer.de</A>&gt;
</I>&gt;&gt;<i> Subject: Re: [OpenIMSCore-Users] Openimscore and Sofia-Sip stack
</I>&gt;&gt;<i> To: Cavalera Claudio &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Claudio.Cavalera at siemens.com</A>&gt;
</I>&gt;&gt;<i> Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;&gt;<i> Message-ID: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">45F833B7.2030600 at fokus.fraunhofer.de</A>&gt;
</I>&gt;&gt;<i> Content-Type: text/plain; charset=ISO-8859-1
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hi Claudio,
</I>&gt;<i>
</I>&gt;<i> The second REGISTER message contains a wrong Digest user name. You have
</I>&gt;<i> Digest username=&quot;bob&quot; and should be &quot;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&quot;. So, your
</I>&gt;<i> private identity is not set correctly by your client. In other words,
</I>&gt;<i> the username should be the same with the private identity defined in the
</I>&gt;<i> HSS.
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Adrian
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Cavalera Claudio wrote:
</I>&gt;<i> &gt;&gt;&gt; Hello,
</I>&gt;<i> &gt;&gt;&gt; I'm testing openimscore with sofia-sip stack.
</I>&gt;<i> &gt;&gt;&gt; Sofia sip is an open source stack which I have already
</I>&gt;<i> successfully used
</I>&gt;<i> &gt;&gt;&gt; with commercial IMS platforms; if interested, you can get it here:
</I>&gt;<i> &gt;&gt;&gt; <A HREF="http://opensource.nokia.com/projects/sofia-sip/">http://opensource.nokia.com/projects/sofia-sip/</A>
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; The following is a trace from an unsuccessful test I have done
</I>&gt;<i> with the
</I>&gt;<i> &gt;&gt;&gt; command line sofia-sip client.
</I>&gt;<i> &gt;&gt;&gt; My openimscore installation is just a week old. Can you spot the
</I>&gt;<i> problem
</I>&gt;<i> &gt;&gt;&gt; in the trace somewhere? :-)
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Thanks.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Ciao,
</I>&gt;<i> &gt;&gt;&gt; Claudio
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Starting sofsip-cli in interactive mode. Issue 'h' to get list of
</I>&gt;<i> &gt;&gt;&gt; available commands.
</I>&gt;<i> &gt;&gt;&gt; sofsip&gt; r
</I>&gt;<i> &gt;&gt;&gt; UA: REGISTER sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A> - registering address to network
</I>&gt;<i> &gt;&gt;&gt; sofsip&gt; send 514 bytes to udp/[127.0.0.1]:5060 at 08:49:16.421626:
</I>&gt;<i> &gt;&gt;&gt; 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> &gt;&gt;&gt;    REGISTER sip:open-ims.test SIP/2.0
</I>&gt;<i> &gt;&gt;&gt;    Via: SIP/2.0/UDP 127.0.0.1:9090;rport;branch=z9hG4bK3Xa3UQeX67aDK
</I>&gt;<i> &gt;&gt;&gt;    Max-Forwards: 70
</I>&gt;<i> &gt;&gt;&gt;    From: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=3N3HFgmpvKm3a
</I>&gt;<i> &gt;&gt;&gt;    To: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;
</I>&gt;<i> &gt;&gt;&gt;    Call-ID: bb5c4ad7-4cab-122a-3d99-000e0cc407cd
</I>&gt;<i> &gt;&gt;&gt;    CSeq: 80812742 REGISTER
</I>&gt;<i> &gt;&gt;&gt;    Contact: &lt;sip:127.0.0.1:9090&gt;
</I>&gt;<i> &gt;&gt;&gt;    User-Agent: sofia-sip/1.12.5
</I>&gt;<i> &gt;&gt;&gt;    Allow: INVITE, ACK, BYE, CANCEL, OPTIONS, PRACK, MESSAGE,
</I>&gt;<i> SUBSCRIBE,
</I>&gt;<i> &gt;&gt;&gt; NOTIFY, REFER, UPDATE
</I>&gt;<i> &gt;&gt;&gt;    Supported: timer, 100rel, path
</I>&gt;<i> &gt;&gt;&gt;    Content-Length: 0
</I>&gt;<i> &gt;&gt;&gt;    P-Visited-Network-ID: open-ims.test
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> &gt;&gt;&gt; recv 745 bytes from udp/[127.0.0.1]:5060 at 08:49:16.455266:
</I>&gt;<i> &gt;&gt;&gt; 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> &gt;&gt;&gt;    SIP/2.0 401 Unauthorized - Challenging the UE
</I>&gt;<i> &gt;&gt;&gt;    Via: SIP/2.0/UDP
</I>&gt;<i> 127.0.0.1:9090;rport=9090;branch=z9hG4bK3Xa3UQeX67aDK
</I>&gt;<i> &gt;&gt;&gt;    From: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=3N3HFgmpvKm3a
</I>&gt;<i> &gt;&gt;&gt;    To:
</I>&gt;<i> &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=d7837ce6bbd631122d10546eb75bb4cf-147f
</I>&gt;<i> &gt;&gt;&gt;    Call-ID: bb5c4ad7-4cab-122a-3d99-000e0cc407cd
</I>&gt;<i> &gt;&gt;&gt;    CSeq: 80812742 REGISTER
</I>&gt;<i> &gt;&gt;&gt;    WWW-Authenticate: Digest realm=&quot;open-ims.test&quot;,
</I>&gt;<i> &gt;&gt;&gt; nonce=&quot;ceb96a464bf301c3f00cdf72d5584552&quot;, algorithm=MD5
</I>&gt;<i> &gt;&gt;&gt;    Service-Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">orig at scscf.open-ims.test</A>:6060;lr&gt;
</I>&gt;<i> &gt;&gt;&gt;    Server: Sip EXpress router (2.1.0-dev1-OpenIMSCore (i386/linux))
</I>&gt;<i> &gt;&gt;&gt;    Content-Length: 0
</I>&gt;<i> &gt;&gt;&gt;    Warning: 392 127.0.0.1:6060 &quot;Noisy feedback tells:  pid=9148
</I>&gt;<i> &gt;&gt;&gt; req_src_ip=127.0.0.1 req_src_port=5060
</I>&gt;<i> &gt;&gt;&gt; in_uri=sip:scscf.open-ims.test:6060
</I>&gt;<i> out_uri=sip:scscf.open-ims.test:6060
</I>&gt;<i> &gt;&gt;&gt; via_cnt==2&quot;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> &gt;&gt;&gt; UA: REGISTER: 401 Unauthorized - Challenging the UE
</I>&gt;<i> &gt;&gt;&gt; Server auth: Digest realm=&quot;open-ims.test&quot;,
</I>&gt;<i> &gt;&gt;&gt; nonce=&quot;ceb96a464bf301c3f00cdf72d5584552&quot;, algorithm=MD5
</I>&gt;<i> &gt;&gt;&gt; Please authenticate 'REGISTER' with the 'k' command (e.g. 'k
</I>&gt;<i> password',
</I>&gt;<i> &gt;&gt;&gt; or 'k [method:realm:username:]password')
</I>&gt;<i> &gt;&gt;&gt; sofsip&gt; k bob
</I>&gt;<i> &gt;&gt;&gt; UA: authenticating 'REGISTER' with 'Digest:&quot;open-ims.test&quot;:bob:bob'.
</I>&gt;<i> &gt;&gt;&gt; sofsip&gt; send 739 bytes to udp/[127.0.0.1]:5060 at 08:49:29.348945:
</I>&gt;<i> &gt;&gt;&gt; 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> &gt;&gt;&gt;    REGISTER sip:open-ims.test SIP/2.0
</I>&gt;<i> &gt;&gt;&gt;    Via: SIP/2.0/UDP 127.0.0.1:9090;rport;branch=z9hG4bK463UXjZ03g1Ze
</I>&gt;<i> &gt;&gt;&gt;    Max-Forwards: 70
</I>&gt;<i> &gt;&gt;&gt;    From: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=3N3HFgmpvKm3a
</I>&gt;<i> &gt;&gt;&gt;    To: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;
</I>&gt;<i> &gt;&gt;&gt;    Call-ID: bb5c4ad7-4cab-122a-3d99-000e0cc407cd
</I>&gt;<i> &gt;&gt;&gt;    CSeq: 80812743 REGISTER
</I>&gt;<i> &gt;&gt;&gt;    Contact: &lt;sip:127.0.0.1:9090&gt;
</I>&gt;<i> &gt;&gt;&gt;    User-Agent: sofia-sip/1.12.5
</I>&gt;<i> &gt;&gt;&gt;    Allow: INVITE, ACK, BYE, CANCEL, OPTIONS, PRACK, MESSAGE,
</I>&gt;<i> SUBSCRIBE,
</I>&gt;<i> &gt;&gt;&gt; NOTIFY, REFER, UPDATE
</I>&gt;<i> &gt;&gt;&gt;    Supported: timer, 100rel, path
</I>&gt;<i> &gt;&gt;&gt;    Authorization: Digest username=&quot;bob&quot;, realm=&quot;open-ims.test&quot;,
</I>&gt;<i> &gt;&gt;&gt; nonce=&quot;ceb96a464bf301c3f00cdf72d5584552&quot;, algorithm=MD5,
</I>&gt;<i> &gt;&gt;&gt; uri=&quot;sip:open-ims.test&quot;, response=&quot;ea0809536ecdefde16fc307cc58f9530&quot;
</I>&gt;<i> &gt;&gt;&gt;    Content-Length: 0
</I>&gt;<i> &gt;&gt;&gt;    P-Visited-Network-ID: open-ims.test
</I>&gt;<i> &gt;&gt;&gt;    P-Visited-Network-ID: open-ims.test
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> &gt;&gt;&gt; recv 557 bytes from udp/[127.0.0.1]:5060 at 08:49:29.356294:
</I>&gt;<i> &gt;&gt;&gt; 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> &gt;&gt;&gt;    SIP/2.0 403 Forbidden - HSS User Unknown
</I>&gt;<i> &gt;&gt;&gt;    Via: SIP/2.0/UDP
</I>&gt;<i> 127.0.0.1:9090;rport=9090;branch=z9hG4bK463UXjZ03g1Ze
</I>&gt;<i> &gt;&gt;&gt;    From: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=3N3HFgmpvKm3a
</I>&gt;<i> &gt;&gt;&gt;    To:
</I>&gt;<i> &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=a6a1c5f60faecf035a1ae5b6e96e979a-d070
</I>&gt;<i> &gt;&gt;&gt;    Call-ID: bb5c4ad7-4cab-122a-3d99-000e0cc407cd
</I>&gt;<i> &gt;&gt;&gt;    CSeq: 80812743 REGISTER
</I>&gt;<i> &gt;&gt;&gt;    Server: Sip EXpress router (2.1.0-dev1-OpenIMSCore (i386/linux))
</I>&gt;<i> &gt;&gt;&gt;    Content-Length: 0
</I>&gt;<i> &gt;&gt;&gt;    Warning: 392 127.0.0.1:5060 &quot;Noisy feedback tells:  pid=9171
</I>&gt;<i> &gt;&gt;&gt; req_src_ip=127.0.0.1 req_src_port=9090 in_uri=sip:open-ims.test
</I>&gt;<i> &gt;&gt;&gt; out_uri=sip:open-ims.test via_cnt==1&quot;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> &gt;&gt;&gt; UA: REGISTER: 403 Forbidden - HSS User Unknown
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt;&gt; OpenIMSCore-Users mailing list
</I>&gt;<i> &gt;&gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>&gt;<i> &gt;&gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>------------------------------
&gt;&gt;<i>
</I>Message: 3
Date: Wed, 14 Mar 2007 18:42:19 +0100
From: &quot;Tran Minh Phuong Anh&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">tran.minh.phuong.anh at gmail.com</A>&gt;
Subject: Re: [OpenIMSCore-Users] 403 forbidden-not registered!you must
    register first with a s-cscf
To: &quot; ? ? &quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">ada_545 at hotmail.com</A>&gt;,    <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Message-ID:
    &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">9b7ddabe0703141042q5a5304cco21058a8db2f57de7 at mail.gmail.com</A>&gt;
Content-Type: text/plain; charset=GB2312; format=flowed
&gt;&gt;<i>
</I>Hi,
&gt;&gt;<i>
</I>The problem is that SJ Phone doesn't put Expires header to the
REGISTER request, so although you'll get 200 OK, it comes with 0
binding, so it is not registered. In addition, there is another
problem with SJ Phone (I think it doesn't follow Service Route
headers).
&gt;&gt;<i>
</I>To solve the problems:
&gt;&gt;<i>
</I>1. You can hack in the code (I remember scscf module, registrar.c, but
I'm not sure) that if there is no Expires header present, then use a
default 3600.
&gt;&gt;<i>
</I>2. For the Service-Route header problem, you can modify pcscf.cfg.
There's a part commented, just uncomment it and comment the obligation
to use service-route headers out.
&gt;&gt;<i>
</I>What about X-Lite? It's not perfect, but at least it works. Anybody
know another Windows client?
&gt;&gt;<i>
</I>Phuong Anh
&gt;&gt;<i>
</I>On 3/14/07, ? ? &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">ada_545 at hotmail.com</A>&gt; wrote:
&gt;&gt;&gt;<i> hi,
</I>&gt;&gt;&gt;<i> i am doing this project as my master thesis. and i have not so much 
</I>time
&gt;&gt;&gt;<i> left.please help me!
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> i have already followed 'installation-guide', and everything is ok.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> i use sjphone as my sip client, and the configuration of it is:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> sip proxy:
</I>&gt;&gt;&gt;<i> proxy domain:pcscf.open-ims.test:4060
</I>&gt;&gt;&gt;<i> user domain:open-ims.test
</I>&gt;&gt;&gt;<i> account:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at open-ims.test</A>
</I>&gt;&gt;&gt;<i> password:alice
</I>&gt;&gt;&gt;<i> caller id:alice
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> when i try to register, i got the log from sjphone as follow:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> 17:29:55 DEBUG
</I>&gt;&gt;&gt;<i> 2007-03-14 16:29:55.312 UDP LOCAL-&gt;192.168.1.7:4060
</I>&gt;&gt;&gt;<i> OPTIONS sip:pcscf.open-ims.test:4060 SIP/2.0
</I>&gt;&gt;&gt;<i> Via: SIP/2.0/UDP
</I>&gt;&gt;&gt;<i> 
</I>192.168.1.11;rport;branch=z9hG4bK802733120000001045f8230300000210000000c0
&gt;&gt;&gt;<i> Content-Length: 0
</I>&gt;&gt;&gt;<i> Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">78177297-28DC-4FAE-B0C5-1AF0B91D50C9 at 169.254.190.136</A>
</I>&gt;&gt;&gt;<i> CSeq: 65 OPTIONS
</I>&gt;&gt;&gt;<i> From: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at open-ims.test</A>&gt;;tag=2302029129733
</I>&gt;&gt;&gt;<i> Max-Forwards: 70
</I>&gt;&gt;&gt;<i> To: &lt;sip:pcscf.open-ims.test:4060&gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> 17:29:55 DEBUG
</I>&gt;&gt;&gt;<i> 2007-03-14 16:29:55.312 UDP 192.168.1.7:4060-&gt;LOCAL
</I>&gt;&gt;&gt;<i> SIP/2.0 403 Forbidden - Not Registered! You must register first with a
</I>&gt;&gt;&gt;<i> S-CSCF
</I>&gt;&gt;&gt;<i> Via: SIP/2.0/UDP
</I>&gt;&gt;&gt;<i>
</I>192.168.1.11;rport=5060;branch=z9hG4bK802733120000001045f8230300000210000000c0
&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">78177297-28DC-4FAE-B0C5-1AF0B91D50C9 at 169.254.190.136</A>
</I>&gt;&gt;&gt;<i> CSeq: 65 OPTIONS
</I>&gt;&gt;&gt;<i> From: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at open-ims.test</A>&gt;;tag=2302029129733
</I>&gt;&gt;&gt;<i> To:
</I>&gt;&gt;&gt;<i> 
</I>&lt;sip:pcscf.open-ims.test:4060&gt;;tag=244a7c3948f8ffc8c11bdfecfe1f234d.5726
&gt;&gt;&gt;<i> Server: Sip EXpress router (2.1.0-dev1-OpenIMSCore (x86_64/linux))
</I>&gt;&gt;&gt;<i> Content-Length: 0
</I>&gt;&gt;&gt;<i> Warning: 392 192.168.1.7:4060 &quot;Noisy feedback tells:  pid=5477
</I>&gt;&gt;&gt;<i> req_src_ip=192.168.1.11 req_src_port=5060
</I>&gt;&gt;&gt;<i> in_uri=sip:pcscf.open-ims.test:4060 
</I>out_uri=sip:pcscf.open-ims.test:4060
&gt;&gt;&gt;<i> via_cnt==1&quot;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> and what i got from wareshake is:
</I>&gt;&gt;&gt;<i> 403 forbidden-not registered!you must register first with a s-cscf
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> could you help me to solve it?
</I>&gt;&gt;&gt;<i> regards!
</I>&gt;&gt;&gt;<i> fei
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> 14.mar.2007
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> _________________________________________________________________
</I>&gt;&gt;&gt;<i> ?????????????? MSN Messenger:  <A HREF="http://messenger.msn.com/cn">http://messenger.msn.com/cn</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> OpenIMSCore-Users mailing list
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>&gt;&gt;&gt;<i>
</I>------------------------------
&gt;&gt;<i>
</I>Message: 4
Date: Wed, 14 Mar 2007 22:29:37 +0100
From: &quot;Tran Minh Phuong Anh&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">tran.minh.phuong.anh at gmail.com</A>&gt;
Subject: Re: [OpenIMSCore-Users] [OpenIMSCore-CSCF] MD5 problem (using
    X-lite)
To: &quot;Leigh Hackett&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Leigh.Hackett at t-mobile.co.uk</A>&gt;,
    <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Message-ID:
    &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">9b7ddabe0703141429g4172daf9w78071ebe053d5b0a at mail.gmail.com</A>&gt;
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
&gt;&gt;<i>
</I>Hi,
&gt;&gt;<i>
</I>On 3/14/07, Leigh Hackett &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Leigh.Hackett at t-mobile.co.uk</A>&gt; wrote:
&gt;&gt;&gt;<i> As I understand, MD5 works by the client sending a register first
</I>without an
&gt;&gt;&gt;<i> Authorization header
</I>Yes. The first REG doesn't have Auth header.
&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Then the server replies 401 Unauthorized first, followed by the client
</I>&gt;&gt;&gt;<i> sending the SIP REGISTER with the MD5 Authorization header
</I>Yes.
&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> The PCSCF forwards registration requests to the SCSCF, but first it
</I>checks
&gt;&gt;&gt;<i> if there is an Authorization header, and if not then it fails. The
</I>SCSCF can
&gt;&gt;&gt;<i> be configured to prefer MD5 only, but the REGISTER never gets to the
</I>SCSCF.
I don't think so.
&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> The PCSCF repeats this error:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> 1(16523) ERR:P-CSCF:cscf_get_authorization: Message does
</I>&gt;&gt;&gt;<i> not contain Authorization header.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  1(16523) INF:P-CSCF:P_add_integrity_protected: No
</I>&gt;&gt;&gt;<i> authorization header found.
</I>Maybe because the first REGISTER is resent before the second REGISTER
arrvies.
&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> How is this supposed to work?
</I>I guess RFC2617 is the right one.
&gt;&gt;<i>
</I>Typical errors that I met with X-Lite
- authentication user name is alice, instead of the right one:
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at open-ims.test</A>
- message is sent directly to I-CSCF because P-CSCF is not set as an
outbound proxy
- in hssdb.impi auth_scheme is Digest-AKAv1-MD5, instead of Digest-MD5
- in hssdb.impi algorithm is AKAv1 instead of MD5
- in scscf.cfg, registration_default_algorithm is not set to MD5
&gt;&gt;<i>
</I>Please provide network trace if you need more help.
&gt;&gt;<i>
</I>Phuong Anh
&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>------------------------------
&gt;&gt;<i>
</I>Message: 5
Date: Thu, 15 Mar 2007 18:15:49 +0800
From: ? ? &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">ada_545 at hotmail.com</A>&gt;
Subject: [OpenIMSCore-Users] 3GPP release ?
To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Message-ID: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">BAY105-F2511C57B36EA40E4D44FF8C0720 at phx.gbl</A>&gt;
Content-Type: text/plain; charset=gb2312; format=flowed
&gt;&gt;<i>
</I>hi?
&gt;&gt;<i>
</I>is there anybody who can tell me, which release and the number of 3GPP 
does
this openimscore based on?
&gt;&gt;<i>
</I>i need to know it urgently!
&gt;&gt;<i>
</I>regards!
fei
&gt;&gt;<i>
</I>15.mar.2007
&gt;&gt;<i>
</I>_________________________________________________________________
???? MSN Explorer:   <A HREF="http://explorer.msn.com/lccn/">http://explorer.msn.com/lccn/</A> 
&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>------------------------------
&gt;&gt;<i>
</I>_______________________________________________
OpenIMSCore-Users mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>End of OpenIMSCore-Users Digest, Vol 5, Issue 56
************************************************
&gt;&gt;<i>
</I>-------------------------
&gt;&gt;<i>
</I>_______________________________________________
OpenIMSCore-Users mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>

-- 
-----------------------------------------
Dipl. Eng. Dragos Vingarzan
FOKUS/NGNI
Kaiserin-Augusta-Allee 31
10589 Berlin,Germany
Phone +49 (0)30 - 3463 - 7385
Mobile +49 (0)163 - 159 - 5221
eMail <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vingarzan at fokus.fraunhofer.de</A>
Web www.fokus.fraunhofer.de
We could change the world if God would give us the source code...
-----------------------------------------------------------------

_______________________________________________
OpenIMSCore-Users mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20070315/049f86ee/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20070315/049f86ee/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001192.html">[OpenIMSCore-Users] OpenIMSCore-Users Digest, Vol 5, Issue 56
</A></li>
	<LI>Next message: <A HREF="001194.html">[OpenIMSCore-Users] OpenIMSCore-Users Digest, Vol 5, Issue 56
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1193">[ date ]</a>
              <a href="thread.html#1193">[ thread ]</a>
              <a href="subject.html#1193">[ subject ]</a>
              <a href="author.html#1193">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
