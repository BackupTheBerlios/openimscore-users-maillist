<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] FHoSS exception in Castor while processing	SAR
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2007-January/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20FHoSS%20exception%20in%20Castor%20while%20processing%0A%09SAR&In-Reply-To=%3C7C26F4EEB99BE34A8408A9B5E9C4853801E077F1%40swsmsx411.ger.corp.intel.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000606.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] FHoSS exception in Castor while processing	SAR</H1>
    <B>Verbeiren, David</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20FHoSS%20exception%20in%20Castor%20while%20processing%0A%09SAR&In-Reply-To=%3C7C26F4EEB99BE34A8408A9B5E9C4853801E077F1%40swsmsx411.ger.corp.intel.com%3E"
       TITLE="[OpenIMSCore-Users] FHoSS exception in Castor while processing	SAR">david.verbeiren at intel.com
       </A><BR>
    <I>Wed Jan 31 15:42:40 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000606.html">[OpenIMSCore-Users] FHoSS exception in Castor while processing SAR
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#607">[ date ]</a>
              <a href="thread.html#607">[ thread ]</a>
              <a href="subject.html#607">[ subject ]</a>
              <a href="author.html#607">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I found what the problem was: I had an older version of Castor left over from deployment of earlier OSIMS snapshots. And since all jars present in FHoSS/deploy/lib are added to the classpath automatically by the startup.sh script, the oldest one was taken first. Manually emptying 'deploy' directory and redeploying solved the issue.

Regards,
-David

________________________________________
From: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-bounces at lists.berlios.de</A> [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-bounces at lists.berlios.de</A>] On Behalf Of Verbeiren, David
Sent: 31 January 2007 15:16
To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Subject: [OpenIMSCore-Users] FHoSS exception in Castor while processing SAR

Hi,

Since I updated my svn snapshots recently, I can't get any client registered anymore when using FHoSS. A NoSuchMethodError exception occurs, somewhere in the datatypes classes generated by Castor, when FHoSS processes the Diameter SAR message:

Exception in thread &quot;Thread-9&quot; java.lang.NoSuchMethodError: org.exolab.castor.xml.util.XMLFieldDescriptorImpl.setClassDescriptor(Lorg/exolab/castor/mapping/ClassDescriptor;)V
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at de.fhg.fokus.cx.datatypes.TSePoTriDescriptor.&lt;init&gt;(TSePoTriDescriptor.java:185)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at de.fhg.fokus.cx.datatypes.SPTDescriptor.&lt;init&gt;(SPTDescriptor.java:54)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at java.lang.reflect.Constructor.newInstance(Constructor.java:494)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at java.lang.Class.newInstance0(Class.java:350)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at java.lang.Class.newInstance(Class.java:303)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.exolab.castor.xml.util.ClassDescriptorResolverImpl.resolve(ClassDescriptorResolverImpl.java:242)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.exolab.castor.xml.Validator.validate(Validator.java:111)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.exolab.castor.xml.FieldValidator.validate(FieldValidator.java:216)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.exolab.castor.xml.util.XMLClassDescriptorImpl.validate(XMLClassDescriptorImpl.java:886)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [...]
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.exolab.castor.xml.Marshaller.marshal(Marshaller.java:663)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at de.fhg.fokus.cx.datatypes.IMSSubscription.marshal(IMSSubscription.java:72)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at de.fhg.fokus.hss.diam.cx.SARCommandListener.saveIMSSubscription(SARCommandListener.java:204)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at de.fhg.fokus.hss.diam.cx.SARCommandListener.recvMessage(SARCommandListener.java:160)
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at de.fhg.fokus.diameter.DiameterPeer.DiameterWorker.run(DiameterWorker.java:100)

UAR and MAR are apparently processed without any problem though. And it all works fine when using the CSCFs from OSIMS but another HSS.
This used to work, also with FHoSS, with snapshots from last December (but my setup was slightly different because at that time, I was still using the sip2ims gateway).

Maybe I did something wrong while building FHoSS this time? But I followed the usual ant gen; ant compile; ant deploy cycle...

Any hint greatly appreciated.

Thanks,
-David

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000606.html">[OpenIMSCore-Users] FHoSS exception in Castor while processing SAR
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#607">[ date ]</a>
              <a href="thread.html#607">[ thread ]</a>
              <a href="subject.html#607">[ subject ]</a>
              <a href="author.html#607">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
