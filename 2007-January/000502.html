<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] Same CallId for inbound and outbound call legs
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2007-January/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Same%20CallId%20for%20inbound%20and%20outbound%20call%20legs&In-Reply-To=%3C7C26F4EEB99BE34A8408A9B5E9C4853801D018C2%40swsmsx411.ger.corp.intel.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000501.html">
   <LINK REL="Next"  HREF="000504.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] Same CallId for inbound and outbound call legs</H1>
    <B>Verbeiren, David</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Same%20CallId%20for%20inbound%20and%20outbound%20call%20legs&In-Reply-To=%3C7C26F4EEB99BE34A8408A9B5E9C4853801D018C2%40swsmsx411.ger.corp.intel.com%3E"
       TITLE="[OpenIMSCore-Users] Same CallId for inbound and outbound call legs">david.verbeiren at intel.com
       </A><BR>
    <I>Wed Jan 17 16:58:27 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000501.html">[OpenIMSCore-Users] SIP client
</A></li>
        <LI>Next message: <A HREF="000504.html">[OpenIMSCore-Users] Same CallId for inbound and outbound call	legs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#502">[ date ]</a>
              <a href="thread.html#502">[ thread ]</a>
              <a href="subject.html#502">[ subject ]</a>
              <a href="author.html#502">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm trying to hack together a B2BUA mode gateway to connect standard SIP
clients to the OpenIMSCore. I'm doing it because the sip2ims g/w
included in OSIMS is operating as a proxy and does not work with the
clients I tried.

I can successfully register users through the gateway but I'm running
into problems when placing calls because the CallId remains unchanged
between the INVITE that enters the IMS core and the one that leaves it.
Here is the scenario I'm trying to execute, with both users behind the
gateway:

        User A     User B     Gateway        P-CSCF ...  S-CSCF
         --------INVITE-1--------&gt;
                                   --INVITE-2--&gt; ....
                                   &lt;--INVITE-3--
                     &lt;--INVITE-4--

The problem is that INVITE-4 has the same CallId as INVITE-1 and this
confuses the gateway state machine for the first call leg because the
gateway thinks INVITE-4 belongs to the same session as INVITE-1, when
they really should remain two fully separate sessions from the gateway's
perspective.

Is it normal that the core keeps the original CallId (I've seen other
implementations that did hide the original CallId)? And if so, does
anybody have an idea on how this type of issue would typically be
handled?

Thanks,
-David

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000501.html">[OpenIMSCore-Users] SIP client
</A></li>
	<LI>Next message: <A HREF="000504.html">[OpenIMSCore-Users] Same CallId for inbound and outbound call	legs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#502">[ date ]</a>
              <a href="thread.html#502">[ thread ]</a>
              <a href="subject.html#502">[ subject ]</a>
              <a href="author.html#502">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
