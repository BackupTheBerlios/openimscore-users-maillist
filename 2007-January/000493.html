<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] IMS level registration and OSIMS
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2007-January/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20IMS%20level%20registration%20and%20OSIMS&In-Reply-To=%3C45AB7E12.3030007%40fokus.fraunhofer.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000490.html">
   <LINK REL="Next"  HREF="000492.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] IMS level registration and OSIMS</H1>
    <B>Dragos Vingarzan</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20IMS%20level%20registration%20and%20OSIMS&In-Reply-To=%3C45AB7E12.3030007%40fokus.fraunhofer.de%3E"
       TITLE="[OpenIMSCore-Users] IMS level registration and OSIMS">vingarzan at fokus.fraunhofer.de
       </A><BR>
    <I>Mon Jan 15 14:13:54 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000490.html">[OpenIMSCore-Users] IMS level registration and OSIMS
</A></li>
        <LI>Next message: <A HREF="000492.html">[OpenIMSCore-Users] OSIMS and Application Servers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#493">[ date ]</a>
              <a href="thread.html#493">[ thread ]</a>
              <a href="subject.html#493">[ subject ]</a>
              <a href="author.html#493">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jamal,

If you use the SIP2IMS gateway then you authorize with MD5 to it and
then the SIP2IMS gateway will produce an AKA Authorization header. So
the SIP2IMS gateway, if used, needs to be provisioned with the same
password for 2 things:
- check MD5 as server
- produce AKA-MD5 as client

-Dragos

Jamal Basrire wrote:
&gt;<i>
</I>&gt;<i> Hi Dragos,
</I>&gt;<i>
</I>&gt;<i> You were right, I was not producing a correct response field... My
</I>&gt;<i> client's MD5 implementation was not correct.
</I>&gt;<i>
</I>&gt;<i> But I would have another question to ask you... What do you mean by
</I>&gt;<i> &quot;password provisioned in the SIP2IMS gateway&quot;? I think you were
</I>&gt;<i> speaking about he password provisioned in the HSS, weren't you?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Best regards,
</I>&gt;<i> Jamal.
</I>&gt;<i>
</I>&gt;<i> ----------------------------------------
</I>&gt;<i> &gt; Date: Fri, 12 Jan 2007 12:36:36 +0100
</I>&gt;<i> &gt; From: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vingarzan at fokus.fraunhofer.de</A>
</I>&gt;<i> &gt; To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">j_basrire at hotmail.com</A>
</I>&gt;<i> &gt; CC: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;<i> &gt; Subject: Re: [OpenIMSCore-Users]  IMS level registration and OSIMS
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It means that you are not producing a correct response field. Check that
</I>&gt;<i> &gt; the client's MD5 implementation is correct, that you have entered the
</I>&gt;<i> &gt; right password and that you have the same password provisioned in the
</I>&gt;<i> &gt; sip2ims gateway.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; -Dragos
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Jamal Basrire wrote:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Sorry Dragos, but I don't understand... What does it mean that I am
</I>&gt;<i> &gt; &gt; not correctly authorizing myself with MD5 to the SIP2IMS Gateway ?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Furthermore, I also tried to register directly through the P-CSCF
</I>&gt;<i> &gt; &gt; (without using the SIP2IMS Gateway) and I get the same result ?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Do you have an explanation of this behaviour ?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Thank you for your help.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Best regards,
</I>&gt;<i> &gt; &gt; Jamal.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; ----------------------------------------
</I>&gt;<i> &gt; &gt; &gt; Date: Thu, 11 Jan 2007 16:15:31 +0100
</I>&gt;<i> &gt; &gt; &gt; From: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vingarzan at fokus.fraunhofer.de</A>
</I>&gt;<i> &gt; &gt; &gt; To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">j_basrire at hotmail.com</A>
</I>&gt;<i> &gt; &gt; &gt; CC: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt; &gt; Subject: Re: [OpenIMSCore-Users]  IMS level registration and OSIMS
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Aha, you are using the SIP2IMS Gw. From the traffic, it seems
</I>&gt;<i> that you
</I>&gt;<i> &gt; &gt; &gt; are not correctly authorizing yourself with MD5 to the SIP2IMS
</I>&gt;<i> Gateway.
</I>&gt;<i> &gt; &gt; &gt; If you would, then the SIP2IMS gateway would replace the
</I>&gt;<i> Authorization
</I>&gt;<i> &gt; &gt; &gt; header with a correct AKA one.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; -Dragos
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Jamal Basrire wrote:
</I>&gt;<i> &gt; &gt; &gt; &gt; Hi Dragos,
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; Yes, I sent back the same nonce value and the S-CSCF still sends a
</I>&gt;<i> &gt; &gt; challenge to the UE... I don't understand this behavior of the IMS
</I>&gt;<i> core.
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; For a better comprehension of what happens, you can find the
</I>&gt;<i> &gt; &gt; resulting SIP traffic attached to this e-mail.
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; Is the nonce value the only one parameter that is involved in the
</I>&gt;<i> &gt; &gt; challenge ?
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; Best regards,
</I>&gt;<i> &gt; &gt; &gt; &gt; Jamal.
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; ----------------------------------------
</I>&gt;<i> &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt; Date: Thu, 11 Jan 2007 15:43:51 +0100
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt; From: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vingarzan at fokus.fraunhofer.de</A>
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt; To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">j_basrire at hotmail.com</A>
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt; CC: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt; Subject: Re: [OpenIMSCore-Users]  IMS level registration and
</I>&gt;<i> OSIMS
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt; If you keep getting 401, it means that you are not sending a
</I>&gt;<i> correct
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt; answer to the previous 401 challenge. That error message further
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt; indicates that the challenge response that you are sending
</I>&gt;<i> can not be
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt; identified as one that has been sent before. Are you sending
</I>&gt;<i> back the
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt; same nonce value?
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt; -Dragos
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt; Jamal Basrire wrote:
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;   
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;&gt; Hi all,
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;&gt; Is anybody familiar to the following log message in the S-CSCF
</I>&gt;<i> &gt; &gt; (scscf.sh) ?
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;&gt; ERR:S-CSCF:S_is_authorized: no matching auth vector found -
</I>&gt;<i> &gt; &gt; maybe timer expired
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;&gt; In fact, I tried to perform a registration and the S-CSCF always
</I>&gt;<i> &gt; &gt; try to challenge the UE (Status : 401 Unauthorized - Challenging
</I>&gt;<i> the UE) ?
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;&gt; Can anybody help to understand this behavior ?
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;&gt; Thanks.
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;&gt; Best regards,
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;&gt; Jamal.
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;&gt;
</I>&gt;<i> _________________________________________________________________
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;&gt; Essayez Live.com, votre nouvelle page d'accueil !
</I>&gt;<i> &gt; &gt; Personnalisez-la en quelques clics pour retrouver tout ce qui vous
</I>&gt;<i> &gt; &gt; int&#233;resse au m&#234;me endroit.
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;&gt; <A HREF="http://www.live.com/getstarted">http://www.live.com/getstarted</A>
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;&gt; _______________________________________________
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;&gt; OpenIMSCore-Users mailing list
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;&gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;&gt;     
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt; --
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt; -----------------------------------------
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt; Dipl. Eng. Dragos Vingarzan
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt; FOKUS/NGNI
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt; Kaiserin-Augusta-Allee 31
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt; 10589 Berlin,Germany
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt; Phone +49 (0)30 - 3463 - 7385
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt; Mobile +49 (0)163 - 159 - 5221
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt; eMail <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vingarzan at fokus.fraunhofer.de</A>
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt; Web www.fokus.fraunhofer.de
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt; We could change the world if God would give us the source code...
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt; -----------------------------------------------------------------
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;&gt;   
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; _________________________________________________________________
</I>&gt;<i> &gt; &gt; &gt; &gt; Essayez Live.com, votre nouvelle page d'accueil ! Personnalisez-la
</I>&gt;<i> &gt; &gt; en quelques clics pour retrouver tout ce qui vous int&#233;resse au m&#234;me
</I>&gt;<i> &gt; &gt; endroit.
</I>&gt;<i> &gt; &gt; &gt; &gt; <A HREF="http://www.live.com/getstarted">http://www.live.com/getstarted</A>
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; --
</I>&gt;<i> &gt; &gt; &gt; -----------------------------------------
</I>&gt;<i> &gt; &gt; &gt; Dipl. Eng. Dragos Vingarzan
</I>&gt;<i> &gt; &gt; &gt; FOKUS/NGNI
</I>&gt;<i> &gt; &gt; &gt; Kaiserin-Augusta-Allee 31
</I>&gt;<i> &gt; &gt; &gt; 10589 Berlin,Germany
</I>&gt;<i> &gt; &gt; &gt; Phone +49 (0)30 - 3463 - 7385
</I>&gt;<i> &gt; &gt; &gt; Mobile +49 (0)163 - 159 - 5221
</I>&gt;<i> &gt; &gt; &gt; eMail <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vingarzan at fokus.fraunhofer.de</A>
</I>&gt;<i> &gt; &gt; &gt; Web www.fokus.fraunhofer.de
</I>&gt;<i> &gt; &gt; &gt; We could change the world if God would give us the source code...
</I>&gt;<i> &gt; &gt; &gt; -----------------------------------------------------------------
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; _________________________________________________________________
</I>&gt;<i> &gt; &gt; Exprimez-vous : cr&#233;ez la page d'accueil qui vous ressemble avec
</I>&gt;<i> Live.com.
</I>&gt;<i> &gt; &gt; <A HREF="http://www.live.com/getstarted">http://www.live.com/getstarted</A>
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; -----------------------------------------
</I>&gt;<i> &gt; Dipl. Eng. Dragos Vingarzan
</I>&gt;<i> &gt; FOKUS/NGNI
</I>&gt;<i> &gt; Kaiserin-Augusta-Allee 31
</I>&gt;<i> &gt; 10589 Berlin,Germany
</I>&gt;<i> &gt; Phone +49 (0)30 - 3463 - 7385
</I>&gt;<i> &gt; Mobile +49 (0)163 - 159 - 5221
</I>&gt;<i> &gt; eMail <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vingarzan at fokus.fraunhofer.de</A>
</I>&gt;<i> &gt; Web www.fokus.fraunhofer.de
</I>&gt;<i> &gt; We could change the world if God would give us the source code...
</I>&gt;<i> &gt; -----------------------------------------------------------------
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> _________________________________________________________________
</I>&gt;<i> Exprimez-vous : cr&#233;ez la page d'accueil qui vous ressemble avec Live.com.
</I>&gt;<i> <A HREF="http://www.live.com/getstarted">http://www.live.com/getstarted</A>
</I>&gt;<i>
</I>

-- 
-----------------------------------------
Dipl. Eng. Dragos Vingarzan
FOKUS/NGNI
Kaiserin-Augusta-Allee 31
10589 Berlin,Germany
Phone +49 (0)30 - 3463 - 7385
Mobile +49 (0)163 - 159 - 5221
eMail <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vingarzan at fokus.fraunhofer.de</A>
Web www.fokus.fraunhofer.de
We could change the world if God would give us the source code...
-----------------------------------------------------------------


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000490.html">[OpenIMSCore-Users] IMS level registration and OSIMS
</A></li>
	<LI>Next message: <A HREF="000492.html">[OpenIMSCore-Users] OSIMS and Application Servers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#493">[ date ]</a>
              <a href="thread.html#493">[ thread ]</a>
              <a href="subject.html#493">[ subject ]</a>
              <a href="author.html#493">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
