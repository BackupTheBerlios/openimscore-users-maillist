<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] ICSCF - HSS - UAR - log4j logs
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2007-January/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20ICSCF%20-%20HSS%20-%20UAR%20-%20log4j%20logs&In-Reply-To=%3C831526.66275.qm%40web56101.mail.re3.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000576.html">
   <LINK REL="Next"  HREF="000583.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] ICSCF - HSS - UAR - log4j logs</H1>
    <B>Sudhakar Patil</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20ICSCF%20-%20HSS%20-%20UAR%20-%20log4j%20logs&In-Reply-To=%3C831526.66275.qm%40web56101.mail.re3.yahoo.com%3E"
       TITLE="[OpenIMSCore-Users] ICSCF - HSS - UAR - log4j logs">spatil4572 at yahoo.com
       </A><BR>
    <I>Fri Jan 26 23:21:50 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000576.html">[OpenIMSCore-Users] ICSCF - HSS - UAR - log4j logs
</A></li>
        <LI>Next message: <A HREF="000583.html">[OpenIMSCore-Users] ICSCF - HSS - UAR - log4j logs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#578">[ date ]</a>
              <a href="thread.html#578">[ thread ]</a>
              <a href="subject.html#578">[ subject ]</a>
              <a href="author.html#578">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Peter,
Since HSS and I/SCSCF are running on the same solaris
server I am not able to capture Diameter messages
using ethereal. The following is the output on icscf
window. As you can see from second line Diameter
connection is up between icscf and HSS. I have
attached cdp/diameter_api.c and cdp/receiver.c to help
you with my INFO messages. Unfortunately there is no
output on HSS window after the normal Type 'exit' to
exit message. Also, I could not find hss.server.log
file. I found the following warnings when HSS starts.
log4j:WARN No appenders could be found for logger
(org.apache.catalina.loader.WebappClassLoader).
log4j:WARN Please initialize the log4j system
properly.
Is there any way to change the debug level for HSS?

ICSCF output
----------

17(8672) ------------------
17(8672) --- Peer List: ---
17(8672)  S[R_Open] hss.open-ims.test:3868 D[ ]
17(8672) ------------------
 1(8649) After parse_msg...
 1(8649) After sanity checks...
 1(8649) INFO: In CxUAR ...
 1(8649) INFO: In CxUAR before send...
 1(8649) Diameter_api before calling peer_send_msg
 1(8649) INFO:peer_send_msg(): Pipe push
[ffffffff78b0fae8]
18(8720) INFO:select_recv(): There is something on the
pipe
18(8720) INFO:select_recv(): Pipe says
[ffffffff78b0fae8] 8
 3(8652) After parse_msg...
 3(8652) After sanity checks...
 3(8652) INFO: In CxUAR ...
 3(8652) INFO: In CxUAR before send...
 3(8652) Diameter_api before calling peer_send_msg
 3(8652) INFO:peer_send_msg(): Pipe push
[ffffffff78b0fae8]
18(8720) INFO:select_recv(): There is something on the
pipe
18(8720) INFO:select_recv(): Pipe says
[ffffffff78b0fae8] 8
17(8672) --- Peer List: ---
17(8672)  S[R_Open] hss.open-ims.test:3868 D[ ]
17(8672) ------------------
 4(8653) After parse_msg...
 4(8653) After sanity checks...
 4(8653) INFO: In CxUAR ...
 4(8653) INFO: In CxUAR before send...
 4(8653) Diameter_api before calling peer_send_msg
 4(8653) INFO:peer_send_msg(): Pipe push
[ffffffff78b0fae8]
18(8720) INFO:select_recv(): There is something on the
pipe
18(8720) INFO:select_recv(): Pipe says
[ffffffff78b0fae8] 8
 2(8650) After parse_msg...
 2(8650) After sanity checks...
 2(8650) INFO: In CxUAR ...
 2(8650) INFO: In CxUAR before send...
 2(8650) Diameter_api before calling peer_send_msg
 2(8650) INFO:peer_send_msg(): Pipe push
[ffffffff78b0fae8]
18(8720) INFO:select_recv(): There is something on the
pipe
18(8720) INFO:select_recv(): Pipe says
[ffffffff78b0fae8] 8
17(8672) --- Peer List: ---
17(8672)  S[R_Open] hss.open-ims.test:3868 D[ ]
17(8672) ------------------
18(8720) INFO:select_recv(): receive cnt 1
18(8720) INFO:select_recv(): receive cnt 19
18(8720) INFO:select_recv(): receive cnt 204
18(8720) INFO:receive_loop():[22] Recv message
complete
18(8720) DBG:sm_process(): Peer hss.open-ims.test   
State R_Open    Event R_Rcv_Message
18(8720) INFO:select_recv(): receive cnt 1
18(8720) INFO:select_recv(): receive cnt 19
18(8720) INFO:select_recv(): receive cnt 204
18(8720) INFO:receive_loop():[22] Recv message
complete
18(8720) DBG:sm_process(): Peer hss.open-ims.test   
State R_Open    Event R_Rcv_Message
18(8720) INFO:select_recv(): receive cnt 1
18(8720) INFO:select_recv(): receive cnt 19
18(8720) INFO:select_recv(): receive cnt 204
18(8720) INFO:receive_loop():[22] Recv message
complete
18(8720) DBG:sm_process(): Peer hss.open-ims.test   
State R_Open    Event R_Rcv_Message
18(8720) INFO:select_recv(): receive cnt 1
18(8720) INFO:select_recv(): receive cnt 19
18(8720) INFO:select_recv(): receive cnt 204
18(8720) INFO:receive_loop():[22] Recv message
complete
18(8720) DBG:sm_process(): Peer hss.open-ims.test   
State R_Open    Event R_Rcv_Message
 3(8652) Diameter_api received null pointer 1
 3(8652) Diameter_api returning answer
 3(8652) Diameter_api received null pointer
 3(8652) INFO: In CxUAR got uaa...
 3(8652) ERR:I-CSCF:I_UAR: Error creating/sending UAR
or UAR time-out
 1(8649) Diameter_api received null pointer 1
 1(8649) Diameter_api returning answer
 1(8649) Diameter_api received null pointer
 1(8649) INFO: In CxUAR got uaa...
 1(8649) ERR:I-CSCF:I_UAR: Error creating/sending UAR
or UAR time-out
 1(8649) ERROR: _reply_light: can't generate 480 reply
when a final 480 was sent out
17(8672) --- Peer List: ---
17(8672)  S[R_Open] hss.open-ims.test:3868 D[ ]
17(8672) ------------------
 4(8653) Diameter_api received null pointer 1
 4(8653) Diameter_api returning answer
 4(8653) Diameter_api received null pointer
 4(8653) INFO: In CxUAR got uaa...
 4(8653) ERR:I-CSCF:I_UAR: Error creating/sending UAR
or UAR time-out
 4(8653) ERROR: _reply_light: can't generate 480 reply
when a final 480 was sent out
 2(8650) Diameter_api received null pointer 1
 2(8650) Diameter_api returning answer
 2(8650) Diameter_api received null pointer
 2(8650) INFO: In CxUAR got uaa...
 2(8650) ERR:I-CSCF:I_UAR: Error creating/sending UAR
or UAR time-out
 2(8650) ERROR: _reply_light: can't generate 480 reply
when a final 480 was sent out


Regards,
Sudhakar.

--- Peter Weik &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">weik at fokus.fraunhofer.de</A>&gt; wrote:

&gt;<i> Hi Sudhakar,
</I>&gt;<i> 
</I>&gt;<i> either there are the debugging messages on the
</I>&gt;<i> screen directly after the
</I>&gt;<i> startup of the FHoSS or there is a hss.server.log
</I>&gt;<i> file that you can look
</I>&gt;<i> into. 
</I>&gt;<i> &gt;From that small post, I am guessing that the two
</I>&gt;<i> Diameter peers are not
</I>&gt;<i> connected, please post the trace of the Diameter
</I>&gt;<i> messages to dig deeper
</I>&gt;<i> here.
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> 
</I>&gt;<i> Peter
</I>&gt;<i> 
</I>&gt;<i> On Fri, 2007-01-26 at 09:49 -0800, Sudhakar Patil
</I>&gt;<i> wrote:
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt; I am using the default FHoSS configuration files.
</I>&gt;<i> Can
</I>&gt;<i> &gt; any one please let me know where FHoSS creates
</I>&gt;<i> logs? I
</I>&gt;<i> &gt; guess it is using log4j but not sure where the log
</I>&gt;<i> &gt; files are stored. 
</I>&gt;<i> &gt; ICSCF is sending UAR to HSS and AAASendRecvMessage
</I>&gt;<i> &gt; function in /module/cdp/diameter_api.c is getting
</I>&gt;<i> a
</I>&gt;<i> &gt; NULL message in response. Eventually I get  
</I>&gt;<i> &gt; &quot;4(20274) ERR:I-CSCF:I_UAR: Error creating/sending
</I>&gt;<i> UAR
</I>&gt;<i> &gt; or UAR time-out&quot;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Not sure how to debug this. Any ponters please?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Regards,
</I>&gt;<i> &gt; Sudhakar.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;  
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>____________________________________________________________________________________
&gt;<i> &gt; Need a quick answer? Get one in minutes from
</I>&gt;<i> people who know.
</I>&gt;<i> &gt; Ask your question on www.Answers.yahoo.com
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; OpenIMSCore-Users mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I><A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
&gt;<i> 
</I>&gt;<i> 
</I>


 
____________________________________________________________________________________
Bored stiff? Loosen up... 
Download and play hundreds of games for free on Yahoo! Games.
<A HREF="http://games.yahoo.com/games/front">http://games.yahoo.com/games/front</A>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: diameter_api.c
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20070126/5268bc6e/attachment.c">https://lists.berlios.de/pipermail/openimscore-users/attachments/20070126/5268bc6e/attachment.c</A>&gt;
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: receiver.c
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20070126/5268bc6e/attachment-0001.c">https://lists.berlios.de/pipermail/openimscore-users/attachments/20070126/5268bc6e/attachment-0001.c</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000576.html">[OpenIMSCore-Users] ICSCF - HSS - UAR - log4j logs
</A></li>
	<LI>Next message: <A HREF="000583.html">[OpenIMSCore-Users] ICSCF - HSS - UAR - log4j logs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#578">[ date ]</a>
              <a href="thread.html#578">[ thread ]</a>
              <a href="subject.html#578">[ subject ]</a>
              <a href="author.html#578">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
