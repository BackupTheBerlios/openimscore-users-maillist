<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] Question about Trigger points
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Question%20about%20Trigger%20points&In-Reply-To=%3CEE1E5158B61B4FF1A1CA5DA5FA1C65FB%40LIONKING.COM%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005053.html">
   <LINK REL="Next"  HREF="005055.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] Question about Trigger points</H1>
    <B>Sireesha Jakku</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Question%20about%20Trigger%20points&In-Reply-To=%3CEE1E5158B61B4FF1A1CA5DA5FA1C65FB%40LIONKING.COM%3E"
       TITLE="[OpenIMSCore-Users] Question about Trigger points">sireesha.jakku at info-spectrum.com
       </A><BR>
    <I>Fri Feb 13 06:07:16 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005053.html">[OpenIMSCore-Users] Question about Trigger points
</A></li>
        <LI>Next message: <A HREF="005055.html">[OpenIMSCore-Users] Question about Trigger points
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5054">[ date ]</a>
              <a href="thread.html#5054">[ thread ]</a>
              <a href="subject.html#5054">[ subject ]</a>
              <a href="author.html#5054">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi FRanz,

here is my iFC...

&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;IMSSubscription&gt;

&lt;ServiceProfile&gt;

&lt;PublicIdentity&gt;

&lt;Identity&gt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at info-spectrum.com</A>&lt;/Identity&gt;

&lt;Extension&gt;&lt;IdentityType&gt;0&lt;/IdentityType&gt;

&lt;/Extension&gt;

&lt;/PublicIdentity&gt;

 

&lt;InitialFilterCriteria&gt;

&lt;Priority&gt;1&lt;/Priority&gt;

                &lt;TriggerPoint&gt;

                &lt;ConditionTypeCNF&gt;1&lt;/ConditionTypeCNF&gt;

                &lt;SPT&gt;

                                &lt;ConditionNegated&gt;0&lt;/ConditionNegated&gt;

                                &lt;Group&gt;0&lt;/Group&gt;

                                &lt;Method&gt;INVITE&lt;/Method&gt;

                                &lt;Extension&gt;&lt;/Extension&gt;

                &lt;/SPT&gt;

                &lt;SPT&gt;

                                &lt;ConditionNegated&gt;0&lt;/ConditionNegated&gt;

                                &lt;Group&gt;0&lt;/Group&gt;

                                &lt;Method&gt;REGISTER&lt;/Method&gt;

                                &lt;Extension&gt;

                                &lt;/Extension&gt;

                &lt;/SPT&gt;

                &lt;/TriggerPoint&gt;

 

                &lt;ApplicationServer&gt;

                                &lt;ServerName&gt;sip:172.18.2.231:5065&lt;/ServerName&gt;

                                &lt;DefaultHandling&gt;0&lt;/DefaultHandling&gt;

                &lt;/ApplicationServer&gt;

&lt;/InitialFilterCriteria&gt;          

 

&lt;InitialFilterCriteria&gt;

                &lt;Priority&gt;0&lt;/Priority&gt;

                &lt;TriggerPoint&gt;

&lt;ConditionTypeCNF&gt;1&lt;/ConditionTypeCNF&gt;

&lt;SPT&gt;

&lt;ConditionNegated&gt;0&lt;/ConditionNegated&gt;

&lt;Group&gt;0&lt;/Group&gt;

&lt;Method&gt;SUBSCRIBE&lt;/Method&gt;

&lt;Extension&gt;&lt;/Extension&gt;

&lt;/SPT&gt;

&lt;SPT&gt;

&lt;ConditionNegated&gt;0&lt;/ConditionNegated&gt;

&lt;Group&gt;0&lt;/Group&gt;

&lt;Method&gt;PUBLISH&lt;/Method&gt;

&lt;Extension&gt;&lt;/Extension&gt;

&lt;/SPT&gt;

&lt;SPT&gt;

&lt;ConditionNegated&gt;0&lt;/ConditionNegated&gt;

&lt;Group&gt;1&lt;/Group&gt;

&lt;SIPHeader&gt;

&lt;Header&gt;Event&lt;/Header&gt;

&lt;Content&gt;.*presence.*&lt;/Content&gt;

&lt;/SIPHeader&gt;

&lt;Extension&gt;&lt;/Extension&gt;

&lt;/SPT&gt;

&lt;/TriggerPoint&gt;

 

&lt;ApplicationServer&gt;

&lt;ServerName&gt;sip:172.18.2.231:5065&lt;/ServerName&gt;

&lt;DefaultHandling&gt;0&lt;/DefaultHandling&gt;

&lt;/ApplicationServer&gt;

&lt;/InitialFilterCriteria&gt;

&lt;/ServiceProfile&gt;

&lt;/IMSSubscription&gt;



Is there any thing that I need to change??



Regards,

Sireesha J



  ----- Original Message ----- 
  From: Franz Edler 
  To: 'Sireesha Jakku' ; 'Devdutt Patnaik' ; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A> 
  Sent: Friday, February 13, 2009 2:05 AM
  Subject: RE: [OpenIMSCore-Users] Question about Trigger points


  Hi SIreesha,

   

  the issue should be handled via iFC alone, no need to modify the cfg-files.

  What are you iFCs?

   

  Please provide a core trace-file (pcap) including the registration, than I also can see the iFCs provisioned.

   

  regards

  FRanz

   


------------------------------------------------------------------------------

  From: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-bounces at lists.berlios.de</A> [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-bounces at lists.berlios.de</A>] On Behalf Of Sireesha Jakku
  Sent: Thursday, February 12, 2009 8:24 AM
  To: Devdutt Patnaik; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
  Subject: Re: [OpenIMSCore-Users] Question about Trigger points

   

  Hi Devdutt,

   

  Were you able to solve this problem??

   

  I also want INVITE from UE1 to UE2 to be sent via AS..

  I am able to achieve till this point: 

      UE1 -&gt; PCSCF -&gt; SCSCF -&gt; AS -&gt; SCSCF

   

  but after reaching SCSCF,  the message is looping in SCSCF only.. because of the condition in cfg file: 

  (both of my users - originating &amp; terminating are registered with same s-cscf.)

   

  if (S_term_registered()){
                t_relay_to_udp(&quot;127.0.0.1&quot;,6060);
                exit;
          }

   

  If after some checkings, I forward it to PCSCF using t_relay.

  Again, PCSCF is giving error...its saying &quot;403- Forbidden - Not Registered! You must register first with a S-CSCF&quot;

   

  If can you please let me know..how to forward it succesfully to UE2 ?? if you have done it..

   

  Can anyone help me on this??

   

  Regards,

  Sireesha J

   

    ----- Original Message ----- 

    From: Devdutt Patnaik 

    To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A> 

    Sent: Saturday, February 07, 2009 12:51 PM

    Subject: [OpenIMSCore-Users] Question about Trigger points

     

    Hi All,

     

    I am trying to use the Trigger points and the iFC to forward an INVITE to a SIP-AS based on the content of the INVITE method.

    The scenario is as below :

     

    1 &gt; User1 calls User2.

    2 &gt; The iFC causes the call to be forwarded to the SIP-AS for some processing.

    3 &gt; Now the call should continue to user2 which I do by forwarding the INVITE back to the openIMS core ( since user1 and user2 are both registered with the opemIMS).

          I am not maintaining any registrations at the SIP-AS.

     

    Now the problem arises here when the INVITE comes back to the IMS core. It sees the INVITE header and again forwards the packet to the SIP-AS thus resulting in a loop.

    I want it to forward it to User2. 

     

    Any suggestions how I can achieve this scenario such that all the INVITEs are eventually handled by the IMS core. Is there some condition I can specify in the filter criteria itself ?

     

    Thanks

    Devdutt.


----------------------------------------------------------------------------

    _______________________________________________
    OpenIMSCore-Users mailing list
    <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
    <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20090213/4b98d829/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20090213/4b98d829/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005053.html">[OpenIMSCore-Users] Question about Trigger points
</A></li>
	<LI>Next message: <A HREF="005055.html">[OpenIMSCore-Users] Question about Trigger points
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5054">[ date ]</a>
              <a href="thread.html#5054">[ thread ]</a>
              <a href="subject.html#5054">[ subject ]</a>
              <a href="author.html#5054">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
