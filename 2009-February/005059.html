<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] OpenIMSCore-Users Digest, Vol 28, Issue 12
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20OpenIMSCore-Users%20Digest%2C%20Vol%2028%2C%20Issue%2012&In-Reply-To=%3Cbbc3b52d0902130659y283bee5eo8772a2cf8f0da096%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005071.html">
   <LINK REL="Next"  HREF="005077.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] OpenIMSCore-Users Digest, Vol 28, Issue 12</H1>
    <B>prabhavati inamdar</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20OpenIMSCore-Users%20Digest%2C%20Vol%2028%2C%20Issue%2012&In-Reply-To=%3Cbbc3b52d0902130659y283bee5eo8772a2cf8f0da096%40mail.gmail.com%3E"
       TITLE="[OpenIMSCore-Users] OpenIMSCore-Users Digest, Vol 28, Issue 12">prabhavati at gmail.com
       </A><BR>
    <I>Fri Feb 13 15:59:54 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005071.html">[OpenIMSCore-Users] [oot] Basic question about openimscore vs asterisk
</A></li>
        <LI>Next message: <A HREF="005077.html">[OpenIMSCore-Users] OpenIMSCore-Users Digest, Vol 28, Issue 12
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5059">[ date ]</a>
              <a href="thread.html#5059">[ thread ]</a>
              <a href="subject.html#5059">[ subject ]</a>
              <a href="author.html#5059">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Shreesha,
Can you also share the HSS logs? I have a similar situation and using IFCs
works for me.
I had to use &quot;Session case&quot; in Trigger Point definition.
Filter for calls going to AS had session case as Origin-Session and for
INVITEs coming from AS had Origin-Session as Term-Reg.

Prabha



2009/2/13 &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-request at lists.berlios.de</A>&gt;

&gt;<i> Send OpenIMSCore-Users mailing list submissions to
</I>&gt;<i>        <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;<i>
</I>&gt;<i> To subscribe or unsubscribe via the World Wide Web, visit
</I>&gt;<i>        <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>&gt;<i> or, via email, send a message with subject or body 'help' to
</I>&gt;<i>        <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-request at lists.berlios.de</A>
</I>&gt;<i>
</I>&gt;<i> You can reach the person managing the list at
</I>&gt;<i>        <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-owner at lists.berlios.de</A>
</I>&gt;<i>
</I>&gt;<i> When replying, please edit your Subject line so it is more specific
</I>&gt;<i> than &quot;Re: Contents of OpenIMSCore-Users digest...&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Today's Topics:
</I>&gt;<i>
</I>&gt;<i>   1. Re: Question about Trigger points (Franz Edler)
</I>&gt;<i>   2. Re: Question about Trigger points (Sireesha Jakku)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ----------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 1
</I>&gt;<i> Date: Thu, 12 Feb 2009 21:35:00 +0100
</I>&gt;<i> From: &quot;Franz Edler&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz-edler at aon.at</A>&gt;
</I>&gt;<i> Subject: Re: [OpenIMSCore-Users] Question about Trigger points
</I>&gt;<i> To: &quot;'Sireesha Jakku'&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sireesha.jakku at info-spectrum.com</A>&gt;,      &quot;'Devdutt
</I>&gt;<i>        Patnaik'&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">xendevid at gmail.com</A>&gt;, &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;<i> &gt;
</I>&gt;<i> Message-ID: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">9D6B5C34C31D4EF08A6AC59AA084A1D9 at notebook</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=&quot;us-ascii&quot;
</I>&gt;<i>
</I>&gt;<i> Hi SIreesha,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> the issue should be handled via iFC alone, no need to modify the cfg-files.
</I>&gt;<i>
</I>&gt;<i> What are you iFCs?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Please provide a core trace-file (pcap) including the registration, than I
</I>&gt;<i> also can see the iFCs provisioned.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> regards
</I>&gt;<i>
</I>&gt;<i> FRanz
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  _____
</I>&gt;<i>
</I>&gt;<i> From: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-bounces at lists.berlios.de</A>
</I>&gt;<i> [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-bounces at lists.berlios.de</A>] On Behalf Of Sireesha
</I>&gt;<i> Jakku
</I>&gt;<i> Sent: Thursday, February 12, 2009 8:24 AM
</I>&gt;<i> To: Devdutt Patnaik; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;<i> Subject: Re: [OpenIMSCore-Users] Question about Trigger points
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hi Devdutt,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Were you able to solve this problem??
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I also want INVITE from UE1 to UE2 to be sent via AS..
</I>&gt;<i>
</I>&gt;<i> I am able to achieve till this point:
</I>&gt;<i>
</I>&gt;<i>    UE1 -&gt; PCSCF -&gt; SCSCF -&gt; AS -&gt; SCSCF
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> but after reaching SCSCF,  the message is looping in SCSCF only.. because
</I>&gt;<i> of
</I>&gt;<i> the condition in cfg file:
</I>&gt;<i>
</I>&gt;<i> (both of my users - originating &amp; terminating are registered with same
</I>&gt;<i> s-cscf.)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> if (S_term_registered()){
</I>&gt;<i>              t_relay_to_udp(&quot;127.0.0.1&quot;,6060);
</I>&gt;<i>              exit;
</I>&gt;<i>        }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> If after some checkings, I forward it to PCSCF using t_relay.
</I>&gt;<i>
</I>&gt;<i> Again, PCSCF is giving error...its saying &quot;403- Forbidden - Not Registered!
</I>&gt;<i> You must register first with a S-CSCF&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> If can you please let me know..how to forward it succesfully to UE2 ?? if
</I>&gt;<i> you have done it..
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Can anyone help me on this??
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Sireesha J
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ----- Original Message -----
</I>&gt;<i>
</I>&gt;<i> From: Devdutt Patnaik &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">xendevid at gmail.com</A>&gt;
</I>&gt;<i>
</I>&gt;<i> To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;<i>
</I>&gt;<i> Sent: Saturday, February 07, 2009 12:51 PM
</I>&gt;<i>
</I>&gt;<i> Subject: [OpenIMSCore-Users] Question about Trigger points
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hi All,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I am trying to use the Trigger points and the iFC to forward an INVITE to a
</I>&gt;<i> SIP-AS based on the content of the INVITE method.
</I>&gt;<i>
</I>&gt;<i> The scenario is as below :
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 1 &gt; User1 calls User2.
</I>&gt;<i>
</I>&gt;<i> 2 &gt; The iFC causes the call to be forwarded to the SIP-AS for some
</I>&gt;<i> processing.
</I>&gt;<i>
</I>&gt;<i> 3 &gt; Now the call should continue to user2 which I do by forwarding the
</I>&gt;<i> INVITE back to the openIMS core ( since user1 and user2 are both registered
</I>&gt;<i> with the opemIMS).
</I>&gt;<i>
</I>&gt;<i>      I am not maintaining any registrations at the SIP-AS.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Now the problem arises here when the INVITE comes back to the IMS core. It
</I>&gt;<i> sees the INVITE header and again forwards the packet to the SIP-AS thus
</I>&gt;<i> resulting in a loop.
</I>&gt;<i>
</I>&gt;<i> I want it to forward it to User2.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Any suggestions how I can achieve this scenario such that all the INVITEs
</I>&gt;<i> are eventually handled by the IMS core. Is there some condition I can
</I>&gt;<i> specify in the filter criteria itself ?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i>
</I>&gt;<i> Devdutt.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  _____
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OpenIMSCore-Users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>&gt;<i>
</I>&gt;<i> -------------- next part --------------
</I>&gt;<i> An HTML attachment was scrubbed...
</I>&gt;<i> URL:
</I>&gt;<i> <A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20090212/1e48da48/attachment-0001.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20090212/1e48da48/attachment-0001.html</A>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 2
</I>&gt;<i> Date: Fri, 13 Feb 2009 10:37:16 +0530
</I>&gt;<i> From: &quot;Sireesha Jakku&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sireesha.jakku at info-spectrum.com</A>&gt;
</I>&gt;<i> Subject: Re: [OpenIMSCore-Users] Question about Trigger points
</I>&gt;<i> To: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz-edler at aon.at</A>&gt;, &quot;'Devdutt Patnaik'&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">xendevid at gmail.com</A>&gt;,
</I>&gt;<i>        &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>&gt;
</I>&gt;<i> Message-ID: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">EE1E5158B61B4FF1A1CA5DA5FA1C65FB at LIONKING.COM</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=&quot;iso-8859-1&quot;
</I>&gt;<i>
</I>&gt;<i> Hi FRanz,
</I>&gt;<i>
</I>&gt;<i> here is my iFC...
</I>&gt;<i>
</I>&gt;<i> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;IMSSubscription&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;ServiceProfile&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;PublicIdentity&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;Identity&gt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at info-spectrum.com</A> &lt;sip%<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">3Abob at info-spectrum.com</A>&gt;
</I>&gt;<i> &lt;/Identity&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;Extension&gt;&lt;IdentityType&gt;0&lt;/IdentityType&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;/Extension&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;/PublicIdentity&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &lt;InitialFilterCriteria&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;Priority&gt;1&lt;/Priority&gt;
</I>&gt;<i>
</I>&gt;<i>                &lt;TriggerPoint&gt;
</I>&gt;<i>
</I>&gt;<i>                &lt;ConditionTypeCNF&gt;1&lt;/ConditionTypeCNF&gt;
</I>&gt;<i>
</I>&gt;<i>                &lt;SPT&gt;
</I>&gt;<i>
</I>&gt;<i>                                &lt;ConditionNegated&gt;0&lt;/ConditionNegated&gt;
</I>&gt;<i>
</I>&gt;<i>                                &lt;Group&gt;0&lt;/Group&gt;
</I>&gt;<i>
</I>&gt;<i>                                &lt;Method&gt;INVITE&lt;/Method&gt;
</I>&gt;<i>
</I>&gt;<i>                                &lt;Extension&gt;&lt;/Extension&gt;
</I>&gt;<i>
</I>&gt;<i>                &lt;/SPT&gt;
</I>&gt;<i>
</I>&gt;<i>                &lt;SPT&gt;
</I>&gt;<i>
</I>&gt;<i>                                &lt;ConditionNegated&gt;0&lt;/ConditionNegated&gt;
</I>&gt;<i>
</I>&gt;<i>                                &lt;Group&gt;0&lt;/Group&gt;
</I>&gt;<i>
</I>&gt;<i>                                &lt;Method&gt;REGISTER&lt;/Method&gt;
</I>&gt;<i>
</I>&gt;<i>                                &lt;Extension&gt;
</I>&gt;<i>
</I>&gt;<i>                                &lt;/Extension&gt;
</I>&gt;<i>
</I>&gt;<i>                &lt;/SPT&gt;
</I>&gt;<i>
</I>&gt;<i>                &lt;/TriggerPoint&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>                &lt;ApplicationServer&gt;
</I>&gt;<i>
</I>&gt;<i>                                &lt;ServerName&gt;sip:172.18.2.231:5065
</I>&gt;<i> &lt;/ServerName&gt;
</I>&gt;<i>
</I>&gt;<i>                                &lt;DefaultHandling&gt;0&lt;/DefaultHandling&gt;
</I>&gt;<i>
</I>&gt;<i>                &lt;/ApplicationServer&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;/InitialFilterCriteria&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &lt;InitialFilterCriteria&gt;
</I>&gt;<i>
</I>&gt;<i>                &lt;Priority&gt;0&lt;/Priority&gt;
</I>&gt;<i>
</I>&gt;<i>                &lt;TriggerPoint&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;ConditionTypeCNF&gt;1&lt;/ConditionTypeCNF&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;SPT&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;ConditionNegated&gt;0&lt;/ConditionNegated&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;Group&gt;0&lt;/Group&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;Method&gt;SUBSCRIBE&lt;/Method&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;Extension&gt;&lt;/Extension&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;/SPT&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;SPT&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;ConditionNegated&gt;0&lt;/ConditionNegated&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;Group&gt;0&lt;/Group&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;Method&gt;PUBLISH&lt;/Method&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;Extension&gt;&lt;/Extension&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;/SPT&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;SPT&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;ConditionNegated&gt;0&lt;/ConditionNegated&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;Group&gt;1&lt;/Group&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;SIPHeader&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;Header&gt;Event&lt;/Header&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;Content&gt;.*presence.*&lt;/Content&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;/SIPHeader&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;Extension&gt;&lt;/Extension&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;/SPT&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;/TriggerPoint&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &lt;ApplicationServer&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;ServerName&gt;sip:172.18.2.231:5065&lt;/ServerName&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;DefaultHandling&gt;0&lt;/DefaultHandling&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;/ApplicationServer&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;/InitialFilterCriteria&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;/ServiceProfile&gt;
</I>&gt;<i>
</I>&gt;<i> &lt;/IMSSubscription&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Is there any thing that I need to change??
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Sireesha J
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  ----- Original Message -----
</I>&gt;<i>  From: Franz Edler
</I>&gt;<i>  To: 'Sireesha Jakku' ; 'Devdutt Patnaik' ;
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;<i>  Sent: Friday, February 13, 2009 2:05 AM
</I>&gt;<i>  Subject: RE: [OpenIMSCore-Users] Question about Trigger points
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  Hi SIreesha,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  the issue should be handled via iFC alone, no need to modify the
</I>&gt;<i> cfg-files.
</I>&gt;<i>
</I>&gt;<i>  What are you iFCs?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  Please provide a core trace-file (pcap) including the registration, than I
</I>&gt;<i> also can see the iFCs provisioned.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  regards
</I>&gt;<i>
</I>&gt;<i>  FRanz
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i>  From: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-bounces at lists.berlios.de</A> [mailto:
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-bounces at lists.berlios.de</A>] On Behalf Of Sireesha Jakku
</I>&gt;<i>  Sent: Thursday, February 12, 2009 8:24 AM
</I>&gt;<i>  To: Devdutt Patnaik; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;<i>  Subject: Re: [OpenIMSCore-Users] Question about Trigger points
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  Hi Devdutt,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  Were you able to solve this problem??
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  I also want INVITE from UE1 to UE2 to be sent via AS..
</I>&gt;<i>
</I>&gt;<i>  I am able to achieve till this point:
</I>&gt;<i>
</I>&gt;<i>      UE1 -&gt; PCSCF -&gt; SCSCF -&gt; AS -&gt; SCSCF
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  but after reaching SCSCF,  the message is looping in SCSCF only.. because
</I>&gt;<i> of the condition in cfg file:
</I>&gt;<i>
</I>&gt;<i>  (both of my users - originating &amp; terminating are registered with same
</I>&gt;<i> s-cscf.)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  if (S_term_registered()){
</I>&gt;<i>                t_relay_to_udp(&quot;127.0.0.1&quot;,6060);
</I>&gt;<i>                exit;
</I>&gt;<i>          }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  If after some checkings, I forward it to PCSCF using t_relay.
</I>&gt;<i>
</I>&gt;<i>  Again, PCSCF is giving error...its saying &quot;403- Forbidden - Not
</I>&gt;<i> Registered! You must register first with a S-CSCF&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  If can you please let me know..how to forward it succesfully to UE2 ?? if
</I>&gt;<i> you have done it..
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  Can anyone help me on this??
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  Regards,
</I>&gt;<i>
</I>&gt;<i>  Sireesha J
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>    ----- Original Message -----
</I>&gt;<i>
</I>&gt;<i>    From: Devdutt Patnaik
</I>&gt;<i>
</I>&gt;<i>    To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;<i>
</I>&gt;<i>    Sent: Saturday, February 07, 2009 12:51 PM
</I>&gt;<i>
</I>&gt;<i>    Subject: [OpenIMSCore-Users] Question about Trigger points
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>    Hi All,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>    I am trying to use the Trigger points and the iFC to forward an INVITE
</I>&gt;<i> to a SIP-AS based on the content of the INVITE method.
</I>&gt;<i>
</I>&gt;<i>    The scenario is as below :
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>    1 &gt; User1 calls User2.
</I>&gt;<i>
</I>&gt;<i>    2 &gt; The iFC causes the call to be forwarded to the SIP-AS for some
</I>&gt;<i> processing.
</I>&gt;<i>
</I>&gt;<i>    3 &gt; Now the call should continue to user2 which I do by forwarding the
</I>&gt;<i> INVITE back to the openIMS core ( since user1 and user2 are both registered
</I>&gt;<i> with the opemIMS).
</I>&gt;<i>
</I>&gt;<i>          I am not maintaining any registrations at the SIP-AS.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>    Now the problem arises here when the INVITE comes back to the IMS core.
</I>&gt;<i> It sees the INVITE header and again forwards the packet to the SIP-AS thus
</I>&gt;<i> resulting in a loop.
</I>&gt;<i>
</I>&gt;<i>    I want it to forward it to User2.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>    Any suggestions how I can achieve this scenario such that all the
</I>&gt;<i> INVITEs are eventually handled by the IMS core. Is there some condition I
</I>&gt;<i> can specify in the filter criteria itself ?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>    Thanks
</I>&gt;<i>
</I>&gt;<i>    Devdutt.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ----------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i>    _______________________________________________
</I>&gt;<i>    OpenIMSCore-Users mailing list
</I>&gt;<i>    <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>&gt;<i>    <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>&gt;<i> -------------- next part --------------
</I>&gt;<i> An HTML attachment was scrubbed...
</I>&gt;<i> URL:
</I>&gt;<i> <A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20090213/4b98d829/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20090213/4b98d829/attachment.html</A>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OpenIMSCore-Users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> End of OpenIMSCore-Users Digest, Vol 28, Issue 12
</I>&gt;<i> *************************************************
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20090213/22b26d9d/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20090213/22b26d9d/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005071.html">[OpenIMSCore-Users] [oot] Basic question about openimscore vs asterisk
</A></li>
	<LI>Next message: <A HREF="005077.html">[OpenIMSCore-Users] OpenIMSCore-Users Digest, Vol 28, Issue 12
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5059">[ date ]</a>
              <a href="thread.html#5059">[ thread ]</a>
              <a href="subject.html#5059">[ subject ]</a>
              <a href="author.html#5059">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
