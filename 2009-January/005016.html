<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] SIP/2.0 500 Internal Server Error (2) when call goes through B2BUA
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2009-January/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20SIP/2.0%20500%20Internal%20Server%20Error%20%282%29%20when%0A%20call%20goes%20through%20B2BUA&In-Reply-To=%3C4981AC29.80303%40fokus.fraunhofer.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005015.html">
   <LINK REL="Next"  HREF="005021.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] SIP/2.0 500 Internal Server Error (2) when call goes through B2BUA</H1>
    <B>Dragos Vingarzan</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20SIP/2.0%20500%20Internal%20Server%20Error%20%282%29%20when%0A%20call%20goes%20through%20B2BUA&In-Reply-To=%3C4981AC29.80303%40fokus.fraunhofer.de%3E"
       TITLE="[OpenIMSCore-Users] SIP/2.0 500 Internal Server Error (2) when call goes through B2BUA">Dragos.Vingarzan at fokus.fraunhofer.de
       </A><BR>
    <I>Thu Jan 29 14:16:25 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005015.html">[OpenIMSCore-Users] Regarding ims qos
</A></li>
        <LI>Next message: <A HREF="005021.html">[OpenIMSCore-Users] query &amp; Regarding ims qos
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5016">[ date ]</a>
              <a href="thread.html#5016">[ thread ]</a>
              <a href="subject.html#5016">[ subject ]</a>
              <a href="author.html#5016">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am sorry, I don't see how we could help you as the problem seems to be 
in your python script. From the trace, I can see that it is the source 
for the 500 response...

Cheers,
-Dragos

Suresh jaiswal wrote:
&gt;<i> Hi ..i'm trying to send INVITE message between alice and bob.
</I>&gt;<i> and i want to call control using b2bua_radius.py i.e i want call will
</I>&gt;<i> disconnect after 30 second and radius will generate Start/Stop
</I>&gt;<i> .
</I>&gt;<i> i did all the setup and also i don't want to redius server
</I>&gt;<i> Authentication/Authorization because
</I>&gt;<i> the my sip proxy i.e open-ims already did Authentication/Authorization
</I>&gt;<i>  uing Md5-digest
</I>&gt;<i> so i want bypass. so i'm using following command
</I>&gt;<i>
</I>&gt;<i> [<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">root at ngpchn</A> sippy]# python b2bua_radius.py -fD -l 172.18.3.52 -p 5065
</I>&gt;<i> -a 172.18.3.52 -k 3 -A 2 -m 30
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> after successfully running all these component i found
</I>&gt;<i> when I INVITE for alice to bob
</I>&gt;<i> i found SIP/2.0 500 Internal Server Error (2)
</I>&gt;<i> then call able to connect only one side call has been disconnected
</I>&gt;<i> and another side is continue .. i'm not able rectify the problem.
</I>&gt;<i>
</I>&gt;<i> can any help me regarding resolve this problem also what i doing wrong
</I>&gt;<i> i'm attaching also.trash ..along this mail.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i> ~Suresh
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> [<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">root at ngpchn</A> sippy]# python b2bua_radius.py -fD -l 172.18.3.52 -p 5065
</I>&gt;<i> -a 172.18.3.52 -k 3 -A 2 -m 30
</I>&gt;<i> 14 Jan 16:03:13/GLOBAL/b2bua: RECEIVED message from 172.18.3.52:6060:
</I>&gt;<i> INVITE sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at info-spectrum.com</A> SIP/2.0
</I>&gt;<i> Record-Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mo at scscf.info-spectrum.com</A>:6060;lr&gt;
</I>&gt;<i> Route: &lt;sip:172.18.3.52:5065;lr&gt;,
</I>&gt;<i> &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">iscmark at scscf.info-spectrum.com</A>:6060;lr;s=1;h=0;d=0;a=7369703a616c69636540696e666f2d737065637472756d2e636f6d&gt;
</I>&gt;<i> Record-Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mo at pcscf.info-spectrum.com</A>:4060;lr&gt;
</I>&gt;<i> Via: SIP/2.0/UDP 172.18.3.52:6060;branch=z9hG4bKa35e.8904bbf3.0
</I>&gt;<i> Via: SIP/2.0/UDP 172.18.3.52:4060;branch=z9hG4bKa35e.28aed705.0
</I>&gt;<i> Via: SIP/2.0/UDP 172.18.1.197:1976;rport=1976;branch=z9hG4bK7376
</I>&gt;<i> From: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at info-spectrum.com</A>&gt;;tag=11382
</I>&gt;<i> To: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at info-spectrum.com</A>&gt;
</I>&gt;<i> Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>
</I>&gt;<i> CSeq: 901 INVITE
</I>&gt;<i> Max-Forwards: 15
</I>&gt;<i> Allow: INVITE,ACK,CANCEL,BYE,MESSAGE,OPTIONS,UPDATE,NOTIFY,PRACK
</I>&gt;<i> Contact: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at 172.18.1.197</A>:1976;transport=udp&gt;;expires=1000
</I>&gt;<i> User-Agent: Mercuro IMS Client Beta (4.0.1011.0)
</I>&gt;<i> Supported: sdp-anat
</I>&gt;<i> Content-Type: application/sdp
</I>&gt;<i> P-Access-Network-Info: 3GPP-UTRAN-TDD;utran-cell-id-3gpp=00000000
</I>&gt;<i> Privacy: none
</I>&gt;<i> Content-Length: 231
</I>&gt;<i> P-Asserted-Identity: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at info-spectrum.com</A>&gt;
</I>&gt;<i> P-Charging-Vector:
</I>&gt;<i> icid-value=&quot;P-CSCFabcd496dbf6900000026&quot;;icid-generated-at=172.18.3.52;orig-ioi=&quot;info-spectrum.com&quot;
</I>&gt;<i> Timestamp: 1231929193
</I>&gt;<i>
</I>&gt;<i> v=0
</I>&gt;<i> o=- 3344 3344 IN IP4 172.18.1.197
</I>&gt;<i> s=Mercuro IMS Client Session
</I>&gt;<i> t=0 0
</I>&gt;<i> m=audio 31562 RTP/AVP 0 8 101
</I>&gt;<i> c=IN IP4 172.18.1.197
</I>&gt;<i> a=rtpmap:0 PCMU/8000/1
</I>&gt;<i> a=rtpmap:8 PCMA/8000/1
</I>&gt;<i> a=rtpmap:101 telephone-event/8000
</I>&gt;<i> a=fmtp:101 0-15
</I>&gt;<i>
</I>&gt;<i> 14 Jan 16:03:13/GLOBAL/b2bua: SENDING message to 172.18.3.52:6060:
</I>&gt;<i> SIP/2.0 100 Trying
</I>&gt;<i> Via: SIP/2.0/UDP 172.18.3.52:6060;branch=z9hG4bKa35e.8904bbf3.0
</I>&gt;<i> Via: SIP/2.0/UDP 172.18.3.52:4060;branch=z9hG4bKa35e.28aed705.0
</I>&gt;<i> Via: SIP/2.0/UDP 172.18.1.197:1976;rport=1976;branch=z9hG4bK7376
</I>&gt;<i> Record-Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mo at scscf.info-spectrum.com</A>:6060;lr&gt;
</I>&gt;<i> Record-Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mo at pcscf.info-spectrum.com</A>:4060;lr&gt;
</I>&gt;<i> From: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at info-spectrum.com</A>&gt;;tag=11382
</I>&gt;<i> To: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at info-spectrum.com</A>&gt;
</I>&gt;<i> Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>
</I>&gt;<i> CSeq: 901 INVITE
</I>&gt;<i> Server: Sippy B2BUA (RADIUS)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 14 Jan 16:03:13/<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>/b2bua: sending AAA request:
</I>&gt;<i> User-Name                        = '172.18.3.52'
</I>&gt;<i> Password                         = 'cisco'
</I>&gt;<i> Calling-Station-Id               = 'alice'
</I>&gt;<i> Called-Station-Id                = 'bob'
</I>&gt;<i> h323-conf-id                     = 'B8377C92 DF6642BB 25A7C3A3 D4E529CE'
</I>&gt;<i> call-id                          = '<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>'
</I>&gt;<i> h323-remote-address              = '172.18.3.52'
</I>&gt;<i> h323-session-protocol            = 'sipv2'
</I>&gt;<i>
</I>&gt;<i> 14 Jan 16:03:13/<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>/b2bua: AAA request accepted
</I>&gt;<i> (delay is 0.030), processing response:
</I>&gt;<i>
</I>&gt;<i> 14 Jan 16:03:13/GLOBAL/b2bua: SENDING message to 172.18.3.52:6060:
</I>&gt;<i> SIP/2.0 500 Internal Server Error (2)
</I>&gt;<i> Via: SIP/2.0/UDP 172.18.3.52:6060;branch=z9hG4bKa35e.8904bbf3.0
</I>&gt;<i> Via: SIP/2.0/UDP 172.18.3.52:4060;branch=z9hG4bKa35e.28aed705.0
</I>&gt;<i> Via: SIP/2.0/UDP 172.18.1.197:1976;rport=1976;branch=z9hG4bK7376
</I>&gt;<i> Record-Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mo at scscf.info-spectrum.com</A>:6060;lr&gt;
</I>&gt;<i> Record-Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mo at pcscf.info-spectrum.com</A>:4060;lr&gt;
</I>&gt;<i> From: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at info-spectrum.com</A>&gt;;tag=11382
</I>&gt;<i> To: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at info-spectrum.com</A>&gt;;tag=d63760e38a4879ada2cf7f5c137369ac
</I>&gt;<i> Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>
</I>&gt;<i> CSeq: 901 INVITE
</I>&gt;<i> Server: Sippy B2BUA (RADIUS)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 14 Jan 16:03:13/<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>/b2bua: sending Acct Stop (Answer):
</I>&gt;<i> h323-call-origin                 = 'answer'
</I>&gt;<i> h323-call-type                   = 'VoIP'
</I>&gt;<i> h323-session-protocol            = 'sipv2'
</I>&gt;<i> h323-setup-time                  = '10:33:13.000 GMT Wed Jan 14 2009'
</I>&gt;<i> User-Name                        = '172.18.3.52'
</I>&gt;<i> Calling-Station-Id               = 'alice'
</I>&gt;<i> Called-Station-Id                = 'bob'
</I>&gt;<i> h323-conf-id                     = 'B8377C92 DF6642BB 25A7C3A3 D4E529CE'
</I>&gt;<i> call-id                          = '<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>'
</I>&gt;<i> Acct-Session-Id                  = '<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>'
</I>&gt;<i> h323-remote-address              = '172.18.3.52'
</I>&gt;<i> h323-disconnect-time             = '10:33:13.000 GMT Wed Jan 14 2009'
</I>&gt;<i> h323-connect-time                = '10:33:13.000 GMT Wed Jan 14 2009'
</I>&gt;<i> Acct-Session-Time                = '0'
</I>&gt;<i> h323-disconnect-cause            = '29'
</I>&gt;<i> Acct-Status-Type                 = 'Stop'
</I>&gt;<i>
</I>&gt;<i> 14 Jan 16:03:13/GLOBAL/b2bua: RECEIVED message from 172.18.3.52:6060:
</I>&gt;<i> ACK sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at info-spectrum.com</A> SIP/2.0
</I>&gt;<i> Via: SIP/2.0/UDP 172.18.3.52:6060;branch=z9hG4bKa35e.8904bbf3.0
</I>&gt;<i> From: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at info-spectrum.com</A>&gt;;tag=11382
</I>&gt;<i> Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>
</I>&gt;<i> To: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at info-spectrum.com</A>&gt;;tag=d63760e38a4879ada2cf7f5c137369ac
</I>&gt;<i> CSeq: 901 ACK
</I>&gt;<i> Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">orig at scscf.info-spectrum.com</A>:6060;lr&gt;
</I>&gt;<i> User-Agent: InfoIMS(1.0.0-dev1 InfoIMS (i386/linux))
</I>&gt;<i> Content-Length: 0
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 14 Jan 16:03:13/GLOBAL/b2bua: RECEIVED message from 172.18.3.52:6060:
</I>&gt;<i> INVITE sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at info-spectrum.com</A> SIP/2.0
</I>&gt;<i> Record-Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mt at scscf.info-spectrum.com</A>:6060;lr&gt;
</I>&gt;<i> Route: &lt;sip:172.18.3.52:5065;lr&gt;,
</I>&gt;<i> &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">iscmark at scscf.info-spectrum.com</A>:6060;lr;s=1;h=0;d=1;a=7369703a626f6240696e666f2d737065637472756d2e636f6d&gt;
</I>&gt;<i> Record-Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mo at scscf.info-spectrum.com</A>:6060;lr&gt;
</I>&gt;<i> Record-Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mo at pcscf.info-spectrum.com</A>:4060;lr&gt;
</I>&gt;<i> Via: SIP/2.0/UDP 172.18.3.52:6060;branch=z9hG4bKa35e.9904bbf3.0
</I>&gt;<i> Via: SIP/2.0/UDP 172.18.3.52:6060;branch=z9hG4bKa35e.8904bbf3.1
</I>&gt;<i> Via: SIP/2.0/UDP 172.18.3.52:4060;branch=z9hG4bKa35e.28aed705.0
</I>&gt;<i> Via: SIP/2.0/UDP 172.18.1.197:1976;rport=1976;branch=z9hG4bK7376
</I>&gt;<i> From: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at info-spectrum.com</A>&gt;;tag=11382
</I>&gt;<i> To: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at info-spectrum.com</A>&gt;
</I>&gt;<i> Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>
</I>&gt;<i> CSeq: 901 INVITE
</I>&gt;<i> Max-Forwards: 14
</I>&gt;<i> Allow: INVITE,ACK,CANCEL,BYE,MESSAGE,OPTIONS,UPDATE,NOTIFY,PRACK
</I>&gt;<i> Contact: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at 172.18.1.197</A>:1976;transport=udp&gt;;expires=1000
</I>&gt;<i> User-Agent: Mercuro IMS Client Beta (4.0.1011.0)
</I>&gt;<i> Supported: sdp-anat
</I>&gt;<i> Content-Type: application/sdp
</I>&gt;<i> P-Access-Network-Info: 3GPP-UTRAN-TDD;utran-cell-id-3gpp=00000000
</I>&gt;<i> Privacy: none
</I>&gt;<i> Content-Length: 231
</I>&gt;<i> P-Asserted-Identity: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at info-spectrum.com</A>&gt;
</I>&gt;<i> P-Charging-Vector:
</I>&gt;<i> icid-value=&quot;P-CSCFabcd496dbf6900000026&quot;;icid-generated-at=172.18.3.52;orig-ioi=&quot;info-spectrum.com&quot;
</I>&gt;<i> Timestamp: 1231929193
</I>&gt;<i>
</I>&gt;<i> v=0
</I>&gt;<i> o=- 3344 3344 IN IP4 172.18.1.197
</I>&gt;<i> s=Mercuro IMS Client Session
</I>&gt;<i> t=0 0
</I>&gt;<i> m=audio 31562 RTP/AVP 0 8 101
</I>&gt;<i> c=IN IP4 172.18.1.197
</I>&gt;<i> a=rtpmap:0 PCMU/8000/1
</I>&gt;<i> a=rtpmap:8 PCMA/8000/1
</I>&gt;<i> a=rtpmap:101 telephone-event/8000
</I>&gt;<i> a=fmtp:101 0-15
</I>&gt;<i>
</I>&gt;<i> 14 Jan 16:03:13/GLOBAL/b2bua: SENDING message to 172.18.3.52:6060:
</I>&gt;<i> SIP/2.0 100 Trying
</I>&gt;<i> Via: SIP/2.0/UDP 172.18.3.52:6060;branch=z9hG4bKa35e.9904bbf3.0
</I>&gt;<i> Via: SIP/2.0/UDP 172.18.3.52:6060;branch=z9hG4bKa35e.8904bbf3.1
</I>&gt;<i> Via: SIP/2.0/UDP 172.18.3.52:4060;branch=z9hG4bKa35e.28aed705.0
</I>&gt;<i> Via: SIP/2.0/UDP 172.18.1.197:1976;rport=1976;branch=z9hG4bK7376
</I>&gt;<i> Record-Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mt at scscf.info-spectrum.com</A>:6060;lr&gt;
</I>&gt;<i> Record-Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mo at scscf.info-spectrum.com</A>:6060;lr&gt;
</I>&gt;<i> Record-Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mo at pcscf.info-spectrum.com</A>:4060;lr&gt;
</I>&gt;<i> From: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at info-spectrum.com</A>&gt;;tag=11382
</I>&gt;<i> To: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at info-spectrum.com</A>&gt;
</I>&gt;<i> Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>
</I>&gt;<i> CSeq: 901 INVITE
</I>&gt;<i> Server: Sippy B2BUA (RADIUS)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 14 Jan 16:03:13/<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>/b2bua: sending AAA request:
</I>&gt;<i> User-Name                        = '172.18.3.52'
</I>&gt;<i> Password                         = 'cisco'
</I>&gt;<i> Calling-Station-Id               = 'alice'
</I>&gt;<i> Called-Station-Id                = 'bob'
</I>&gt;<i> h323-conf-id                     = '7EAC4F20 651D23F0 75C1FFA6 E6EE4BFA'
</I>&gt;<i> call-id                          = '<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>'
</I>&gt;<i> h323-remote-address              = '172.18.3.52'
</I>&gt;<i> h323-session-protocol            = 'sipv2'
</I>&gt;<i>
</I>&gt;<i> 14 Jan 16:03:13/<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>/b2bua: AAA request accepted
</I>&gt;<i> (delay is 0.025), processing response:
</I>&gt;<i>
</I>&gt;<i> 14 Jan 16:03:13/GLOBAL/b2bua: SENDING message to 172.18.3.52:6060:
</I>&gt;<i> SIP/2.0 500 Internal Server Error (2)
</I>&gt;<i> Via: SIP/2.0/UDP 172.18.3.52:6060;branch=z9hG4bKa35e.9904bbf3.0
</I>&gt;<i> Via: SIP/2.0/UDP 172.18.3.52:6060;branch=z9hG4bKa35e.8904bbf3.1
</I>&gt;<i> Via: SIP/2.0/UDP 172.18.3.52:4060;branch=z9hG4bKa35e.28aed705.0
</I>&gt;<i> Via: SIP/2.0/UDP 172.18.1.197:1976;rport=1976;branch=z9hG4bK7376
</I>&gt;<i> Record-Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mt at scscf.info-spectrum.com</A>:6060;lr&gt;
</I>&gt;<i> Record-Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mo at scscf.info-spectrum.com</A>:6060;lr&gt;
</I>&gt;<i> Record-Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mo at pcscf.info-spectrum.com</A>:4060;lr&gt;
</I>&gt;<i> From: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at info-spectrum.com</A>&gt;;tag=11382
</I>&gt;<i> To: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at info-spectrum.com</A>&gt;;tag=4d778ee83fef7504d306e1345f51b4dd
</I>&gt;<i> Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>
</I>&gt;<i> CSeq: 901 INVITE
</I>&gt;<i> Server: Sippy B2BUA (RADIUS)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 14 Jan 16:03:13/<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>/b2bua: sending Acct Stop (Answer):
</I>&gt;<i> h323-call-origin                 = 'answer'
</I>&gt;<i> h323-call-type                   = 'VoIP'
</I>&gt;<i> h323-session-protocol            = 'sipv2'
</I>&gt;<i> h323-setup-time                  = '10:33:13.000 GMT Wed Jan 14 2009'
</I>&gt;<i> User-Name                        = '172.18.3.52'
</I>&gt;<i> Calling-Station-Id               = 'alice'
</I>&gt;<i> Called-Station-Id                = 'bob'
</I>&gt;<i> h323-conf-id                     = '7EAC4F20 651D23F0 75C1FFA6 E6EE4BFA'
</I>&gt;<i> call-id                          = '<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>'
</I>&gt;<i> Acct-Session-Id                  = '<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>'
</I>&gt;<i> h323-remote-address              = '172.18.3.52'
</I>&gt;<i> h323-disconnect-time             = '10:33:13.000 GMT Wed Jan 14 2009'
</I>&gt;<i> h323-connect-time                = '10:33:13.000 GMT Wed Jan 14 2009'
</I>&gt;<i> Acct-Session-Time                = '0'
</I>&gt;<i> h323-disconnect-cause            = '29'
</I>&gt;<i> Acct-Status-Type                 = 'Stop'
</I>&gt;<i>
</I>&gt;<i> 14 Jan 16:03:13/GLOBAL/b2bua: RECEIVED message from 172.18.3.52:6060:
</I>&gt;<i> ACK sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at info-spectrum.com</A> SIP/2.0
</I>&gt;<i> Via: SIP/2.0/UDP 172.18.3.52:6060;branch=z9hG4bKa35e.9904bbf3.0
</I>&gt;<i> From: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at info-spectrum.com</A>&gt;;tag=11382
</I>&gt;<i> Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>
</I>&gt;<i> To: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at info-spectrum.com</A>&gt;;tag=4d778ee83fef7504d306e1345f51b4dd
</I>&gt;<i> CSeq: 901 ACK
</I>&gt;<i> User-Agent: InfoIMS(1.0.0-dev1 InfoIMS (i386/linux))
</I>&gt;<i> Content-Length: 0
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 14 Jan 16:03:13/<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>/b2bua: Acct/answer request
</I>&gt;<i> accepted (delay is 0.083)
</I>&gt;<i>
</I>&gt;<i> 14 Jan 16:03:13/<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>/b2bua: Acct/answer request
</I>&gt;<i> accepted (delay is 0.071)
</I>&gt;<i>
</I>&gt;<i> GC is invoked, 0 calls in map
</I>&gt;<i> 0 client, 0 server transactions in memory
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --------------------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> [<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">root at ngpchn</A> raddb]# radiusd -X
</I>&gt;<i> FreeRADIUS Version 2.1.3, for host i686-pc-linux-gnu, built on Jan 13
</I>&gt;<i> 2009 at 11:56:22
</I>&gt;<i> Copyright (C) 1999-2008 The FreeRADIUS server project and contributors.
</I>&gt;<i> There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
</I>&gt;<i> PARTICULAR PURPOSE.
</I>&gt;<i> You may redistribute copies of FreeRADIUS under the terms of the
</I>&gt;<i> GNU General Public License v2.
</I>&gt;<i> Starting - reading configuration files ...
</I>&gt;<i> including configuration file /etc/raddb/radiusd.conf
</I>&gt;<i> including configuration file /etc/raddb/proxy.conf
</I>&gt;<i> including configuration file /etc/raddb/clients.conf
</I>&gt;<i> including files in directory /etc/raddb/modules/
</I>&gt;<i> including configuration file /etc/raddb/modules/mac2vlan
</I>&gt;<i> including configuration file /etc/raddb/modules/counter
</I>&gt;<i> including configuration file /etc/raddb/modules/passwd
</I>&gt;<i> including configuration file /etc/raddb/modules/mschap
</I>&gt;<i> including configuration file /etc/raddb/modules/ldap
</I>&gt;<i> including configuration file /etc/raddb/modules/wimax
</I>&gt;<i> including configuration file /etc/raddb/modules/sradutmp
</I>&gt;<i> including configuration file /etc/raddb/modules/etc_group
</I>&gt;<i> including configuration file /etc/raddb/modules/unix
</I>&gt;<i> including configuration file /etc/raddb/modules/radutmp
</I>&gt;<i> including configuration file /etc/raddb/modules/digest
</I>&gt;<i> including configuration file /etc/raddb/modules/exec
</I>&gt;<i> including configuration file /etc/raddb/modules/policy
</I>&gt;<i> including configuration file /etc/raddb/modules/detail.example.com
</I>&gt;<i> including configuration file /etc/raddb/modules/detail.log
</I>&gt;<i> including configuration file /etc/raddb/modules/perl
</I>&gt;<i> including configuration file /etc/raddb/modules/mac2ip
</I>&gt;<i> including configuration file /etc/raddb/modules/ippool
</I>&gt;<i> including configuration file /etc/raddb/modules/inner-eap
</I>&gt;<i> including configuration file /etc/raddb/modules/acct_unique
</I>&gt;<i> including configuration file /etc/raddb/modules/sqlcounter_expire_on_login
</I>&gt;<i> including configuration file /etc/raddb/modules/pap
</I>&gt;<i> including configuration file /etc/raddb/modules/smbpasswd
</I>&gt;<i> including configuration file /etc/raddb/modules/expr
</I>&gt;<i> including configuration file /etc/raddb/modules/linelog
</I>&gt;<i> including configuration file /etc/raddb/modules/expiration
</I>&gt;<i> including configuration file /etc/raddb/modules/files
</I>&gt;<i> including configuration file /etc/raddb/modules/attr_rewrite
</I>&gt;<i> including configuration file /etc/raddb/modules/logintime
</I>&gt;<i> including configuration file /etc/raddb/modules/echo
</I>&gt;<i> including configuration file /etc/raddb/modules/always
</I>&gt;<i> including configuration file /etc/raddb/modules/chap
</I>&gt;<i> including configuration file /etc/raddb/modules/realm
</I>&gt;<i> including configuration file /etc/raddb/modules/preprocess
</I>&gt;<i> including configuration file /etc/raddb/modules/pam
</I>&gt;<i> including configuration file /etc/raddb/modules/krb5
</I>&gt;<i> including configuration file /etc/raddb/modules/detail
</I>&gt;<i> including configuration file /etc/raddb/modules/checkval
</I>&gt;<i> including configuration file /etc/raddb/modules/attr_filter
</I>&gt;<i> including configuration file /etc/raddb/modules/sql_log
</I>&gt;<i> including configuration file /etc/raddb/eap.conf
</I>&gt;<i> including configuration file /etc/raddb/sql.conf
</I>&gt;<i> including configuration file /etc/raddb/sql/mysql/dialup.conf
</I>&gt;<i> including configuration file /etc/raddb/sql/mysql/counter.conf
</I>&gt;<i> including configuration file /etc/raddb/policy.conf
</I>&gt;<i> including files in directory /etc/raddb/sites-enabled/
</I>&gt;<i> including configuration file /etc/raddb/sites-enabled/default
</I>&gt;<i> including configuration file /etc/raddb/sites-enabled/inner-tunnel
</I>&gt;<i> including dictionary file /etc/raddb/dictionary
</I>&gt;<i> main {
</I>&gt;<i>       prefix = &quot;/usr/local&quot;
</I>&gt;<i>       localstatedir = &quot;/var&quot;
</I>&gt;<i>       logdir = &quot;/var/log/radius&quot;
</I>&gt;<i>       libdir = &quot;/usr/local/lib&quot;
</I>&gt;<i>       radacctdir = &quot;/var/log/radius/radacct&quot;
</I>&gt;<i>       hostname_lookups = no
</I>&gt;<i>       max_request_time = 30
</I>&gt;<i>       cleanup_delay = 5
</I>&gt;<i>       max_requests = 1024
</I>&gt;<i>       allow_core_dumps = no
</I>&gt;<i>       pidfile = &quot;/var/run/radiusd/radiusd.pid&quot;
</I>&gt;<i>       checkrad = &quot;/usr/local/sbin/checkrad&quot;
</I>&gt;<i>       debug_level = 0
</I>&gt;<i>       proxy_requests = yes
</I>&gt;<i>  log {
</I>&gt;<i>       stripped_names = no
</I>&gt;<i>       auth = no
</I>&gt;<i>       auth_badpass = no
</I>&gt;<i>       auth_goodpass = no
</I>&gt;<i>  }
</I>&gt;<i>  security {
</I>&gt;<i>       max_attributes = 200
</I>&gt;<i>       reject_delay = 1
</I>&gt;<i>       status_server = yes
</I>&gt;<i>  }
</I>&gt;<i> }
</I>&gt;<i>  client 172.18.3.52 {
</I>&gt;<i>       ipaddr = 172.18.3.52
</I>&gt;<i>       require_message_authenticator = no
</I>&gt;<i>       secret = &quot;testing123&quot;
</I>&gt;<i>       shortname = &quot;local&quot;
</I>&gt;<i>       nastype = &quot;portslave&quot;
</I>&gt;<i>       login = &quot;!root&quot;
</I>&gt;<i>       password = &quot;nopassword&quot;
</I>&gt;<i>  }
</I>&gt;<i>  client 172.18.1.197 {
</I>&gt;<i>       ipaddr = 172.18.1.197
</I>&gt;<i>       require_message_authenticator = no
</I>&gt;<i>       secret = &quot;testing123&quot;
</I>&gt;<i>       shortname = &quot;NTRadPing&quot;
</I>&gt;<i>       nastype = &quot;portslave&quot;
</I>&gt;<i>       login = &quot;!root&quot;
</I>&gt;<i>       password = &quot;nopassword&quot;
</I>&gt;<i>  }
</I>&gt;<i> radiusd: #### Loading Realms and Home Servers ####
</I>&gt;<i>  proxy server {
</I>&gt;<i>       retry_delay = 5
</I>&gt;<i>       retry_count = 3
</I>&gt;<i>       default_fallback = no
</I>&gt;<i>       dead_time = 120
</I>&gt;<i>       wake_all_if_all_dead = no
</I>&gt;<i>  }
</I>&gt;<i>  home_server localhost {
</I>&gt;<i>       ipaddr = 127.0.0.1
</I>&gt;<i>       port = 1812
</I>&gt;<i>       type = &quot;auth&quot;
</I>&gt;<i>       secret = &quot;testing123&quot;
</I>&gt;<i>       response_window = 20
</I>&gt;<i>       max_outstanding = 65536
</I>&gt;<i>       zombie_period = 40
</I>&gt;<i>       status_check = &quot;status-server&quot;
</I>&gt;<i>       ping_interval = 30
</I>&gt;<i>       check_interval = 30
</I>&gt;<i>       num_answers_to_alive = 3
</I>&gt;<i>       num_pings_to_alive = 3
</I>&gt;<i>       revive_interval = 120
</I>&gt;<i>       status_check_timeout = 4
</I>&gt;<i>  }
</I>&gt;<i>  home_server_pool my_auth_failover {
</I>&gt;<i>       type = fail-over
</I>&gt;<i>       home_server = localhost
</I>&gt;<i>  }
</I>&gt;<i>  realm example.com {
</I>&gt;<i>       auth_pool = my_auth_failover
</I>&gt;<i>  }
</I>&gt;<i>  realm info-spectrum.com {
</I>&gt;<i>       nostrip
</I>&gt;<i>       authhost = LOCAL
</I>&gt;<i>       accthost = LOCAL
</I>&gt;<i>  }
</I>&gt;<i>  realm LOCAL {
</I>&gt;<i>  }
</I>&gt;<i> radiusd: #### Instantiating modules ####
</I>&gt;<i>  instantiate {
</I>&gt;<i>  Module: Linked to module rlm_exec
</I>&gt;<i>  Module: Instantiating exec
</I>&gt;<i>  exec {
</I>&gt;<i>       wait = no
</I>&gt;<i>       input_pairs = &quot;request&quot;
</I>&gt;<i>       shell_escape = yes
</I>&gt;<i>  }
</I>&gt;<i>  Module: Linked to module rlm_expr
</I>&gt;<i>  Module: Instantiating expr
</I>&gt;<i>  Module: Linked to module rlm_expiration
</I>&gt;<i>  Module: Instantiating expiration
</I>&gt;<i>  expiration {
</I>&gt;<i>       reply-message = &quot;Password Has Expired  &quot;
</I>&gt;<i>  }
</I>&gt;<i>  Module: Linked to module rlm_logintime
</I>&gt;<i>  Module: Instantiating logintime
</I>&gt;<i>  logintime {
</I>&gt;<i>       reply-message = &quot;You are calling outside your allowed timespan  &quot;
</I>&gt;<i>       minimum-timeout = 60
</I>&gt;<i>  }
</I>&gt;<i>  }
</I>&gt;<i> radiusd: #### Loading Virtual Servers ####
</I>&gt;<i> server inner-tunnel {
</I>&gt;<i>  modules {
</I>&gt;<i>  Module: Checking authenticate {...} for more modules to load
</I>&gt;<i>  Module: Linked to module rlm_pap
</I>&gt;<i>  Module: Instantiating pap
</I>&gt;<i>  pap {
</I>&gt;<i>       encryption_scheme = &quot;auto&quot;
</I>&gt;<i>       auto_header = no
</I>&gt;<i>  }
</I>&gt;<i>  Module: Linked to module rlm_chap
</I>&gt;<i>  Module: Instantiating chap
</I>&gt;<i>  Module: Linked to module rlm_mschap
</I>&gt;<i>  Module: Instantiating mschap
</I>&gt;<i>  mschap {
</I>&gt;<i>       use_mppe = yes
</I>&gt;<i>       require_encryption = no
</I>&gt;<i>       require_strong = no
</I>&gt;<i>       with_ntdomain_hack = no
</I>&gt;<i>  }
</I>&gt;<i>  Module: Linked to module rlm_unix
</I>&gt;<i>  Module: Instantiating unix
</I>&gt;<i>  unix {
</I>&gt;<i>       radwtmp = &quot;/var/log/radius/radwtmp&quot;
</I>&gt;<i>  }
</I>&gt;<i>  Module: Linked to module rlm_eap
</I>&gt;<i>  Module: Instantiating eap
</I>&gt;<i>  eap {
</I>&gt;<i>       default_eap_type = &quot;md5&quot;
</I>&gt;<i>       timer_expire = 60
</I>&gt;<i>       ignore_unknown_eap_types = no
</I>&gt;<i>       cisco_accounting_username_bug = no
</I>&gt;<i>       max_sessions = 2048
</I>&gt;<i>  }
</I>&gt;<i>  Module: Linked to sub-module rlm_eap_md5
</I>&gt;<i>  Module: Instantiating eap-md5
</I>&gt;<i>  Module: Linked to sub-module rlm_eap_leap
</I>&gt;<i>  Module: Instantiating eap-leap
</I>&gt;<i>  Module: Linked to sub-module rlm_eap_gtc
</I>&gt;<i>  Module: Instantiating eap-gtc
</I>&gt;<i>  gtc {
</I>&gt;<i>       challenge = &quot;Password: &quot;
</I>&gt;<i>       auth_type = &quot;PAP&quot;
</I>&gt;<i>  }
</I>&gt;<i>  Module: Linked to sub-module rlm_eap_tls
</I>&gt;<i>  Module: Instantiating eap-tls
</I>&gt;<i>  tls {
</I>&gt;<i>       rsa_key_exchange = no
</I>&gt;<i>       dh_key_exchange = yes
</I>&gt;<i>       rsa_key_length = 512
</I>&gt;<i>       dh_key_length = 512
</I>&gt;<i>       verify_depth = 0
</I>&gt;<i>       pem_file_type = yes
</I>&gt;<i>       private_key_file = &quot;/etc/raddb/certs/server.pem&quot;
</I>&gt;<i>       certificate_file = &quot;/etc/raddb/certs/server.pem&quot;
</I>&gt;<i>       CA_file = &quot;/etc/raddb/certs/ca.pem&quot;
</I>&gt;<i>       private_key_password = &quot;whatever&quot;
</I>&gt;<i>       dh_file = &quot;/etc/raddb/certs/dh&quot;
</I>&gt;<i>       random_file = &quot;/etc/raddb/certs/random&quot;
</I>&gt;<i>       fragment_size = 1024
</I>&gt;<i>       include_length = yes
</I>&gt;<i>       check_crl = no
</I>&gt;<i>       cipher_list = &quot;DEFAULT&quot;
</I>&gt;<i>       make_cert_command = &quot;/etc/raddb/certs/bootstrap&quot;
</I>&gt;<i>   cache {
</I>&gt;<i>       enable = no
</I>&gt;<i>       lifetime = 24
</I>&gt;<i>       max_entries = 255
</I>&gt;<i>   }
</I>&gt;<i>  }
</I>&gt;<i>  Module: Linked to sub-module rlm_eap_ttls
</I>&gt;<i>  Module: Instantiating eap-ttls
</I>&gt;<i>  ttls {
</I>&gt;<i>       default_eap_type = &quot;md5&quot;
</I>&gt;<i>       copy_request_to_tunnel = no
</I>&gt;<i>       use_tunneled_reply = no
</I>&gt;<i>       virtual_server = &quot;inner-tunnel&quot;
</I>&gt;<i>  }
</I>&gt;<i>  Module: Linked to sub-module rlm_eap_peap
</I>&gt;<i>  Module: Instantiating eap-peap
</I>&gt;<i>  peap {
</I>&gt;<i>       default_eap_type = &quot;mschapv2&quot;
</I>&gt;<i>       copy_request_to_tunnel = no
</I>&gt;<i>       use_tunneled_reply = no
</I>&gt;<i>       proxy_tunneled_request_as_eap = yes
</I>&gt;<i>       virtual_server = &quot;inner-tunnel&quot;
</I>&gt;<i>  }
</I>&gt;<i>  Module: Linked to sub-module rlm_eap_mschapv2
</I>&gt;<i>  Module: Instantiating eap-mschapv2
</I>&gt;<i>  mschapv2 {
</I>&gt;<i>       with_ntdomain_hack = no
</I>&gt;<i>  }
</I>&gt;<i>  Module: Checking authorize {...} for more modules to load
</I>&gt;<i>  Module: Linked to module rlm_realm
</I>&gt;<i>  Module: Instantiating suffix
</I>&gt;<i>  realm suffix {
</I>&gt;<i>       format = &quot;suffix&quot;
</I>&gt;<i>       delimiter = &quot;@&quot;
</I>&gt;<i>       ignore_default = no
</I>&gt;<i>       ignore_null = no
</I>&gt;<i>  }
</I>&gt;<i>  Module: Linked to module rlm_files
</I>&gt;<i>  Module: Instantiating files
</I>&gt;<i>  files {
</I>&gt;<i>       usersfile = &quot;/etc/raddb/users&quot;
</I>&gt;<i>       acctusersfile = &quot;/etc/raddb/acct_users&quot;
</I>&gt;<i>       preproxy_usersfile = &quot;/etc/raddb/preproxy_users&quot;
</I>&gt;<i>       compat = &quot;no&quot;
</I>&gt;<i>  }
</I>&gt;<i>  Module: Checking session {...} for more modules to load
</I>&gt;<i>  Module: Linked to module rlm_radutmp
</I>&gt;<i>  Module: Instantiating radutmp
</I>&gt;<i>  radutmp {
</I>&gt;<i>       filename = &quot;/var/log/radius/radutmp&quot;
</I>&gt;<i>       username = &quot;%{User-Name}&quot;
</I>&gt;<i>       case_sensitive = yes
</I>&gt;<i>       check_with_nas = yes
</I>&gt;<i>       perm = 384
</I>&gt;<i>       callerid = yes
</I>&gt;<i>  }
</I>&gt;<i>  Module: Checking post-proxy {...} for more modules to load
</I>&gt;<i>  Module: Checking post-auth {...} for more modules to load
</I>&gt;<i>  Module: Linked to module rlm_attr_filter
</I>&gt;<i>  Module: Instantiating attr_filter.access_reject
</I>&gt;<i>  attr_filter attr_filter.access_reject {
</I>&gt;<i>       attrsfile = &quot;/etc/raddb/attrs.access_reject&quot;
</I>&gt;<i>       key = &quot;%{User-Name}&quot;
</I>&gt;<i>  }
</I>&gt;<i>  }
</I>&gt;<i> }
</I>&gt;<i>  modules {
</I>&gt;<i>  Module: Checking authenticate {...} for more modules to load
</I>&gt;<i>  Module: Checking authorize {...} for more modules to load
</I>&gt;<i>  Module: Linked to module rlm_preprocess
</I>&gt;<i>  Module: Instantiating preprocess
</I>&gt;<i>  preprocess {
</I>&gt;<i>       huntgroups = &quot;/etc/raddb/huntgroups&quot;
</I>&gt;<i>       hints = &quot;/etc/raddb/hints&quot;
</I>&gt;<i>       with_ascend_hack = no
</I>&gt;<i>       ascend_channels_per_line = 23
</I>&gt;<i>       with_ntdomain_hack = no
</I>&gt;<i>       with_specialix_jetstream_hack = no
</I>&gt;<i>       with_cisco_vsa_hack = no
</I>&gt;<i>       with_alvarion_vsa_hack = no
</I>&gt;<i>  }
</I>&gt;<i>  Module: Checking preacct {...} for more modules to load
</I>&gt;<i>  Module: Linked to module rlm_acct_unique
</I>&gt;<i>  Module: Instantiating acct_unique
</I>&gt;<i>  acct_unique {
</I>&gt;<i>       key = &quot;User-Name, Acct-Session-Id, NAS-IP-Address,
</I>&gt;<i> Client-IP-Address, NAS-Port&quot;
</I>&gt;<i>  }
</I>&gt;<i>  Module: Checking accounting {...} for more modules to load
</I>&gt;<i>  Module: Linked to module rlm_detail
</I>&gt;<i>  Module: Instantiating detail
</I>&gt;<i>  detail {
</I>&gt;<i>       detailfile =
</I>&gt;<i> &quot;/var/log/radius/radacct/%{Client-IP-Address}/detail-%Y%m%d&quot;
</I>&gt;<i>       header = &quot;%t&quot;
</I>&gt;<i>       detailperm = 384
</I>&gt;<i>       dirperm = 493
</I>&gt;<i>       locking = no
</I>&gt;<i>       log_packet_header = no
</I>&gt;<i>  }
</I>&gt;<i>  Module: Instantiating attr_filter.accounting_response
</I>&gt;<i>  attr_filter attr_filter.accounting_response {
</I>&gt;<i>       attrsfile = &quot;/etc/raddb/attrs.accounting_response&quot;
</I>&gt;<i>       key = &quot;%{User-Name}&quot;
</I>&gt;<i>  }
</I>&gt;<i>  Module: Checking session {...} for more modules to load
</I>&gt;<i>  Module: Checking post-proxy {...} for more modules to load
</I>&gt;<i>  Module: Checking post-auth {...} for more modules to load
</I>&gt;<i>  }
</I>&gt;<i> radiusd: #### Opening IP addresses and Ports ####
</I>&gt;<i> listen {
</I>&gt;<i>       type = &quot;auth&quot;
</I>&gt;<i>       ipaddr = 172.18.3.52
</I>&gt;<i>       port = 1645
</I>&gt;<i> }
</I>&gt;<i> listen {
</I>&gt;<i>       type = &quot;acct&quot;
</I>&gt;<i>       ipaddr = 172.18.3.52
</I>&gt;<i>       port = 1646
</I>&gt;<i> }
</I>&gt;<i> Listening on authentication address 172.18.3.52 port 1645
</I>&gt;<i> Listening on accounting address 172.18.3.52 port 1646
</I>&gt;<i> Listening on proxy address 172.18.3.52 port 1647
</I>&gt;<i> Ready to process requests.
</I>&gt;<i> rad_recv: Access-Request packet from host 172.18.3.52 port 32957,
</I>&gt;<i> id=237, length=247
</I>&gt;<i>       User-Name = &quot;172.18.3.52&quot;
</I>&gt;<i>       User-Password = &quot;cisco&quot;
</I>&gt;<i>       Calling-Station-Id = &quot;alice&quot;
</I>&gt;<i>       Called-Station-Id = &quot;bob&quot;
</I>&gt;<i>       h323-conf-id = &quot;h323-conf-id=B8377C92 DF6642BB 25A7C3A3 D4E529CE&quot;
</I>&gt;<i>       Cisco-AVPair = &quot;call-id=<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>&quot;
</I>&gt;<i>       h323-remote-address = &quot;h323-remote-address=172.18.3.52&quot;
</I>&gt;<i>       Cisco-AVPair = &quot;h323-session-protocol=sipv2&quot;
</I>&gt;<i>       NAS-Port = 5060
</I>&gt;<i>       NAS-IP-Address = 172.18.3.52
</I>&gt;<i> +- entering group authorize {...}
</I>&gt;<i> ++[preprocess] returns ok
</I>&gt;<i> ++[chap] returns noop
</I>&gt;<i> ++[mschap] returns noop
</I>&gt;<i> [suffix] No '@' in User-Name = &quot;172.18.3.52&quot;, looking up realm NULL
</I>&gt;<i> [suffix] No such realm &quot;NULL&quot;
</I>&gt;<i> ++[suffix] returns noop
</I>&gt;<i> [eap] No EAP-Message, not doing EAP
</I>&gt;<i> ++[eap] returns noop
</I>&gt;<i> ++[unix] returns notfound
</I>&gt;<i> [files] users: Matched entry 172.18.3.52 at line 92
</I>&gt;<i> ++[files] returns ok
</I>&gt;<i> ++[expiration] returns noop
</I>&gt;<i> ++[logintime] returns noop
</I>&gt;<i> ++[pap] returns updated
</I>&gt;<i> Found Auth-Type = PAP
</I>&gt;<i> +- entering group PAP {...}
</I>&gt;<i> [pap] login attempt with password &quot;cisco&quot;
</I>&gt;<i> [pap] Using clear text password &quot;cisco&quot;
</I>&gt;<i> [pap] User authenticated successfully
</I>&gt;<i> ++[pap] returns ok
</I>&gt;<i> +- entering group post-auth {...}
</I>&gt;<i> ++[exec] returns noop
</I>&gt;<i> Sending Access-Accept of id 237 to 172.18.3.52 port 32957
</I>&gt;<i> Finished request 0.
</I>&gt;<i> Going to the next request
</I>&gt;<i> Waking up in 4.9 seconds.
</I>&gt;<i> rad_recv: Accounting-Request packet from host 172.18.3.52 port 32958,
</I>&gt;<i> id=238, length=540
</I>&gt;<i>       h323-call-origin = &quot;h323-call-origin=answer&quot;
</I>&gt;<i>       h323-call-type = &quot;h323-call-type=VoIP&quot;
</I>&gt;<i>       Cisco-AVPair = &quot;h323-session-protocol=sipv2&quot;
</I>&gt;<i>       h323-setup-time = &quot;h323-setup-time=10:33:13.000 GMT Wed Jan 14 2009&quot;
</I>&gt;<i>       User-Name = &quot;172.18.3.52&quot;
</I>&gt;<i>       Calling-Station-Id = &quot;alice&quot;
</I>&gt;<i>       Called-Station-Id = &quot;bob&quot;
</I>&gt;<i>       h323-conf-id = &quot;h323-conf-id=B8377C92 DF6642BB 25A7C3A3 D4E529CE&quot;
</I>&gt;<i>       Cisco-AVPair = &quot;call-id=<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>&quot;
</I>&gt;<i>       Acct-Session-Id = &quot;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>&quot;
</I>&gt;<i>       h323-remote-address = &quot;h323-remote-address=172.18.3.52&quot;
</I>&gt;<i>       h323-disconnect-time = &quot;h323-disconnect-time=10:33:13.000 GMT
</I>&gt;<i> Wed Jan 14 2009&quot;
</I>&gt;<i>       h323-connect-time = &quot;h323-connect-time=10:33:13.000 GMT Wed Jan 14 2009&quot;
</I>&gt;<i>       Acct-Session-Time = 0
</I>&gt;<i>       h323-disconnect-cause = &quot;h323-disconnect-cause=29&quot;
</I>&gt;<i>       Acct-Status-Type = Stop
</I>&gt;<i>       NAS-Port = 5060
</I>&gt;<i>       Acct-Delay-Time = 0
</I>&gt;<i>       NAS-IP-Address = 172.18.3.52
</I>&gt;<i> +- entering group preacct {...}
</I>&gt;<i> ++[preprocess] returns ok
</I>&gt;<i> [acct_unique] Hashing 'NAS-Port = 5060,Client-IP-Address =
</I>&gt;<i> 172.18.3.52,NAS-IP-Address = 172.18.3.52,Acct-Session-Id =
</I>&gt;<i> &quot;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>&quot;,User-Name = &quot;172.18.3.52&quot;'
</I>&gt;<i> [acct_unique] Acct-Unique-Session-ID = &quot;547b4ecb37f1696c&quot;.
</I>&gt;<i> ++[acct_unique] returns ok
</I>&gt;<i> [suffix] No '@' in User-Name = &quot;172.18.3.52&quot;, looking up realm NULL
</I>&gt;<i> [suffix] No such realm &quot;NULL&quot;
</I>&gt;<i> ++[suffix] returns noop
</I>&gt;<i> ++[files] returns noop
</I>&gt;<i> +- entering group accounting {...}
</I>&gt;<i> [detail]        expand:
</I>&gt;<i> /var/log/radius/radacct/%{Client-IP-Address}/detail-%Y%m%d -&gt;
</I>&gt;<i> /var/log/radius/radacct/172.18.3.52/detail-20090114
</I>&gt;<i> [detail] /var/log/radius/radacct/%{Client-IP-Address}/detail-%Y%m%d
</I>&gt;<i> expands to /var/log/radius/radacct/172.18.3.52/detail-20090114
</I>&gt;<i> [detail]        expand: %t -&gt; Wed Jan 14 16:03:13 2009
</I>&gt;<i> ++[detail] returns ok
</I>&gt;<i> ++[unix] returns ok
</I>&gt;<i> [radutmp]       expand: /var/log/radius/radutmp -&gt; /var/log/radius/radutmp
</I>&gt;<i> [radutmp]       expand: %{User-Name} -&gt; 172.18.3.52
</I>&gt;<i> rlm_radutmp: Logout for NAS local port 5060, but no Login record
</I>&gt;<i> ++[radutmp] returns ok
</I>&gt;<i> [attr_filter.accounting_response]       expand: %{User-Name} -&gt; 172.18.3.52
</I>&gt;<i>  attr_filter: Matched entry DEFAULT at line 12
</I>&gt;<i> ++[attr_filter.accounting_response] returns updated
</I>&gt;<i> Sending Accounting-Response of id 238 to 172.18.3.52 port 32958
</I>&gt;<i> Finished request 1.
</I>&gt;<i> Cleaning up request 1 ID 238 with timestamp +54
</I>&gt;<i> Going to the next request
</I>&gt;<i> Waking up in 4.9 seconds.
</I>&gt;<i> rad_recv: Access-Request packet from host 172.18.3.52 port 32959,
</I>&gt;<i> id=239, length=247
</I>&gt;<i>       User-Name = &quot;172.18.3.52&quot;
</I>&gt;<i>       User-Password = &quot;cisco&quot;
</I>&gt;<i>       Calling-Station-Id = &quot;alice&quot;
</I>&gt;<i>       Called-Station-Id = &quot;bob&quot;
</I>&gt;<i>       h323-conf-id = &quot;h323-conf-id=7EAC4F20 651D23F0 75C1FFA6 E6EE4BFA&quot;
</I>&gt;<i>       Cisco-AVPair = &quot;call-id=<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>&quot;
</I>&gt;<i>       h323-remote-address = &quot;h323-remote-address=172.18.3.52&quot;
</I>&gt;<i>       Cisco-AVPair = &quot;h323-session-protocol=sipv2&quot;
</I>&gt;<i>       NAS-Port = 5060
</I>&gt;<i>       NAS-IP-Address = 172.18.3.52
</I>&gt;<i> +- entering group authorize {...}
</I>&gt;<i> ++[preprocess] returns ok
</I>&gt;<i> ++[chap] returns noop
</I>&gt;<i> ++[mschap] returns noop
</I>&gt;<i> [suffix] No '@' in User-Name = &quot;172.18.3.52&quot;, looking up realm NULL
</I>&gt;<i> [suffix] No such realm &quot;NULL&quot;
</I>&gt;<i> ++[suffix] returns noop
</I>&gt;<i> [eap] No EAP-Message, not doing EAP
</I>&gt;<i> ++[eap] returns noop
</I>&gt;<i> ++[unix] returns notfound
</I>&gt;<i> [files] users: Matched entry 172.18.3.52 at line 92
</I>&gt;<i> ++[files] returns ok
</I>&gt;<i> ++[expiration] returns noop
</I>&gt;<i> ++[logintime] returns noop
</I>&gt;<i> ++[pap] returns updated
</I>&gt;<i> Found Auth-Type = PAP
</I>&gt;<i> +- entering group PAP {...}
</I>&gt;<i> [pap] login attempt with password &quot;cisco&quot;
</I>&gt;<i> [pap] Using clear text password &quot;cisco&quot;
</I>&gt;<i> [pap] User authenticated successfully
</I>&gt;<i> ++[pap] returns ok
</I>&gt;<i> +- entering group post-auth {...}
</I>&gt;<i> ++[exec] returns noop
</I>&gt;<i> Sending Access-Accept of id 239 to 172.18.3.52 port 32959
</I>&gt;<i> Finished request 2.
</I>&gt;<i> Going to the next request
</I>&gt;<i> Waking up in 4.9 seconds.
</I>&gt;<i> rad_recv: Accounting-Request packet from host 172.18.3.52 port 32960,
</I>&gt;<i> id=240, length=540
</I>&gt;<i>       h323-call-origin = &quot;h323-call-origin=answer&quot;
</I>&gt;<i>       h323-call-type = &quot;h323-call-type=VoIP&quot;
</I>&gt;<i>       Cisco-AVPair = &quot;h323-session-protocol=sipv2&quot;
</I>&gt;<i>       h323-setup-time = &quot;h323-setup-time=10:33:13.000 GMT Wed Jan 14 2009&quot;
</I>&gt;<i>       User-Name = &quot;172.18.3.52&quot;
</I>&gt;<i>       Calling-Station-Id = &quot;alice&quot;
</I>&gt;<i>       Called-Station-Id = &quot;bob&quot;
</I>&gt;<i>       h323-conf-id = &quot;h323-conf-id=7EAC4F20 651D23F0 75C1FFA6 E6EE4BFA&quot;
</I>&gt;<i>       Cisco-AVPair = &quot;call-id=<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>&quot;
</I>&gt;<i>       Acct-Session-Id = &quot;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>&quot;
</I>&gt;<i>       h323-remote-address = &quot;h323-remote-address=172.18.3.52&quot;
</I>&gt;<i>       h323-disconnect-time = &quot;h323-disconnect-time=10:33:13.000 GMT
</I>&gt;<i> Wed Jan 14 2009&quot;
</I>&gt;<i>       h323-connect-time = &quot;h323-connect-time=10:33:13.000 GMT Wed Jan 14 2009&quot;
</I>&gt;<i>       Acct-Session-Time = 0
</I>&gt;<i>       h323-disconnect-cause = &quot;h323-disconnect-cause=29&quot;
</I>&gt;<i>       Acct-Status-Type = Stop
</I>&gt;<i>       NAS-Port = 5060
</I>&gt;<i>       Acct-Delay-Time = 0
</I>&gt;<i>       NAS-IP-Address = 172.18.3.52
</I>&gt;<i> +- entering group preacct {...}
</I>&gt;<i> ++[preprocess] returns ok
</I>&gt;<i> [acct_unique] Hashing 'NAS-Port = 5060,Client-IP-Address =
</I>&gt;<i> 172.18.3.52,NAS-IP-Address = 172.18.3.52,Acct-Session-Id =
</I>&gt;<i> &quot;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">1231924661763 at 172.18.1.197</A>&quot;,User-Name = &quot;172.18.3.52&quot;'
</I>&gt;<i> [acct_unique] Acct-Unique-Session-ID = &quot;547b4ecb37f1696c&quot;.
</I>&gt;<i> ++[acct_unique] returns ok
</I>&gt;<i> [suffix] No '@' in User-Name = &quot;172.18.3.52&quot;, looking up realm NULL
</I>&gt;<i> [suffix] No such realm &quot;NULL&quot;
</I>&gt;<i> ++[suffix] returns noop
</I>&gt;<i> ++[files] returns noop
</I>&gt;<i> +- entering group accounting {...}
</I>&gt;<i> [detail]        expand:
</I>&gt;<i> /var/log/radius/radacct/%{Client-IP-Address}/detail-%Y%m%d -&gt;
</I>&gt;<i> /var/log/radius/radacct/172.18.3.52/detail-20090114
</I>&gt;<i> [detail] /var/log/radius/radacct/%{Client-IP-Address}/detail-%Y%m%d
</I>&gt;<i> expands to /var/log/radius/radacct/172.18.3.52/detail-20090114
</I>&gt;<i> [detail]        expand: %t -&gt; Wed Jan 14 16:03:13 2009
</I>&gt;<i> ++[detail] returns ok
</I>&gt;<i> ++[unix] returns ok
</I>&gt;<i> [radutmp]       expand: /var/log/radius/radutmp -&gt; /var/log/radius/radutmp
</I>&gt;<i> [radutmp]       expand: %{User-Name} -&gt; 172.18.3.52
</I>&gt;<i> rlm_radutmp: Logout for NAS local port 5060, but no Login record
</I>&gt;<i> ++[radutmp] returns ok
</I>&gt;<i> [attr_filter.accounting_response]       expand: %{User-Name} -&gt; 172.18.3.52
</I>&gt;<i>  attr_filter: Matched entry DEFAULT at line 12
</I>&gt;<i> ++[attr_filter.accounting_response] returns updated
</I>&gt;<i> Sending Accounting-Response of id 240 to 172.18.3.52 port 32960
</I>&gt;<i> Finished request 3.
</I>&gt;<i> Cleaning up request 3 ID 240 with timestamp +54
</I>&gt;<i> Going to the next request
</I>&gt;<i> Waking up in 4.8 seconds.
</I>&gt;<i> Cleaning up request 0 ID 237 with timestamp +54
</I>&gt;<i> Cleaning up request 2 ID 239 with timestamp +54
</I>&gt;<i> Ready to process requests.
</I>&gt;<i>   
</I>

-- 
-----------------------------------------
Dipl. Eng. Dragos Vingarzan
Fraunhofer FOKUS/NGNI
Kaiserin-Augusta-Allee 31
10589 Berlin,Germany
Phone +49 (0)30 - 3463 - 7385
Mobile +49 (0)176 - 48 32 16 00
Web www.fokus.fraunhofer.de www.openimscore.org
We could change the world if God would give us the source code...
-----------------------------------------------------------------


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005015.html">[OpenIMSCore-Users] Regarding ims qos
</A></li>
	<LI>Next message: <A HREF="005021.html">[OpenIMSCore-Users] query &amp; Regarding ims qos
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5016">[ date ]</a>
              <a href="thread.html#5016">[ thread ]</a>
              <a href="subject.html#5016">[ subject ]</a>
              <a href="author.html#5016">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
