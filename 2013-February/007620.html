<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] Help regarding OpenIMS core Authentication
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2013-February/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Help%20regarding%20OpenIMS%20core%20Authentication&In-Reply-To=%3C012601ce0ba2%24f0299eb0%24d07cdc10%24%40technikum-wien.at%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007619.html">
   <LINK REL="Next"  HREF="007624.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] Help regarding OpenIMS core Authentication</H1>
    <B>Franz Edler</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Help%20regarding%20OpenIMS%20core%20Authentication&In-Reply-To=%3C012601ce0ba2%24f0299eb0%24d07cdc10%24%40technikum-wien.at%3E"
       TITLE="[OpenIMSCore-Users] Help regarding OpenIMS core Authentication">franz.edler at technikum-wien.at
       </A><BR>
    <I>Fri Feb 15 18:36:07 CET 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="007619.html">[OpenIMSCore-Users] Help regarding OpenIMS core Authentication
</A></li>
        <LI>Next message: <A HREF="007624.html">[OpenIMSCore-Users] Help regarding OpenIMS core Authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7620">[ date ]</a>
              <a href="thread.html#7620">[ thread ]</a>
              <a href="subject.html#7620">[ subject ]</a>
              <a href="author.html#7620">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

 

the logfile clearly shows the problem: there is a password mismatch. See the
lines like

                DBG:S-CSCF:S_is_authorized: UE said:
fec3e0d3621d521d0f37d1efdccaf3e3, but we have bob and expect
9c4db787e099c533fb83fb24576a5cec

 

There is no place wher the logfiles are saved. You have to do it yourself by
diverting the log using a pipe or the tee command.

I use the log feature of PUTTY on my notebook for this.

 

BR Franz

 

 

From: Usman Akram [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">muhammadusmanakram at gmail.com</A>] 
Sent: Friday, February 15, 2013 3:59 PM
To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz.edler at technikum-wien.at</A>
Cc: muzammil aziz; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Subject: Re: Help regarding OpenIMS core Authentication

 

Thanks for the comment.

I have attached this time the s-cscf log for your reference.

DO you know the place where this scscf/pcscf/icscf log files are actually
saved/stored in computer.

I have copied the current log from the console which disappears after some
time.

Thanks

BR

UA

 

On Thu, Feb 14, 2013 at 9:38 PM, Franz Edler &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz.edler at technikum-wien.at</A>&gt;
wrote:

But you did not attach the log of s-cscf console. This is the node where
authentication is executed.

Perhaps you should increase debug level (from 3 to 4) to get mor
information.

 

BR franz

 

From: Usman Akram [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">muhammadusmanakram at gmail.com</A>] 
Sent: Thursday, February 14, 2013 9:13 PM
To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz.edler at technikum-wien.at</A>
Cc: muzammil aziz; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Subject: Fwd: Help regarding OpenIMS core Authentication

 

On the S-cscf i didn't see any message showing any problem.... I have
attached some more material may be it will help you more in getting
understanding of problem 

In case you need some more data for analysis then feel free to write me

Thanks

****************************************************************************
****
Hi All,

I have now set the Md5 authentication in scscf file. thanks for the hint.
Let me write you in more detail.
I am sending first a register request to OpenIMS Core from my IMS client,
you can see the first message below, After that I will recieve a response
message (401-Unauthorized) from the OpenIMS Core and then I will send again
my new register message including authentication header ( nonce, response,
qop, etc.) you can see the third message highlighted in blue..... BUT Still
I get again an 401 unauthorized message. In short it is doing
 Register (request) ----------- 401 unauthorized (even after adding
authentication header)

Could you please help me with this troubleshoot what actually be the missing
thing in the Register request header which is missing in my case or how can
i check that what actually field in the register header is missing..... For
your necessary consideration I have also attached the message log.


REGISTER sip:open-ims.test SIP/2.0
Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">807612daa0f06f049c1ac149be40c594 at 10.0.2.15</A>
CSeq: 1 REGISTER
From: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=12345
To: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;
Via: SIP/2.0/UDP
10.0.2.15:5070;branch=z9hG4bKf062a3c540dc823998140737594aec433232
Max-Forwards: 70
Contact: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at 10.0.2.15</A>:5070&gt;
My-Header: my header value
My-Other-Header: my new header value
Call-Info: &lt;<A HREF="http://www.antd.nist.gov">http://www.antd.nist.gov</A>&gt;
Authorization: Digest
username=&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&quot;,realm=&quot;open-ims.test&quot;,nonce=&quot;&quot;,uri=&quot;sip:open-im
s.test&quot;,response=&quot;&quot;
Content-Length: 0
----------------------------------------------------------------------------
---------------
Complete Response:
SIP/2.0 401 Unauthorized - Challenging the UE
Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">807612daa0f06f049c1ac149be40c594 at 10.0.2.15</A>
CSeq: 1 REGISTER
From: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=12345
To: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=9fec65ff3c1c9a9afb9b3ba8dbaeadc8-5295
Via: SIP/2.0/UDP
10.0.2.15:5070;received=137.226.232.101;rport=3437;branch=z9hG4bKf062a3c540d
c823998140737594aec433232
Path: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">term at pcscf.open-ims.test</A>:4060;lr&gt;
Service-Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">orig at scscf.open-ims.test</A>:6060;lr&gt;
Allow:
INVITE,ACK,CANCEL,OPTIONS,BYE,REFER,SUBSCRIBE,NOTIFY,PUBLISH,MESSAGE,INFO
Server: Sip EXpress router (2.1.0-dev1 OpenIMSCore (i386/linux))
Warning: 392 137.226.232.128:6060 &quot;Noisy feedback tells:  pid=4096
req_src_ip=137.226.232.128 req_src_port=5060
in_uri=sip:scscf.open-ims.test:6060 out_uri=sip:scscf.open-ims.test:6060
via_cnt==3&quot;
WWW-Authenticate: Digest
realm=&quot;open-ims.test&quot;,nonce=&quot;0583038f26e9b6855c2eb266c6fcc533&quot;,algorithm=MD5
,qop=&quot;auth,auth-int&quot;
Content-Length: 0
----------------------------------------------------------------------------
---------------
New WWW Authentication-MESSAGE: [My new message after i recieve a Challange
message from OpenIMS Core]
REGISTER sip:open-ims.test SIP/2.0
Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">807612daa0f06f049c1ac149be40c594 at 10.0.2.15</A>
CSeq: 1 REGISTER
From: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=12345
To: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;
Via: SIP/2.0/UDP 10.0.2.15:5070
Max-Forwards: 70
Content-Length: 0
Authorization: Digest
username=&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&quot;,realm=&quot;open-ims.test&quot;,nonce=&quot;0583038f26e9b6855c
2eb266c6fcc533&quot;,uri=&quot;sip:open-ims.test&quot;,response=&quot;de6f8198cfefc78caf93518a9b
d46989&quot;,algorithm=MD5,qop=auth,auth-int
Authentication Function executed

Thanks

Best regards,

Usman Akram

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20130215/6b8dcd72/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20130215/6b8dcd72/attachment.html</A>&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007619.html">[OpenIMSCore-Users] Help regarding OpenIMS core Authentication
</A></li>
	<LI>Next message: <A HREF="007624.html">[OpenIMSCore-Users] Help regarding OpenIMS core Authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7620">[ date ]</a>
              <a href="thread.html#7620">[ thread ]</a>
              <a href="subject.html#7620">[ subject ]</a>
              <a href="author.html#7620">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
