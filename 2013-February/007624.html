<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] Help regarding OpenIMS core Authentication
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2013-February/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Help%20regarding%20OpenIMS%20core%20Authentication&In-Reply-To=%3CCALxVSSQ8jap2TCj9SG9r%3DU8HMN-UHcM6vk8DGmpGz_BOnbA-qA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007620.html">
   <LINK REL="Next"  HREF="007625.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] Help regarding OpenIMS core Authentication</H1>
    <B>Usman Akram</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Help%20regarding%20OpenIMS%20core%20Authentication&In-Reply-To=%3CCALxVSSQ8jap2TCj9SG9r%3DU8HMN-UHcM6vk8DGmpGz_BOnbA-qA%40mail.gmail.com%3E"
       TITLE="[OpenIMSCore-Users] Help regarding OpenIMS core Authentication">muhammadusmanakram at gmail.com
       </A><BR>
    <I>Mon Feb 18 12:33:53 CET 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="007620.html">[OpenIMSCore-Users] Help regarding OpenIMS core Authentication
</A></li>
        <LI>Next message: <A HREF="007625.html">[OpenIMSCore-Users] Help regarding OpenIMS core Authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7624">[ date ]</a>
              <a href="thread.html#7624">[ thread ]</a>
              <a href="subject.html#7624">[ subject ]</a>
              <a href="author.html#7624">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Franz,
Thanks for your reply. It helped.

One next question about Open IMS Core,
1.  how the QoS negotiation is carried out and how can we play with
policies in PCRF modules
2. uct ims client includes some QoS header in SIP request whenever try to
access to a service via PCRF (e.g. bob demand for a service to activate
with a certain quality, how this can work or been used in openims?)

Best regards,
Usman


On Fri, Feb 15, 2013 at 6:36 PM, Franz Edler
&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz.edler at technikum-wien.at</A>&gt;wrote:

&gt;<i> Hi,****
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i> the logfile clearly shows the problem: there is a password mismatch. See
</I>&gt;<i> the lines like****
</I>&gt;<i>
</I>&gt;<i>                 DBG:S-CSCF:S_is_authorized: UE said:
</I>&gt;<i> fec3e0d3621d521d0f37d1efdccaf3e3, but we have bob and expect
</I>&gt;<i> 9c4db787e099c533fb83fb24576a5cec****
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i> There is no place wher the logfiles are saved. You have to do it yourself
</I>&gt;<i> by diverting the log using a pipe or the tee command.****
</I>&gt;<i>
</I>&gt;<i> I use the log feature of PUTTY on my notebook for this.****
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i> BR Franz****
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i> *From:* Usman Akram [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">muhammadusmanakram at gmail.com</A>]
</I>&gt;<i> *Sent:* Friday, February 15, 2013 3:59 PM
</I>&gt;<i>
</I>&gt;<i> *To:* <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz.edler at technikum-wien.at</A>
</I>&gt;<i> *Cc:* muzammil aziz; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;<i> *Subject:* Re: Help regarding OpenIMS core Authentication****
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i> Thanks for the comment.****
</I>&gt;<i>
</I>&gt;<i> I have attached this time the s-cscf log for your reference.****
</I>&gt;<i>
</I>&gt;<i> DO you know the place where this scscf/pcscf/icscf log files are actually
</I>&gt;<i> saved/stored in computer.****
</I>&gt;<i>
</I>&gt;<i> I have copied the current log from the console which disappears after some
</I>&gt;<i> time.****
</I>&gt;<i>
</I>&gt;<i> Thanks****
</I>&gt;<i>
</I>&gt;<i> BR****
</I>&gt;<i>
</I>&gt;<i> UA****
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i> On Thu, Feb 14, 2013 at 9:38 PM, Franz Edler &lt;
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz.edler at technikum-wien.at</A>&gt; wrote:****
</I>&gt;<i>
</I>&gt;<i> But you did not attach the log of s-cscf console. This is the node where
</I>&gt;<i> authentication is executed.****
</I>&gt;<i>
</I>&gt;<i> Perhaps you should increase debug level (from 3 to 4) to get mor
</I>&gt;<i> information.****
</I>&gt;<i>
</I>&gt;<i>  ****
</I>&gt;<i>
</I>&gt;<i> BR franz****
</I>&gt;<i>
</I>&gt;<i>  ****
</I>&gt;<i>
</I>&gt;<i> *From:* Usman Akram [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">muhammadusmanakram at gmail.com</A>]
</I>&gt;<i> *Sent:* Thursday, February 14, 2013 9:13 PM
</I>&gt;<i> *To:* <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz.edler at technikum-wien.at</A>
</I>&gt;<i> *Cc:* muzammil aziz; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;<i> *Subject:* Fwd: Help regarding OpenIMS core Authentication****
</I>&gt;<i>
</I>&gt;<i>  ****
</I>&gt;<i>
</I>&gt;<i> On the S-cscf i didn't see any message showing any problem.... I have
</I>&gt;<i> attached some more material may be it will help you more in getting
</I>&gt;<i> understanding of problem ****
</I>&gt;<i>
</I>&gt;<i> In case you need some more data for analysis then feel free to write me***
</I>&gt;<i> *
</I>&gt;<i>
</I>&gt;<i> Thanks****
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ********************************************************************************
</I>&gt;<i> Hi All,
</I>&gt;<i>
</I>&gt;<i> I have now set the Md5 authentication in scscf file. thanks for the hint.
</I>&gt;<i> Let me write you in more detail.
</I>&gt;<i> I am sending first a register request to OpenIMS Core from my IMS client,
</I>&gt;<i> you can see the first message below, After that I will recieve a response
</I>&gt;<i> message (401-Unauthorized) from the OpenIMS Core and then I will send again
</I>&gt;<i> my new register message including authentication header ( nonce, response,
</I>&gt;<i> qop, etc.) you can see the third message highlighted in blue..... BUT Still
</I>&gt;<i> I get again an 401 unauthorized message. In short it is doing
</I>&gt;<i>  Register (request) ----------- 401 unauthorized (even after adding
</I>&gt;<i> authentication header)
</I>&gt;<i>
</I>&gt;<i> Could you please help me with this troubleshoot what actually be the
</I>&gt;<i> missing thing in the Register request header which is missing in my case or
</I>&gt;<i> how can i check that what actually field in the register header is
</I>&gt;<i> missing..... For your necessary consideration I have also attached the
</I>&gt;<i> message log.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> REGISTER sip:open-ims.test SIP/2.0
</I>&gt;<i> Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">807612daa0f06f049c1ac149be40c594 at 10.0.2.15</A>
</I>&gt;<i> CSeq: 1 REGISTER
</I>&gt;<i> From: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=12345
</I>&gt;<i> To: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;
</I>&gt;<i> Via: SIP/2.0/UDP 10.0.2.15:5070
</I>&gt;<i> ;branch=z9hG4bKf062a3c540dc823998140737594aec433232
</I>&gt;<i> Max-Forwards: 70
</I>&gt;<i> Contact: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at 10.0.2.15</A>:5070&gt;
</I>&gt;<i> My-Header: my header value
</I>&gt;<i> My-Other-Header: my new header value
</I>&gt;<i> Call-Info: &lt;<A HREF="http://www.antd.nist.gov">http://www.antd.nist.gov</A>&gt;
</I>&gt;<i> Authorization: Digest username=&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>
</I>&gt;<i> &quot;,realm=&quot;open-ims.test&quot;,nonce=&quot;&quot;,uri=&quot;sip:open-ims.test&quot;,response=&quot;&quot;
</I>&gt;<i> Content-Length: 0
</I>&gt;<i>
</I>&gt;<i> -------------------------------------------------------------------------------------------
</I>&gt;<i> Complete Response:
</I>&gt;<i> SIP/2.0 401 Unauthorized - Challenging the UE
</I>&gt;<i> Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">807612daa0f06f049c1ac149be40c594 at 10.0.2.15</A>
</I>&gt;<i> CSeq: 1 REGISTER
</I>&gt;<i> From: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=12345
</I>&gt;<i> To: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>
</I>&gt;<i> &gt;;tag=9fec65ff3c1c9a9afb9b3ba8dbaeadc8-5295
</I>&gt;<i> Via: SIP/2.0/UDP 10.0.2.15:5070
</I>&gt;<i> ;received=137.226.232.101;rport=3437;branch=z9hG4bKf062a3c540dc823998140737594aec433232
</I>&gt;<i> Path: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">term at pcscf.open-ims.test</A>:4060;lr&gt;
</I>&gt;<i> Service-Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">orig at scscf.open-ims.test</A>:6060;lr&gt;
</I>&gt;<i> Allow:
</I>&gt;<i> INVITE,ACK,CANCEL,OPTIONS,BYE,REFER,SUBSCRIBE,NOTIFY,PUBLISH,MESSAGE,INFO
</I>&gt;<i> Server: Sip EXpress router (2.1.0-dev1 OpenIMSCore (i386/linux))
</I>&gt;<i> Warning: 392 137.226.232.128:6060 &quot;Noisy feedback tells:  pid=4096
</I>&gt;<i> req_src_ip=137.226.232.128 req_src_port=5060
</I>&gt;<i> in_uri=sip:scscf.open-ims.test:6060 out_uri=sip:scscf.open-ims.test:6060
</I>&gt;<i> via_cnt==3&quot;
</I>&gt;<i> WWW-Authenticate: Digest
</I>&gt;<i> realm=&quot;open-ims.test&quot;,nonce=&quot;0583038f26e9b6855c2eb266c6fcc533&quot;,algorithm=MD5,qop=&quot;auth,auth-int&quot;
</I>&gt;<i> Content-Length: 0
</I>&gt;<i>
</I>&gt;<i> -------------------------------------------------------------------------------------------
</I>&gt;<i> New WWW Authentication-MESSAGE: [My new message after i recieve a
</I>&gt;<i> Challange message from OpenIMS Core]
</I>&gt;<i> REGISTER sip:open-ims.test SIP/2.0
</I>&gt;<i> Call-ID: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">807612daa0f06f049c1ac149be40c594 at 10.0.2.15</A>
</I>&gt;<i> CSeq: 1 REGISTER
</I>&gt;<i> From: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;;tag=12345
</I>&gt;<i> To: &quot;bob&quot; &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;
</I>&gt;<i> Via: SIP/2.0/UDP 10.0.2.15:5070
</I>&gt;<i> Max-Forwards: 70
</I>&gt;<i> Content-Length: 0
</I>&gt;<i> Authorization: Digest username=&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>
</I>&gt;<i> &quot;,realm=&quot;open-ims.test&quot;,nonce=&quot;0583038f26e9b6855c2eb266c6fcc533&quot;,uri=&quot;sip:open-ims.test&quot;,response=&quot;de6f8198cfefc78caf93518a9bd46989&quot;,algorithm=MD5,qop=auth,auth-int
</I>&gt;<i> Authentication Function executed
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i>
</I>&gt;<i> Best regards,
</I>&gt;<i>
</I>&gt;<i> Usman Akram****
</I>&gt;<i>
</I>&gt;<i>  ****
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20130218/36d64243/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20130218/36d64243/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007620.html">[OpenIMSCore-Users] Help regarding OpenIMS core Authentication
</A></li>
	<LI>Next message: <A HREF="007625.html">[OpenIMSCore-Users] Help regarding OpenIMS core Authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7624">[ date ]</a>
              <a href="thread.html#7624">[ thread ]</a>
              <a href="subject.html#7624">[ subject ]</a>
              <a href="author.html#7624">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
