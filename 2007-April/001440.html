<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] Subscribe message sent from App Server
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2007-April/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Subscribe%20message%20sent%20from%20App%20Server&In-Reply-To=%3C461B589E.7090601%40fokus.fraunhofer.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001421.html">
   <LINK REL="Next"  HREF="001413.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] Subscribe message sent from App Server</H1>
    <B>Dragos Vingarzan</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Subscribe%20message%20sent%20from%20App%20Server&In-Reply-To=%3C461B589E.7090601%40fokus.fraunhofer.de%3E"
       TITLE="[OpenIMSCore-Users] Subscribe message sent from App Server">vingarzan at fokus.fraunhofer.de
       </A><BR>
    <I>Tue Apr 10 11:27:58 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001421.html">[OpenIMSCore-Users] Subscribe message sent from App Server
</A></li>
        <LI>Next message: <A HREF="001413.html">[OpenIMSCore-Users] FOKUS with seagull: P-CSCF saying not request	not following indicated dialog routes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1440">[ date ]</a>
              <a href="thread.html#1440">[ thread ]</a>
              <a href="subject.html#1440">[ subject ]</a>
              <a href="author.html#1440">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Vijay,

It seems that there is an IFC configured that matches that SUBSCRIBE and
then sends it to the AS. So the behavior is normal. Because the AS does
not answer and the IFC seems to be configured to let the session
continue, then the S-CSCF performs termination and send the request
towards the UE.

Remove the IFC or make it not match this SUBSCRIBE if you want it to be
terminated by the S-CSCF.

-Dragos

Vijay Malani wrote:
&gt;<i>
</I>&gt;<i> The 403 Forbidden was due to my App Server sending IP address of phone
</I>&gt;<i> in the Subscribe Request URI instead of FQDN of phone. That got fixed
</I>&gt;<i> in my App server build. However now I am noticing that when App Server
</I>&gt;<i> sends the Subscribe message to Scscf,  the Scscf is sending the
</I>&gt;<i> Subscribe message back to App server instead of to the registered
</I>&gt;<i> handset. I ran a sipp script simulating my App Server, after a few
</I>&gt;<i> retransmissions of the Subscribe message from the App Server, Open IMS
</I>&gt;<i> finally sends the Subscribe message to the handset. Please help if
</I>&gt;<i> this is my app server problem or a open ims issue.
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> I am attaching the ethereal traces:-
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> asn-subscribe.pcap= trace collected on my app server
</I>&gt;<i>
</I>&gt;<i> sipp-subscribe2.pcap=trace collected on sipp machine simulating app
</I>&gt;<i> server
</I>&gt;<i>
</I>&gt;<i> sipp-subscribe-openims.pcap=trace collected on open ims machine while
</I>&gt;<i> running sipp as app server
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> Vijay
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i>   
</I>&gt;<i>
</I>&gt;<i> *From:* Vijay Malani
</I>&gt;<i> *Sent:* Friday, April 06, 2007 1:29 PM
</I>&gt;<i> *To:* <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;<i> *Subject:* [OpenIMSCore-Users] Subscribe message sent from App Server
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> After successful initial registration of the handset subscriber, the
</I>&gt;<i> handset and App server subscribe to each others Policy events. The
</I>&gt;<i> Subscribe message from handset reaches the App Server, but when the
</I>&gt;<i> App Server is sending Subscribe message, Scscf is rejecting it with
</I>&gt;<i> 403 Forbidden &#8211; &#8220;Dialog Not Found on S-CSCF or Terminating User not
</I>&gt;<i> suiable for unregistered Services.&#8221; Any idea if I need to configure
</I>&gt;<i> anything else on the Scscf to allow the Subscribe message from App
</I>&gt;<i> server reach the client? Ethereal trace is attached.
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> Vijay
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OpenIMSCore-Users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>&gt;<i>   
</I>

-- 
-----------------------------------------
Dipl. Eng. Dragos Vingarzan
FOKUS/NGNI
Kaiserin-Augusta-Allee 31
10589 Berlin,Germany
Phone +49 (0)30 - 3463 - 7385
Mobile +49 (0)163 - 159 - 5221
eMail <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">vingarzan at fokus.fraunhofer.de</A>
Web www.fokus.fraunhofer.de
We could change the world if God would give us the source code...
-----------------------------------------------------------------


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001421.html">[OpenIMSCore-Users] Subscribe message sent from App Server
</A></li>
	<LI>Next message: <A HREF="001413.html">[OpenIMSCore-Users] FOKUS with seagull: P-CSCF saying not request	not following indicated dialog routes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1440">[ date ]</a>
              <a href="thread.html#1440">[ thread ]</a>
              <a href="subject.html#1440">[ subject ]</a>
              <a href="author.html#1440">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
