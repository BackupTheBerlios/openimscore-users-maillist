<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] Wrong branch parameter in top via header of	CANCEL Request
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2010-May/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Wrong%20branch%20parameter%20in%20top%20via%20header%20of%0A%09CANCEL%20Request&In-Reply-To=%3C1274350145.23185.5.camel%40p1-cscf.open-ims.test%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006229.html">
   <LINK REL="Next"  HREF="006232.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] Wrong branch parameter in top via header of	CANCEL Request</H1>
    <B>Sunil</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Wrong%20branch%20parameter%20in%20top%20via%20header%20of%0A%09CANCEL%20Request&In-Reply-To=%3C1274350145.23185.5.camel%40p1-cscf.open-ims.test%3E"
       TITLE="[OpenIMSCore-Users] Wrong branch parameter in top via header of	CANCEL Request">sunil.p at globaledgesoft.com
       </A><BR>
    <I>Thu May 20 12:09:05 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006229.html">[OpenIMSCore-Users] Wrong branch parameter in top via header of	CANCEL Request
</A></li>
        <LI>Next message: <A HREF="006232.html">[OpenIMSCore-Users] Wrong branch parameter in top via header	ofCANCEL Request
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6230">[ date ]</a>
              <a href="thread.html#6230">[ thread ]</a>
              <a href="subject.html#6230">[ subject ]</a>
              <a href="author.html#6230">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,
	We found that opeimscore server is adding different branch id because
the transport used for CANCEL request is different from INVITE.
Since the size of INVITE message was more than 1300,it was sent in TCP
but the CANCEL was sent in UDP.
	When we used the  same transport to send out both requests,the 
server forwarded the CANCEL by adding the same to branch id in the VIA
header as that of INVITE.

Thanks and Regards,
Sunil

-----Original Message-----
From: Sunil &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sunil.p at globaledgesoft.com</A>&gt;
To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Subject: Wrong branch parameter in top via header of CANCEL Request
Date: Tue, 18 May 2010 18:20:02 +0530

Hi All,

We are using 791 revision opeimscore server.We have noticed that Openims
core server is adding different branch parameter in the
top via header while forwarding CANCEL request then that of the one sent
in INVITE request.

Branch parameter in INVITE :

CSeq: 1 INVITE
Via: SIP/2.0/UDP 172.16.8.225:4060;branch=z9hG4bKdcba.b9126f5.0
Via: SIP/2.0/UDP
172.16.8.225:6060;received=172.16.8.225;rport=6060;branch=z9hG4bKdcba.2b009535.0
Via: SIP/2.0/UDP 172.16.8.225:6060;branch=z9hG4bKdcba.1b009535.1
Via: SIP/2.0/UDP 172.16.8.225:4060;branch=z9hG4bKdcba.a9126f5.0;i=c1
Via: SIP/2.0/TCP
172.16.8.82:50980;rport=56431;branch=z9hG4bK2134664333408847997 

Branch parameter in CANCEL :

CSeq: 1 CANCEL
Via: SIP/2.0/UDP 172.16.8.225:4060;branch=z9hG4bKdcba.d9126f5.0
Via: SIP/2.0/UDP
172.16.8.225:6060;received=172.16.8.225;rport=6060;branch=z9hG4bKdcba.4b009535.0
Via: SIP/2.0/UDP 172.16.8.225:6060;branch=z9hG4bKdcba.3b009535.0
Via: SIP/2.0/UDP 172.16.8.225:4060;branch=z9hG4bKdcba.c9126f5.0
Via: SIP/2.0/UDP
172.16.8.82:50980;rport=50980;branch=z9hG4bK2134664333408847997

[NOTE:Please notice the character marked in RED in the branch parameter
of top via header }

Requesting your help to fix the issue.Do we need to make any changes in
configuration or
is this a Known issue.

Thanks and Regards,
Sunil




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006229.html">[OpenIMSCore-Users] Wrong branch parameter in top via header of	CANCEL Request
</A></li>
	<LI>Next message: <A HREF="006232.html">[OpenIMSCore-Users] Wrong branch parameter in top via header	ofCANCEL Request
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6230">[ date ]</a>
              <a href="thread.html#6230">[ thread ]</a>
              <a href="subject.html#6230">[ subject ]</a>
              <a href="author.html#6230">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
