<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] monster registration problem related to Ipv6	[part2]
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2010-December/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20monster%20registration%20problem%20related%20to%20Ipv6%0A%09%5Bpart2%5D&In-Reply-To=%3C804B13F8F3D94A4AB18B9B01ACB68FA1039EA397%40EXCHSRV.fokus.fraunhofer.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006783.html">
   <LINK REL="Next"  HREF="006785.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] monster registration problem related to Ipv6	[part2]</H1>
    <B>Onofrei, Andreea Ancuta</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20monster%20registration%20problem%20related%20to%20Ipv6%0A%09%5Bpart2%5D&In-Reply-To=%3C804B13F8F3D94A4AB18B9B01ACB68FA1039EA397%40EXCHSRV.fokus.fraunhofer.de%3E"
       TITLE="[OpenIMSCore-Users] monster registration problem related to Ipv6	[part2]">andreea.ancuta.onofrei at fokus.fraunhofer.de
       </A><BR>
    <I>Mon Dec  6 15:25:56 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006783.html">[OpenIMSCore-Users] POC testing with SGSN _ requirements
</A></li>
        <LI>Next message: <A HREF="006785.html">[OpenIMSCore-Users] monster registration problem related to	Ipv6	[part2]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6784">[ date ]</a>
              <a href="thread.html#6784">[ thread ]</a>
              <a href="subject.html#6784">[ subject ]</a>
              <a href="author.html#6784">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Dear all,

I have done some tests with Ipv6 and for the contact displayed in:
DBG:P-CSCF:update_contact: &lt;sip:alice@[2001:638:806:65:21d:9ff:fe22:cb88]:3061&gt;

It shows the stored contact:
INF:P-CSCF:----------  Registrar Contents begin --------
 1(31642) INF:P-CSCF:[ 158] C: &lt;0://[2001:638:806:65:21d:9ff:fe22:cb88]:3061&gt; Exp:[ 300] R:[ 1] SOS:[ ] &lt;sip:alice@[2001:638:806:65:21d:9ff:fe22:cb88]:3061&gt;
 1(31642) INF:P-CSCF:----------  Registrar Contents end ----------

Please check that the request contains a Contact header like:
sip:alice@[2001:638:806:65:21d:9ff:fe22:cb88]:3061

and if you still have problems please send an e-mail with the wireshark/pcap capture.

Best regards,
Ancuta


-----Original Message-----
From: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-bounces at lists.berlios.de</A> on behalf of <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-request at lists.berlios.de</A>
Sent: Sat 12/4/2010 12:00 PM
To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Subject: OpenIMSCore-Users Digest, Vol 50, Issue 4
 
Send OpenIMSCore-Users mailing list submissions to
	<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>

To subscribe or unsubscribe via the World Wide Web, visit
	<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
or, via email, send a message with subject or body 'help' to
	<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-request at lists.berlios.de</A>

You can reach the person managing the list at
	<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-owner at lists.berlios.de</A>

When replying, please edit your Subject line so it is more specific
than &quot;Re: Contents of OpenIMSCore-Users digest...&quot;


Today's Topics:

   1. monster registration problem related to Ipv6
      (Onofrei, Andreea Ancuta)
   2. POC testing with SGSN _ requirements (AMARDEEP SINGH)


----------------------------------------------------------------------

Message: 1
Date: Fri, 3 Dec 2010 12:24:12 +0100
From: &quot;Onofrei, Andreea Ancuta&quot;
	&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">andreea.ancuta.onofrei at fokus.fraunhofer.de</A>&gt;
To: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>&gt;,
	&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>&gt;
Subject: [OpenIMSCore-Users] monster registration problem related to
	Ipv6
Message-ID:
	&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">804B13F8F3D94A4AB18B9B01ACB68FA1039EA38E at EXCHSRV.fokus.fraunhofer.de</A>&gt;
Content-Type: text/plain; charset=&quot;iso-8859-1&quot;


Dear Georg,

I will try to fix the Ipv6 registration problem. As prof. Franz Edler has already suggested, please provide us with a log file of the P-CSCF.

Best regards,
Ancuta

-----Original Message-----
From: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-bounces at lists.berlios.de</A> on behalf of <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-request at lists.berlios.de</A>
Sent: Fri 12/3/2010 12:00 PM
To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Subject: OpenIMSCore-Users Digest, Vol 50, Issue 3
 
Send OpenIMSCore-Users mailing list submissions to
	<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>

To subscribe or unsubscribe via the World Wide Web, visit
	<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
or, via email, send a message with subject or body 'help' to
	<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-request at lists.berlios.de</A>

You can reach the person managing the list at
	<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-owner at lists.berlios.de</A>

When replying, please edit your Subject line so it is more specific
than &quot;Re: Contents of OpenIMSCore-Users digest...&quot;


Today's Topics:

   1. Re: OpenIMSCore-Users Digest, Vol 49, Issue 27 (Siva ????)
   2. Re: monster registration problem (Gerg? Somogyi)
   3. Re: monster registration problem (Franz Edler)
   4. Call between 2 remote computers (Siva ????)


----------------------------------------------------------------------

Message: 1
Date: Thu, 2 Dec 2010 18:14:47 +0530
From: Siva ????  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sivarupan123 at gmail.com</A>&gt;
To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz.edler at technikum-wien.at</A>
Subject: Re: [OpenIMSCore-Users] OpenIMSCore-Users Digest, Vol 49,
	Issue 27
Message-ID:
	&lt;AANLkTi=<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">6RSoRYxG9LUPYvtJUbYa60Z278hdZpj9D8LbD at mail.gmail.com</A>&gt;
Content-Type: text/plain; charset=&quot;utf-8&quot;

Thanks. I solved that problem.
Solution: download jna-3.1.0.jar file from sun.net and replace
monster/jna.jar file.
Now it's worked.

-----------------------------------------
Sivarupan
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sivarupan123 at gmail.com</A>
Skype:sivarupan123



2010/12/2 Franz Edler &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz.edler at technikum-wien.at</A>&gt;

&gt;<i> &gt; &quot;Could not initialize class com.sun.jna.Native&quot;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I search this error in google. There are so many time this error
</I>&gt;<i> happened.
</I>&gt;<i> &gt; Some pages said, please change the jna class path. and other one said,
</I>&gt;<i> jna.jar
</I>&gt;<i> &gt; not loaded
</I>&gt;<i> &gt; ( <A HREF="http://groups.google.com/group/linux.debian.bugs.dist/browse_thread/th">http://groups.google.com/group/linux.debian.bugs.dist/browse_thread/th</A>
</I>&gt;<i> &gt; read/b684d98e621a9eda ) But I don't know How to do this. My kindly
</I>&gt;<i> &gt; request, If you can, please help me.
</I>&gt;<i>
</I>&gt;<i> I think best would be to re-install your Java VM. This seems to be a basic
</I>&gt;<i> function of the Java VM.
</I>&gt;<i> See also <A HREF="http://en.wikipedia.org/wiki/Java_Native_Access">http://en.wikipedia.org/wiki/Java_Native_Access</A>
</I>&gt;<i> ... The JNA library uses a small native library called foreign function
</I>&gt;<i> interface library (libffi) to dynamically invoke native code.
</I>&gt;<i>
</I>&gt;<i> BR
</I>&gt;<i> Franz
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20101202/3de4fd2a/attachment-0001.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20101202/3de4fd2a/attachment-0001.html</A>&gt;

------------------------------

Message: 2
Date: Thu, 2 Dec 2010 17:42:38 +0100
From: Gerg? Somogyi &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">balamber.kovacs at gmail.com</A>&gt;
To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz.edler at technikum-wien.at</A>, <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Subject: Re: [OpenIMSCore-Users] monster registration problem
Message-ID:
	&lt;AANLkTimqwys=Z2f-q+UtUyAJ6CH=<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sGCPg2dqZruVfZR9 at mail.gmail.com</A>&gt;
Content-Type: text/plain; charset=&quot;utf-8&quot;

Hello!

On 26 November 2010 17:49, Franz Edler &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz.edler at technikum-wien.at</A>&gt;wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> &gt; I use Ubuntu 9.04, OpenIMSCore rev 1007 (tried with rev 1012 too),
</I>&gt;<i> Monster
</I>&gt;<i> &gt; 0.9.13 and IPv6. When I try to register Monster to OpenIMSCore, I
</I>&gt;<i> succeed,
</I>&gt;<i> &gt; but not completely. The OpenIMSCore stores the IP address of the user in
</I>&gt;<i> a
</I>&gt;<i> &gt; wrong form, because it adds the port number to the end of the IPv6
</I>&gt;<i> address
</I>&gt;<i> &gt; too. (See the pcscf log down, please.) So when I send an INVITE,
</I>&gt;<i> SUBSCRIBE
</I>&gt;<i> &gt; etc. SIP message, I always get the 403 Forbidden - You must register
</I>&gt;<i> first with
</I>&gt;<i> &gt; a S-CSCF error message, because the IMS can't find the correct registered
</I>&gt;<i> IP
</I>&gt;<i> &gt; address in the database.
</I>&gt;<i>
</I>&gt;<i> Are you sure that this is really the reason?
</I>&gt;<i>
</I>&gt;<i> &gt; What should I do to solve this annoying problem?
</I>&gt;<i>
</I>&gt;<i> If that is really the reason, then the code should be updated.
</I>&gt;<i>
</I>&gt;<i> Br
</I>&gt;<i> Franz
</I>&gt;<i>
</I>
I'm sure, because we are out of other ideas. When I use Sipp or Linphone,
the IP addresses are in normal forms - [ipv6 address]:port number - in the
pcscf log (and in Wireshark, too), not in [ipv6 address:port number]:port
number.

When you say &quot;then the code should be updated&quot;, you mean the Monster or
OpenIMSCore? Because the problem, I think, seems to be a Monster
registration problem.

Best regards:
Gerg? Somogyi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20101202/0e0aa021/attachment-0001.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20101202/0e0aa021/attachment-0001.html</A>&gt;

------------------------------

Message: 3
Date: Thu, 2 Dec 2010 21:56:42 +0100
From: &quot;Franz Edler&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz.edler at technikum-wien.at</A>&gt;
To: 'Gerg? Somogyi' &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">balamber.kovacs at gmail.com</A>&gt;,
	&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>&gt;
Subject: Re: [OpenIMSCore-Users] monster registration problem
Message-ID: &lt;000001cb9263$6c2b0f50$44812df0$@technikum-wien.at&gt;
Content-Type: text/plain;	charset=&quot;utf-8&quot;

Hi Gerg?,

&gt;<i> I'm sure, because we are out of other ideas. When I use Sipp or Linphone,
</I>&gt;<i> the IP addresses are in normal forms - [ipv6 address]:port number - in the
</I>&gt;<i> pcscf log (and in Wireshark, too), not in [ipv6 address:port number]:port
</I>&gt;<i> number.
</I>
Yes I now see the problem. I did not look at this detail.
There seems to be an error in the function which stores the Contact-address in case of IPv6.
The console log clearly shows that the port-number is erroneously  added to the IP-address:
	C: &lt;0://[2001:738:2001:20a0:2e0:ff:fe9b:32b0:5060]:5060&gt;

I assume that the bug is in the parser functions . This should be fixed.
Maybe you should add a logfile from P-CSCF (increase debug level to 4) and a message trace to clearly show the problem.
Maybe someone may take the task to look into the code and correct the bug.

BR
Franz



------------------------------

Message: 4
Date: Fri, 3 Dec 2010 12:27:22 +0530
From: Siva ????  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sivarupan123 at gmail.com</A>&gt;
To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Subject: [OpenIMSCore-Users] Call between 2 remote computers
Message-ID:
	&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">AANLkTin6pUti8sDDN5povhYMW1xXcNaj-WVXHcDj-hV- at mail.gmail.com</A>&gt;
Content-Type: text/plain; charset=&quot;utf-8&quot;

Hi,
If anyone can please tell me step by step &quot;how to call between two remote
computer via open ims core network&quot;. For this setup, need to change IP? If
yes where? And also tell monster configuration (local setting). I am very
tired to do this.

-----------------------------------------
Sivarupan
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">sivarupan123 at gmail.com</A>
Skype:sivarupan123
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20101203/0a32468c/attachment-0001.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20101203/0a32468c/attachment-0001.html</A>&gt;

------------------------------

_______________________________________________
OpenIMSCore-Users mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>


End of OpenIMSCore-Users Digest, Vol 50, Issue 3
************************************************

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20101203/07bdc284/attachment-0001.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20101203/07bdc284/attachment-0001.html</A>&gt;

------------------------------

Message: 2
Date: Fri, 3 Dec 2010 12:41:45 -0900
From: AMARDEEP SINGH &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">yahhodeol at gmail.com</A>&gt;
To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Subject: [OpenIMSCore-Users] POC testing with SGSN _ requirements
Message-ID:
	&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">AANLkTimv1vp-qSSNHoMZi1id8ujT+jQqdJAXC90N68f9 at mail.gmail.com</A>&gt;
Content-Type: text/plain; charset=&quot;iso-8859-1&quot;

Hello all,

I am looking to test POC on our network using openims, xdms, presence.
Can someone provide me info., that what are the requirements to run oma POC
along with openims?
Anyone have tested or implemented on GPRS (connected to SGSN or GGSN)?

I'll appreciate If someone can provide pointers.
I have successfully installed and configured XCSCFs', Fhoss and tested with
monster.

Thanks:
AEE
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20101203/22baf73b/attachment-0001.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20101203/22baf73b/attachment-0001.html</A>&gt;

------------------------------

_______________________________________________
OpenIMSCore-Users mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>


End of OpenIMSCore-Users Digest, Vol 50, Issue 4
************************************************

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20101206/16f13829/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20101206/16f13829/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006783.html">[OpenIMSCore-Users] POC testing with SGSN _ requirements
</A></li>
	<LI>Next message: <A HREF="006785.html">[OpenIMSCore-Users] monster registration problem related to	Ipv6	[part2]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6784">[ date ]</a>
              <a href="thread.html#6784">[ thread ]</a>
              <a href="subject.html#6784">[ subject ]</a>
              <a href="author.html#6784">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
