<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] OpenIMS with AS Sailfin
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2012-January/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20OpenIMS%20with%20AS%20Sailfin&In-Reply-To=%3C009601ccd9e9%241fafe410%245f0fac30%24%40technikum-wien.at%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007232.html">
   <LINK REL="Next"  HREF="007234.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] OpenIMS with AS Sailfin</H1>
    <B>Franz Edler</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20OpenIMS%20with%20AS%20Sailfin&In-Reply-To=%3C009601ccd9e9%241fafe410%245f0fac30%24%40technikum-wien.at%3E"
       TITLE="[OpenIMSCore-Users] OpenIMS with AS Sailfin">franz.edler at technikum-wien.at
       </A><BR>
    <I>Mon Jan 23 17:07:33 CET 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="007232.html">[OpenIMSCore-Users] error 600 busy everywhere forward to scscf	failed
</A></li>
        <LI>Next message: <A HREF="007234.html">[OpenIMSCore-Users] OpenIMS with AS Sailfin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7233">[ date ]</a>
              <a href="thread.html#7233">[ thread ]</a>
              <a href="subject.html#7233">[ subject ]</a>
              <a href="author.html#7233">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Carlos,

 

after a quick check I found that P-CSCF does forward the ACK, but to a weird
address. You have a DNS naming problem. Your P-CSCF includes as its address
&quot;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mo at onenet.uk.to</A>:4060;lr&quot; into the Record-Route header. But on receiving
a request with a corresponding Route header field the P-CSCF does not
recognize this as its own address. When it receives the ACK it (instead of
eliminating the Route header field) forwards the ACK request to
&quot;onenet.uk.to:4060&quot;. Therefore the ACK is never received at S-CSCF.

 

BR

Franz

 

From: Carlos Ferreira [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">carlos.eds.ferreira at gmail.com</A>] 
Sent: Monday, January 23, 2012 11:11 AM
To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz.edler at technikum-wien.at</A>
Subject: Re: [OpenIMSCore-Users] OpenIMS with AS Sailfin

 

Hi Franz,

 

Attached a trace of the call.

 

Packet number 119 -&gt; The caller receives the 200 OK.

Packet number 183 -&gt; The caller sends the ACK.

 

ACK reaches P-CSCF but do not forward them.

 

There are some packages in the trace, that are not of this call,  because
the server is being used for other purposes as well.

 

Thanks,

Carlos

 

On Sun, Jan 22, 2012 at 9:54 PM, Carlos Ferreira
&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">carlos.eds.ferreira at gmail.com</A>&gt; wrote:

Hi Franz,

 

The caller receives 200 OK, because i can trace them with wireshark, and
sends the ACK to openIMS.

The P-CSCF receives ACK but do not forward them. I do not have trace file
here with me. Tomorrow I will send a trace file and some more details.

 

Thanks,

Carlos 

 

On Sat, Jan 21, 2012 at 7:08 AM, Franz Edler &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz.edler at technikum-wien.at</A>&gt;
wrote:

Hi Carlos,


&gt;<i> Right now, my AS is receiving invites and I can send the 2nd leg to the
</I>callee.
&gt;<i> But I have a problem, keeping the call in progress, because the Sailfin
</I>nevers
&gt;<i> receives the Ack from caller when I send 200 Ok, and it keeps sending 200
</I>Ok
&gt;<i> over and over, until sends a BYE.
</I>
This means that the caller never receives 200 OK or it does not recognize it
as a final response to the INVITE.
Maybe some header fields are not correct and 200 OK does not match the
dialog conditions.

A trace-file might help.

BR
Franz

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20120123/6d912295/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20120123/6d912295/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007232.html">[OpenIMSCore-Users] error 600 busy everywhere forward to scscf	failed
</A></li>
	<LI>Next message: <A HREF="007234.html">[OpenIMSCore-Users] OpenIMS with AS Sailfin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7233">[ date ]</a>
              <a href="thread.html#7233">[ thread ]</a>
              <a href="subject.html#7233">[ subject ]</a>
              <a href="author.html#7233">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
