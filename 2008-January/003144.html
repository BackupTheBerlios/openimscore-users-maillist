<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] TLS Problem
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2008-January/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20TLS%20Problem&In-Reply-To=%3C000101c8510f%247414ab10%24c429320a%40telxsi.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003158.html">
   <LINK REL="Next"  HREF="003146.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] TLS Problem</H1>
    <B>trinath pujari</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20TLS%20Problem&In-Reply-To=%3C000101c8510f%247414ab10%24c429320a%40telxsi.com%3E"
       TITLE="[OpenIMSCore-Users] TLS Problem">trinathpujari at tataelxsi.co.in
       </A><BR>
    <I>Mon Jan  7 10:26:58 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003158.html">[OpenIMSCore-Users] *cscf.sh launch problem
</A></li>
        <LI>Next message: <A HREF="003146.html">[OpenIMSCore-Users] TLS Problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3144">[ date ]</a>
              <a href="thread.html#3144">[ thread ]</a>
              <a href="subject.html#3144">[ subject ]</a>
              <a href="author.html#3144">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi klemens,

           Thanks for your reply. But in my case i can't understand where i
need to change in the pcscf.cfg so call through TLS can be made. If you have
the solution for this changes please send me those details so i can be
grateful to you. Please do send it's very urgent for me. I tested so many
scenarios by changing the pcscf.cfg but no use. Waiting for your reply......
Again i'm sending my pcscf.cfg for your reference....





Thanks &amp; Regards,
   Trinath Pujari,
   <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">trinathpujari at tataelxsi.co.in</A>,
   TATA ELXSI LMITED,
   Bangalore,India.


-----Original Message-----
From: Klemens Schragel [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">klemens.schragel at gmx.at</A>]
Sent: Saturday, January 05, 2008 5:07 PM
To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">trinathpujari at tataelxsi.co.in</A>
Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Subject: RE: TLS Problem


The warning is normal...
The only problem I see is that PCSCF uses the wrong port and thus bypasses
the TLS connection. There is no SIP-header which forces the proxy to use a
specific port, I really think this is a problem of PCSCF on the terminating
side when TLS is selected as transport protocol...

Br, Klemens

&gt;<i> -----Original Message-----
</I>&gt;<i> From: trinath pujari [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">trinathpujari at tataelxsi.co.in</A>]
</I>&gt;<i> Sent: Samstag, 05. J&#228;nner 2008 11:02
</I>&gt;<i> To: 'Klemens Schragel'; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Dragos.Vingarzan at fokus.fraunhofer.de</A>
</I>&gt;<i> Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;<i> Subject: TLS Problem
</I>&gt;<i>
</I>&gt;<i> Hi All,
</I>&gt;<i>
</I>&gt;<i>       Here i am sending the Register message and the corresponding 200 ok
</I>&gt;<i> for the TLS enabled client and when i am calling to another TLS enabled
</I>&gt;<i> client it is not responding may be OpenIMSCore is using some extra headers
</I>&gt;<i> like
</I>&gt;<i>                             1)P-Charging-Function-Addresses:
</I>&gt;<i> ccf=pri_ccf_address
</I>&gt;<i> 				    2)Path:
</I>&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">term at pcscf.open-ims.test</A>:4060;lr&gt;
&gt;<i>                             3)Server: Sip EXpress router (2.1.0-dev1
</I>&gt;<i> OpenIMSCore(i386/linux))
</I>&gt;<i>                             4)Service-Route:
</I>&gt;<i> sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">orig at scscf.open-ims.test</A>:6060;lr&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> and it is giving some warning as
</I>&gt;<i>
</I>&gt;<i>                             Warning: 392 10.50.41.103:6060 &quot;Noisy feedback
</I>&gt;<i> tells:  pid=26765 req_src_ip=10.50.41.103
</I>&gt;<i>                             req_src_ip=10.50.41.103
</I>&gt;<i>                             in_uri=sip:scscf.open-ims.test:6060
</I>&gt;<i>                             out_uri=sip:scscf.open-ims.test:6060
</I>&gt;<i>                             via_cnt==3&quot;.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> So my doubt is whether we need to form some of the extra fields that
</I>&gt;<i> OpenIMSCore server is expecting from the client in the INVITE message. If
</I>&gt;<i> it
</I>&gt;<i> is then which all are the mandatory header fields i need to form with The
</I>&gt;<i> INVITE so i can call to another TLS enabled client.So please help me in
</I>&gt;<i> this
</I>&gt;<i> regard it is very urgent, Hope for the earliest reply......
</I>&gt;<i>
</I>&gt;<i>  And at last i am sending the register message and it's corresponding 200
</I>&gt;<i> OK
</I>&gt;<i> for your refernce....
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> REGISTER sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">amol at open-ims.test</A> SIP/2.0.
</I>&gt;<i> .To: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">amol at open-ims.test</A>&gt;
</I>&gt;<i> ..From: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">amol at open-ims.test</A>&gt;;tag=86k4ci1wjv5jyad8ooygu8okksqu..
</I>&gt;<i> Via:  SIP/2.0/TLS
</I>&gt;<i> 10.50.41.196:4061;branch=z9hG4bK22a8ag2qye3orux3sjarc8uyoqqs2yigosio..
</I>&gt;<i> CSeq: 70383 REGISTER..
</I>&gt;<i> Call-ID: 84u5eb8ogq8yagq8oiemo8mgey
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">am1ipmluby at open-ims.test..</A>
</I>&gt;<i> Content-Length: 0.
</I>&gt;<i> .Max-Forwards: 70..
</I>&gt;<i> Contact: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">amol at 10.50.41.196</A>&gt;..
</I>&gt;<i> Expires: 3600.......
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> SIP/2.0 200 OK &#150; SAR succesful and registrar saved..
</I>&gt;<i> To: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">amol at open-ims.test</A>&gt;
</I>&gt;<i> ;tag=c11b5942b5c1b018da67bdee38c312a9-b233..From:
</I>&gt;<i> &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">amol at open-ims.test</A>&gt;;tag=50y3qh3yfg0saoi6scmwgqsqmui1qhqjwxa..Via:
</I>&gt;<i> SIP/2.0/TLS 10.50.41.196:4061;
</I>&gt;<i> branch=z9hG4bK48m3cn3hys6iuga9athmi6gkoswe6ucwyowq.. CSeq: 49024
</I>&gt;<i> REGISTER..Call-ID:
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">83k0ya4akw8eyau1onqlo8ymuqgc1ihetcng at open-ims.test..P-Associated-URI</A>:
</I>&gt;<i> &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">amol at open-ims.test</A>&gt;..Contact:
</I>&gt;<i> &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">amol at 10.50.41.196</A>&gt;;expires=3600..Path:
</I>&gt;<i> &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">term at pcscf.open-ims.test</A>:4060;lr&gt;..Service-Route:
</I>&gt;<i> sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">orig at scscf.open-ims.test</A>:6060;lr&gt;..Allow: INVITE, ACK, CANCEL,
</I>&gt;<i> OPTIONS,
</I>&gt;<i> BYE,REFER, SUBSCRIBE, NOTIFY, MESSAGE, INFO
</I>&gt;<i> P-Charging-Function-Addresses: ccf=pri_ccf_address..Server: Sip EXpress
</I>&gt;<i> router (2.1.0-dev1 OpenIMSCore (i386/linux))..Content-Length: 0..Warning:
</I>&gt;<i> 392 10.50.41.103:6060 &quot;Noisy feedback tells:  pid=26765
</I>&gt;<i> req_src_ip=10.50.41.103 req_src_port=5060
</I>&gt;<i> in_uri=sip:scscf.open-ims.test:6060
</I>&gt;<i> out_uri=sip:scscf.open-ims.test:6060 via_cnt==3&quot;.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks &amp; Regards,
</I>&gt;<i>   Trinath Pujari,
</I>&gt;<i>   <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">trinathpujari at tataelxsi.co.in</A>,
</I>&gt;<i>   TATA ELXSI LMITED,
</I>&gt;<i>   Bangalore,India.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Klemens Schragel [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">klemens.schragel at gmx.at</A>]
</I>&gt;<i> Sent: Friday, January 04, 2008 1:16 AM
</I>&gt;<i> To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">trinathpujari at tataelxsi.co.in</A>; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Dragos.Vingarzan at fokus.fraunhofer.de</A>
</I>&gt;<i> Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;<i> Subject: RE: [OpenIMSCore-Users] TLS Problem
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hmm... looks like PCSCF ignores that <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">rahul at open-ims.test</A> registered at
</I>&gt;<i> port
</I>&gt;<i> 4061 over TLS... PCSCF sends the INVITE to the correct port of rahul, but
</I>&gt;<i> &gt;from 4060 port instead of 4061 and thus via UDP instead of TLS...
</I>&gt;<i> although
</I>&gt;<i> SCSCF even adds &quot;transport=TLS&quot; to the request-line...
</I>&gt;<i>
</I>&gt;<i> I think this is a problem of PCSCF at the terminating side... maybe port
</I>&gt;<i> 4060 is used by default, independent of the registration?
</I>&gt;<i>
</I>&gt;<i> Dragos, what do you think?
</I>&gt;<i>
</I>&gt;<i> p.s.: I've attached a filtered version of the trace
</I>&gt;<i>
</I>&gt;<i> &gt; -----Original Message-----
</I>&gt;<i> &gt; From: trinath pujari [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">trinathpujari at tataelxsi.co.in</A>]
</I>&gt;<i> &gt; Sent: Donnerstag, 03. J&#228;nner 2008 12:47
</I>&gt;<i> &gt; To: 'Klemens Schragel'; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Dragos.Vingarzan at fokus.fraunhofer.de</A>
</I>&gt;<i> &gt; Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;<i> &gt; Subject: RE: [OpenIMSCore-Users] TLS Problem
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Hi Klemens,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;           Thnks for your reply, Here i am attaching the ethereal traces
</I>&gt;<i> of
</I>&gt;<i> &gt; the two user agents and the OpenIMSCore so it will be easy for you to
</I>&gt;<i> find
</I>&gt;<i> &gt; out where the problem lies. Hope for the earliest reply....
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks &amp; Regards,
</I>&gt;<i> &gt;    Trinath Pujari,
</I>&gt;<i> &gt;    <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">trinathpujari at tataelxsi.co.in</A>,
</I>&gt;<i> &gt;    TATA ELXSI LMITED,
</I>&gt;<i> &gt;    Bangalore,India.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; -----Original Message-----
</I>&gt;<i> &gt; From: Klemens Schragel [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">klemens.schragel at gmx.at</A>]
</I>&gt;<i> &gt; Sent: Thursday, January 03, 2008 3:45 PM
</I>&gt;<i> &gt; To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">trinathpujari at tataelxsi.co.in</A>; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Dragos.Vingarzan at fokus.fraunhofer.de</A>
</I>&gt;<i> &gt; Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;<i> &gt; Subject: Re: [OpenIMSCore-Users] TLS Problem
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; could you provide a network trace please?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; br, Klemens
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; -------- Original-Nachricht --------
</I>&gt;<i> &gt; &gt; Datum: Thu, 3 Jan 2008 10:21:04 +0530
</I>&gt;<i> &gt; &gt; Von: &quot;trinath pujari&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">trinathpujari at tataelxsi.co.in</A>&gt;
</I>&gt;<i> &gt; &gt; An: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">Dragos.Vingarzan at fokus.fraunhofer.de</A>
</I>&gt;<i> &gt; &gt; CC: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt; Betreff: [OpenIMSCore-Users] TLS Problem
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; Hi All,
</I>&gt;<i> &gt; &gt;          We can make a call between eyebeam with tls and x-lite
</I>&gt;<i> without
</I>&gt;<i> &gt; &gt; tls
</I>&gt;<i> &gt; &gt; through OpenIMSCore. But when i am making a call between two tls
</I>&gt;<i> enabled
</I>&gt;<i> &gt; &gt; user agents then it is showing request trimeout. So is  any
</I>&gt;<i> &gt; configuration
</I>&gt;<i> &gt; &gt; there to setup two tls enabled user agents through openimscore.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Thanks &amp; Regards,
</I>&gt;<i> &gt; &gt;    Trinath Pujari,
</I>&gt;<i> &gt; &gt;    <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">trinathpujari at tataelxsi.co.in</A>,
</I>&gt;<i> &gt; &gt;    TATA ELXSI LMITED,
</I>&gt;<i> &gt; &gt;    Bangalore,India
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; The information contained in this electronic message and any
</I>&gt;<i> attachments
</I>&gt;<i> &gt; &gt; to this message are intended for the exclusive use of the addressee(s)
</I>&gt;<i> &gt; and
</I>&gt;<i> &gt; &gt; may contain proprietary, confidential or privileged information. If
</I>&gt;<i> you
</I>&gt;<i> &gt; are
</I>&gt;<i> &gt; &gt; not the intended recipient, you should not disseminate, distribute or
</I>&gt;<i> &gt; copy
</I>&gt;<i> &gt; &gt; this e-mail. Please notify the sender immediately and destroy all
</I>&gt;<i> copies
</I>&gt;<i> &gt; of
</I>&gt;<i> &gt; &gt; this message and any attachments contained in it.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Contact your Administrator for further information.
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; OpenIMSCore-Users mailing list
</I>&gt;<i> &gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; GMX FreeMail: 1 GB Postfach, 5 E-Mail-Adressen, 10 Free SMS.
</I>&gt;<i> &gt; Alle Infos und kostenlose Anmeldung: <A HREF="http://www.gmx.net/de/go/freemail">http://www.gmx.net/de/go/freemail</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The information contained in this electronic message and any attachments
</I>&gt;<i> &gt; to this message are intended for the exclusive use of the addressee(s)
</I>&gt;<i> and
</I>&gt;<i> &gt; may contain proprietary, confidential or privileged information. If you
</I>&gt;<i> &gt; are not the intended recipient, you should not disseminate, distribute
</I>&gt;<i> or
</I>&gt;<i> &gt; copy this e-mail. Please notify the sender immediately and destroy all
</I>&gt;<i> &gt; copies of this message and any attachments contained in it.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Contact your Administrator for further information.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The information contained in this electronic message and any attachments
</I>&gt;<i> to this message are intended for the exclusive use of the addressee(s) and
</I>&gt;<i> may contain proprietary, confidential or privileged information. If you
</I>&gt;<i> are not the intended recipient, you should not disseminate, distribute or
</I>&gt;<i> copy this e-mail. Please notify the sender immediately and destroy all
</I>&gt;<i> copies of this message and any attachments contained in it.
</I>&gt;<i>
</I>&gt;<i> Contact your Administrator for further information.
</I>
The information contained in this electronic message and any attachments to this message are intended for the exclusive use of the addressee(s) and may contain proprietary, confidential or privileged information. If you are not the intended recipient, you should not disseminate, distribute or copy this e-mail. Please notify the sender immediately and destroy all copies of this message and any attachments contained in it.

Contact your Administrator for further information.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pcscf.cfg
Type: application/octet-stream
Size: 16734 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20080107/0735fa6b/attachment.obj">https://lists.berlios.de/pipermail/openimscore-users/attachments/20080107/0735fa6b/attachment.obj</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003158.html">[OpenIMSCore-Users] *cscf.sh launch problem
</A></li>
	<LI>Next message: <A HREF="003146.html">[OpenIMSCore-Users] TLS Problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3144">[ date ]</a>
              <a href="thread.html#3144">[ thread ]</a>
              <a href="subject.html#3144">[ subject ]</a>
              <a href="author.html#3144">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
