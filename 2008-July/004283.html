<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] R&#233;f. : Re:  presence service
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20%3D%3Fiso-8859-1%3Fq%3FR%3DE9f%3D2E_%3D3A_Re%3D3A__presence_s%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fervice%3F%3D&In-Reply-To=%3COF5030F3D9.567DE3D8-ONC1257488.002CF62E-C1257488.002DDDCA%40sagem.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004303.html">
   <LINK REL="Next"  HREF="004305.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] R&#233;f. : Re:  presence service</H1>
    <B>Daniel VIRASSAMY</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20%3D%3Fiso-8859-1%3Fq%3FR%3DE9f%3D2E_%3D3A_Re%3D3A__presence_s%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Fervice%3F%3D&In-Reply-To=%3COF5030F3D9.567DE3D8-ONC1257488.002CF62E-C1257488.002DDDCA%40sagem.com%3E"
       TITLE="[OpenIMSCore-Users] R&#233;f. : Re:  presence service">daniel.virassamy at sagem.com
       </A><BR>
    <I>Wed Jul 16 10:20:58 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="004303.html">[OpenIMSCore-Users] Creating a PSI that Doesnt Register
</A></li>
        <LI>Next message: <A HREF="004305.html">[OpenIMSCore-Users] R&#233;f. : Re:  presence service
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4283">[ date ]</a>
              <a href="thread.html#4283">[ thread ]</a>
              <a href="subject.html#4283">[ subject ]</a>
              <a href="author.html#4283">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Dragos,

thank you for answering my queries.

Well I understand the fact that the presence server should answer 
subscribe and publish messages with notify.

What I don't understand is that (from the traces) I can see UE's subscribe 
and publish messages sent towards S-CSCF. The latter with the appropriate 
iFC triggers the redirection towards the presence server (OK for that). 
But as the request URI in these messages is not the one of the presence 
server, the latter pushes back theses messages in the ims core which sends 
them back to their originator (UE).

I don't have this problem for IPTV as the request URI corresponds to IPTV 
server identity. 


So what am I doing wrong? Shouldn't the S-CSCF re-write the URI for reg 
and presence servers?


BR

Daniel









Hi Daniel,

Not sure if I understand your queries...

The Presence server usually answers the SUBCRIBE and PUBLISH requests 
and sends back NOTIFY on the SUBCRIBE dialogs when PUBLISH is received...


1) Why should the S-CSCF change the Request-URI?


Cheers,
-Dragos

Daniel VIRASSAMY wrote:
&gt;<i> Hi All,
</I>&gt;<i>
</I>&gt;<i> I've recently tried the presence server (openser) + UCT Client + Open 
</I>IMS 
&gt;<i> Core R570
</I>&gt;<i>
</I>&gt;<i> My networt configuration:
</I>&gt;<i> PCSCF 192.168.100.2
</I>&gt;<i> ICSCF 192.168.100.3
</I>&gt;<i> SCSCF 192.168.100.4
</I>&gt;<i> FHOSS 192.168.100.5
</I>&gt;<i> PRESENCE_AS 192.168.100.6
</I>&gt;<i>
</I>&gt;<i> I've modified the default IFC of Open IMS Core so that AS now points to 
</I>&gt;<i> 192.168.100.6
</I>&gt;<i>
</I>&gt;<i> &gt;From my network captures:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I see that the presence subscriptions and publish methods are sent to 
</I>the 
&gt;<i> AS which forwards them back to SCSCF back and forth and finally PCSCF 
</I>&gt;<i> sends them to UE.
</I>&gt;<i>
</I>&gt;<i> Why is this so?
</I>&gt;<i>
</I>&gt;<i> Can someone help me with this routing issue.
</I>&gt;<i>
</I>&gt;<i> What I understand is that 
</I>&gt;<i>
</I>&gt;<i> 1) Subscribe messages should be taken care by AS - if so why Request URI 
</I>
&gt;<i> is not changed by SCSCF?
</I>&gt;<i> 2) Publish messages should be sent to UE - for this OK
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> BR Daniel
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &quot; Ce courriel et les documents qui y sont attaches peuvent contenir des 
</I>informations confidentielles. Si vous n'etes  pas le destinataire 
escompte, merci d'en informer l'expediteur immediatement et de detruire ce 
courriel  ainsi que tous les documents attaches de votre systeme 
informatique. Toute divulgation, distribution ou copie du present courriel 
et des documents attaches sans autorisation prealable de son emetteur est 
interdite.&quot; 
&gt;<i>
</I>&gt;<i> &quot; This e-mail and any attached documents may contain confidential or 
</I>proprietary information. If you are not the intended recipient, please 
advise the sender immediately and delete this e-mail and all attached 
documents from your computer system. Any unauthorised disclosure, 
distribution or copying hereof is prohibited.&quot;
&gt;<i> 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OpenIMSCore-Users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>
</I>&gt;<i> 
</I>

-- 
-----------------------------------------
Dipl. Eng. Dragos Vingarzan
Fraunhofer FOKUS/NGNI
Kaiserin-Augusta-Allee 31
10589 Berlin,Germany
Phone +49 (0)30 - 3463 - 7385
Mobile +49 (0)176 - 48 32 16 00
Web www.fokus.fraunhofer.de www.openimscore.org
We could change the world if God would give us the source code...
-----------------------------------------------------------------






&quot; Ce courriel et les documents qui y sont attaches peuvent contenir des informations confidentielles. Si vous n'etes  pas le destinataire escompte, merci d'en informer l'expediteur immediatement et de detruire ce courriel  ainsi que tous les documents attaches de votre systeme informatique. Toute divulgation, distribution ou copie du present courriel et des documents attaches sans autorisation prealable de son emetteur est interdite.&quot; 

&quot; This e-mail and any attached documents may contain confidential or proprietary information. If you are not the intended recipient, please advise the sender immediately and delete this e-mail and all attached documents from your computer system. Any unauthorised disclosure, distribution or copying hereof is prohibited.&quot;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20080716/6ca2ee0d/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20080716/6ca2ee0d/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004303.html">[OpenIMSCore-Users] Creating a PSI that Doesnt Register
</A></li>
	<LI>Next message: <A HREF="004305.html">[OpenIMSCore-Users] R&#233;f. : Re:  presence service
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4283">[ date ]</a>
              <a href="thread.html#4283">[ thread ]</a>
              <a href="subject.html#4283">[ subject ]</a>
              <a href="author.html#4283">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
