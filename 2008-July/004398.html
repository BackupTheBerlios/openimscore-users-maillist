<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] Principle question to &quot;qop&quot;
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Principle%20question%20to%20%22qop%22&In-Reply-To=%3C804B13F8F3D94A4AB18B9B01ACB68FA10BE266%40EXCHSRV.fokus.fraunhofer.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004395.html">
   <LINK REL="Next"  HREF="004397.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] Principle question to &quot;qop&quot;</H1>
    <B>Vingarzan, Dragos</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20Principle%20question%20to%20%22qop%22&In-Reply-To=%3C804B13F8F3D94A4AB18B9B01ACB68FA10BE266%40EXCHSRV.fokus.fraunhofer.de%3E"
       TITLE="[OpenIMSCore-Users] Principle question to &quot;qop&quot;">Dragos.Vingarzan at fokus.fraunhofer.de
       </A><BR>
    <I>Tue Jul 29 22:03:33 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="004395.html">[OpenIMSCore-Users] Principle question to &quot;qop&quot;
</A></li>
        <LI>Next message: <A HREF="004397.html">[OpenIMSCore-Users] Registration in TCP mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4398">[ date ]</a>
              <a href="thread.html#4398">[ thread ]</a>
              <a href="subject.html#4398">[ subject ]</a>
              <a href="author.html#4398">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Franz,
 
the qop got implemented so late exactly for this reason. If I remember well, we were following the 3GPP specs and there was no qop in there, so we kind of ignored it.
 
The recent introduction was more due to a buggy client, that only worked with Digest-MD5 and qop - was both old and not in our hands to fix it. Normally I would've not reacted to this, yet due to internal reasons and to move our projects forward we did add it. I did not expect this many issue with it, yet I think that several patches later we have learned something ;-).
 
The addition however did not consider any restriction on which algorithm to use it and on which not, so it kind of seems to be working on top of all.
 
I don't have now the standards near to check them again, so I will have to get back to you tomorrow. Then I would be a little bit flexible on the implementation. Anyway, the whole SER thing, although very flexible, it can often be tweaked and configured to work in so many ways that are not even SIP conformant. So I won't be too strict about the standards, although enforcement through configuration is a good idea.
 
Now, regarding AKA+qop... Should we have two parameters instead of just 1 like now?
- registration_qop_md5 - default &quot;auth,auth-int&quot;
- registration_qop_aka_md5 - default &quot;&quot;
 
P.S. - I wonder if anyone uses anything else than MD5 as the hashing algorithm, like SHA :)... if someone does, please let me know.
 
Cheers,
-Dragos

________________________________

From: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users-bounces at lists.berlios.de</A> on behalf of Franz Edler
Sent: Tue 2008-07-29 16:15
To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
Subject: [OpenIMSCore-Users] Principle question to &quot;qop&quot;



Hi Dragos and all,

now - after we have a working configuration with OpenIMSCore and IMS
communicator again - a principle question came up in my mind.

I have doubts that the combination of AKV1-MD5 and &quot;qop&quot; parameter is
correct. I think that the &quot;qop&quot;-parameter is only valid for digest
algorithm, but not for AKAv1-MD5.

This is my conclusion from 3GPP TS 33.203 and TS 24.229 where qop is only
defined for SIP digest algorithm but not for AKv1-MD5. Compare e.g. chapter
5.4.1.2.1A and 5.4.1.2.1B in TS 24.229.

But on the other hand the yellow book shows an example registration in Fig.
9.3 combining AKAv1-MD5 and qop which must be wrong according to my
assumption.

Maybe anyone can help me to clarify the issue.

Regards
Franz

_______________________________________________
OpenIMSCore-Users mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">OpenIMSCore-Users at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">https://lists.berlios.de/mailman/listinfo/openimscore-users</A>


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20080729/329986c0/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20080729/329986c0/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004395.html">[OpenIMSCore-Users] Principle question to &quot;qop&quot;
</A></li>
	<LI>Next message: <A HREF="004397.html">[OpenIMSCore-Users] Registration in TCP mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4398">[ date ]</a>
              <a href="thread.html#4398">[ thread ]</a>
              <a href="subject.html#4398">[ subject ]</a>
              <a href="author.html#4398">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
