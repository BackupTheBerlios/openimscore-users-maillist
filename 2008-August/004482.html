<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] NOT Received Media Authorization token...
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2008-August/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20NOT%20Received%20Media%20Authorization%20token...&In-Reply-To=%3C5c68f57c0808190329g49d00560qfd25ec52b01f491%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004481.html">
   <LINK REL="Next"  HREF="004483.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] NOT Received Media Authorization token...</H1>
    <B>Naveen Kumashi</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20NOT%20Received%20Media%20Authorization%20token...&In-Reply-To=%3C5c68f57c0808190329g49d00560qfd25ec52b01f491%40mail.gmail.com%3E"
       TITLE="[OpenIMSCore-Users] NOT Received Media Authorization token...">naveenkumashi at gmail.com
       </A><BR>
    <I>Tue Aug 19 12:29:36 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="004481.html">[OpenIMSCore-Users] NOT Received Media Authorization token...
</A></li>
        <LI>Next message: <A HREF="004483.html">[OpenIMSCore-Users] NOT Received Media Authorization token...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4482">[ date ]</a>
              <a href="thread.html#4482">[ thread ]</a>
              <a href="subject.html#4482">[ subject ]</a>
              <a href="author.html#4482">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Franz.

I am using IMS-Communicator on Windows boxes and openimscore is running on
Linux (Fedora 9) box.

I am using openimscore as it is. Have not done any configuration for PCRF or
PCEF.

So how should i configure PCRF , PCEF (if it is required) and what is its
role here ?

Have pasted the logs for Alice and Bob. The call is from Bob to Alice.

*Bob's log:*

C:\Documents and Settings\campus\Desktop\ims-communicator-bob&gt;java
-classpath im
s-communicator.jar;jmf.jar;sound.jar
-Dlog4j.configuration=sip-communicator.prop
erties -Djava.library.path=./lib net.java.sip.communicator.SipCommunicator
hop = 10.99.105.198:4060/udp
(s) Sending REGISTER.
hop = open-ims.test:5060/UDP
(s) Received challenge to REGISTER.
hop = open-ims.test:5060/UDP
-&gt; handleChallenge() - could not get Security-Verify for realm =
open-ims.test
(s) Sending response to challenge.
(s) Received 200 OK to REGISTER.
-&gt; processOK() - User associated URIs : &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;
-&gt; setServiceRoute() - Route: &lt;sip:10.99.105.198:4060
;transport=udp&gt;,&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">orig at s</A>
cscf.open-ims.test:6060;lr&gt;
.: Proxies added during registration (Path) : &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">term at pcscf.open-ims.test</A>
:<i>4060
</I>;lr&gt;
(s) Sending SUBSCRIBE (reg event package).
-&gt;sendSubscription() - Security-Verify is null for realm open-ims.test
hop = 10.99.105.198:4060/udp
hop = scscf.open-ims.test:6060/udp
(s) Received 200 OK to the SUBSCRIBE request (reg event package).
(s) Received NOTIFY (reg event package).
(s) Received NOTIFY (reg event package).
(s) Sending INVITE to &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at open-ims.test</A>&gt;
-&gt; isTransfering() for &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at open-ims.test</A>&gt; ? false
hop = 10.99.105.198:4060/udp
hop = scscf.open-ims.test:6060/udp
(s) Received Session Progress.
-&gt; setInverseRecordRoute() - Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mo at pcscf.open-ims.test</A>
:<i>4060;lr&gt;,&lt;sip:mo
</I>@scscf.open-ims.test:6060;lr&gt;,&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mt at scscf.open-ims.test</A>
:<i>6060;lr&gt;,&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mt at pcscf</A>
</I>.open-ims.test:4060;lr&gt;
.: Callee user identity is &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at open-ims.test</A>&gt;
-&gt; processSessionProgess() - preconditions met, restarting negotiation...
(s) Sending PRACK.
-&gt;sendSubscription() - Security-Verify is null for realm open-ims.test
hop = pcscf.open-ims.test:4060/udp
hop = scscf.open-ims.test:6060/udp
hop = scscf.open-ims.test:6060/udp
hop = pcscf.open-ims.test:4060/udp
(s) Received Session Progress.
-&gt; setInverseRecordRoute() - Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mo at pcscf.open-ims.test</A>
:<i>4060;lr&gt;,&lt;sip:mo
</I>@scscf.open-ims.test:6060;lr&gt;,&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mt at scscf.open-ims.test</A>
:<i>6060;lr&gt;,&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mt at pcscf</A>
</I>.open-ims.test:4060;lr&gt;
.: Callee user identity is &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at open-ims.test</A>&gt;
(s) Sending PRACK.
-&gt;sendSubscription() - Security-Verify is null for realm open-ims.test
hop = pcscf.open-ims.test:4060/udp
hop = scscf.open-ims.test:6060/udp
hop = scscf.open-ims.test:6060/udp
hop = pcscf.open-ims.test:4060/udp
(s) Received OK response to PRACK.
.: Preconditions met! Sending Update request..
(s) Sending UPDATE.
hop = pcscf.open-ims.test:4060/udp
hop = scscf.open-ims.test:6060/udp
hop = scscf.open-ims.test:6060/udp
hop = pcscf.open-ims.test:4060/udp
(s) Received OK response to PRACK.
.: Preconditions met! Sending Update request..
(s) Sending UPDATE.
hop = pcscf.open-ims.test:4060/udp
hop = scscf.open-ims.test:6060/udp
hop = scscf.open-ims.test:6060/udp
hop = pcscf.open-ims.test:4060/udp
(s) Received OK response to UPDATE.
(s) Received RINGING.
-&gt; setInverseRecordRoute() - Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mo at pcscf.open-ims.test</A>
:<i>4060;lr&gt;,&lt;sip:mo
</I>@scscf.open-ims.test:6060;lr&gt;,&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mt at scscf.open-ims.test</A>
:<i>6060;lr&gt;,&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mt at pcscf</A>
</I>.open-ims.test:4060;lr&gt;
(s) Sending PRACK.
-&gt;sendSubscription() - Security-Verify is null for realm open-ims.test
hop = pcscf.open-ims.test:4060/udp
hop = scscf.open-ims.test:6060/udp
hop = scscf.open-ims.test:6060/udp
hop = pcscf.open-ims.test:4060/udp
(s) Received OK response to UPDATE.
(s) Received RINGING.
-&gt; setInverseRecordRoute() - Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mo at pcscf.open-ims.test</A>
:<i>4060;lr&gt;,&lt;sip:mo
</I>@scscf.open-ims.test:6060;lr&gt;,&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mt at scscf.open-ims.test</A>
:<i>6060;lr&gt;,&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mt at pcscf</A>
</I>.open-ims.test:4060;lr&gt;
(s) Sending PRACK.
-&gt;sendSubscription() - Security-Verify is null for realm open-ims.test
hop = pcscf.open-ims.test:4060/udp
hop = scscf.open-ims.test:6060/udp
hop = scscf.open-ims.test:6060/udp
hop = pcscf.open-ims.test:4060/udp
(s) Received OK response to PRACK.
(s) Received OK response to PRACK.
(s) Received OK response to the INVITE.
&lt;&lt; CONNECTED &gt;&gt;
-&gt; setInverseRecordRoute() - Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mo at pcscf.open-ims.test</A>
:<i>4060;lr&gt;,&lt;sip:mo
</I>@scscf.open-ims.test:6060;lr&gt;,&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mt at scscf.open-ims.test</A>
:<i>6060;lr&gt;,&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mt at pcscf</A>
</I>.open-ims.test:4060;lr&gt;
-&gt; isTransfering() for &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at open-ims.test</A>&gt; ? false

*Alice's log : *
*
*C:\Documents and Settings\campus\Desktop\ims-communicator-Alice&gt;java
-classpath
ims-communicator.jar;jmf.jar;sound.jar -Dlog4j.configuration=
sip-communicator.pr
operties -Djava.library.path=./lib net.java.sip.communicator.SipCommunicator
hop = 10.99.105.198:4060/udp
(s) Received NOTIFY (reg event package).
(s) Sending REGISTER.
hop = open-ims.test:5060/UDP
(s) Received challenge to REGISTER.
hop = open-ims.test:5060/UDP
-&gt; handleChallenge() - could not get Security-Verify for realm =
open-ims.test
(s) Sending response to challenge.
(s) Received challenge to REGISTER.
hop = open-ims.test:5060/UDP
-&gt; handleChallenge() - could not get Security-Verify for realm =
open-ims.test
(s) Sending response to challenge.
(s) Received challenge to REGISTER.
hop = open-ims.test:5060/UDP
-&gt; handleChallenge() - could not get Security-Verify for realm =
open-ims.test
(s) Sending response to challenge.
(s) Received challenge to REGISTER.
hop = open-ims.test:5060/UDP
-&gt; handleChallenge() - could not get Security-Verify for realm =
open-ims.test
(s) Sending response to challenge.
(s) Received 200 OK to REGISTER.
-&gt; processOK() - User associated URIs : &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at open-ims.test</A>&gt;
-&gt; setServiceRoute() - Route: &lt;sip:10.99.105.198:4060
;transport=udp&gt;,&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">orig at s</A>
cscf.open-ims.test:6060;lr&gt;
.: Proxies added during registration (Path) : &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">term at pcscf.open-ims.test</A>
:<i>4060
</I>;lr&gt;
(s) Sending SUBSCRIBE (reg event package).
-&gt;sendSubscription() - Security-Verify is null for realm open-ims.test
hop = 10.99.105.198:4060/udp
hop = scscf.open-ims.test:6060/udp
(s) Received 200 OK to the SUBSCRIBE request (reg event package).
(s) Received NOTIFY (reg event package).
(s) Received NOTIFY (reg event package).
(s) Received INVITE.
-&gt; setRecordRoute() - Record-Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mt at pcscf.open-ims.test</A>
:<i>4060;lr&gt;,&lt;sip:mt
</I>@scscf.open-ims.test:6060;lr&gt;,&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mo at scscf.open-ims.test</A>
:<i>6060;lr&gt;,&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mo at pcscf</A>
</I>.open-ims.test:4060;lr&gt;
.: NOT Received Media Authorization token...
.: Received call for &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at open-ims.test</A>&gt;
.: Received call from &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;
(s) Sending Session Progress.
(s) Received INVITE.
-&gt; setRecordRoute() - Record-Route: &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mt at pcscf.open-ims.test</A>
:<i>4060;lr&gt;,&lt;sip:mt
</I>@scscf.open-ims.test:6060;lr&gt;,&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mo at scscf.open-ims.test</A>
:<i>6060;lr&gt;,&lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">mo at pcscf</A>
</I>.open-ims.test:4060;lr&gt;
.: NOT Received Media Authorization token...
.: Received call for &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">alice at open-ims.test</A>&gt;
.: Received call from &lt;sip:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">bob at open-ims.test</A>&gt;
(s) Sending Session Progress.
(s) Received PRACK.
(s) Sending OK response to PRACK.
(s) Received PRACK.
(s) Sending OK response to PRACK.
(s) Received UPDATE.
(s) Sending OK response to UPDATE.
(s) Sending RINGING.
(s) Received UPDATE.
(s) Sending OK response to UPDATE.
(s) Sending RINGING.
(s) Received PRACK.
(s) Sending OK response to PRACK.
(s) Received PRACK.
(s) Sending OK response to PRACK.
(s) Sending OK response to the INVITE.
(s) Received ACK (INVITE).
&lt;&lt; CONNECTED &gt;&gt;


On Tue, Aug 19, 2008 at 3:22 PM, Franz Edler &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">franz.edler at inode.at</A>&gt; wrote:

&gt;<i> Hi Naveen,
</I>&gt;<i>
</I>&gt;<i> &gt; While making a call between Alice and Bob i am getting the error &quot;NOT
</I>&gt;<i> &gt; Received Media Authorization token...&quot; at Alice end.
</I>&gt;<i>
</I>&gt;<i> That's interesting. What kind of clients do you use?
</I>&gt;<i> What is you configuration? Do you have a PCRF + PCEF in place?
</I>&gt;<i>
</I>&gt;<i> &gt; Also though the call seems to be connected there is no voice transfer...
</I>&gt;<i>
</I>&gt;<i> A Wireshark/tcpdump trace would help to analyze the session setup
</I>&gt;<i> situation.
</I>&gt;<i>
</I>&gt;<i> -franz
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-users/attachments/20080819/51565e4e/attachment.html">https://lists.berlios.de/pipermail/openimscore-users/attachments/20080819/51565e4e/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004481.html">[OpenIMSCore-Users] NOT Received Media Authorization token...
</A></li>
	<LI>Next message: <A HREF="004483.html">[OpenIMSCore-Users] NOT Received Media Authorization token...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4482">[ date ]</a>
              <a href="thread.html#4482">[ thread ]</a>
              <a href="subject.html#4482">[ subject ]</a>
              <a href="author.html#4482">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
