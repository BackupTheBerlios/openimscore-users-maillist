<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-Users] FW:  service indication and data reference
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-users/2008-August/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20FW%3A%20%20service%20indication%20and%20data%20reference&In-Reply-To=%3C1217931065.12505.11.camel%40peer1%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004436.html">
   <LINK REL="Next"  HREF="004442.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-Users] FW:  service indication and data reference</H1>
    <B>Enrique de Meer</B> 
    <A HREF="mailto:openimscore-users%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-Users%5D%20FW%3A%20%20service%20indication%20and%20data%20reference&In-Reply-To=%3C1217931065.12505.11.camel%40peer1%3E"
       TITLE="[OpenIMSCore-Users] FW:  service indication and data reference">enrique.demeer at inycom.es
       </A><BR>
    <I>Tue Aug  5 12:11:05 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="004436.html">[OpenIMSCore-Users] FW:  service indication and data reference
</A></li>
        <LI>Next message: <A HREF="004442.html">[OpenIMSCore-Users] FW: FW: service indication and data reference
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4438">[ date ]</a>
              <a href="thread.html#4438">[ thread ]</a>
              <a href="subject.html#4438">[ subject ]</a>
              <a href="author.html#4438">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,


El mar, 05-08-2008 a las 11:58 +0200, Izaak Muto escribi&#243;:
&gt;<i> Hi Enrique,
</I>&gt;<i> 
</I>&gt;<i> Thanks a lot for your reply, it helps me a lot.
</I>&gt;<i> I have an other question about  the server name . In my case i have
</I>&gt;<i> created a diameter client (on a machine A) in order to send the UDR to
</I>&gt;<i> the HSS (in the machine B) and get the information, so i don't have
</I>&gt;<i> any AS. I must put in the setData() the ip adress of the machine A ??
</I>

I don't know. But afaik only Application Servers can store and get data
from HSS (and only if AS is in the Home Network because a Third-Party AS
cannot) because that AS has to be configured in the HSS, and AS has to
be enabled to do that, setting permissions for that in the HSS Web
Console.


&gt;<i> 
</I>&gt;<i> a = new AVP(602, false,10415);
</I>&gt;<i> a.setData(??????);
</I>&gt;<i> udr.addAVP(a);
</I>&gt;<i> 
</I>&gt;<i> Best Regards 
</I>

Regards,

Enrique


&gt;<i> 
</I>&gt;<i> &gt; Subject: Re: [OpenIMSCore-Users] service indication and data
</I>&gt;<i> reference
</I>&gt;<i> &gt; From: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">enrique.demeer at inycom.es</A>
</I>&gt;<i> &gt; To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">izaak at hotmail.fr</A>
</I>&gt;<i> &gt; CC: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-users">openimscore-users at lists.berlios.de</A>
</I>&gt;<i> &gt; Date: Tue, 5 Aug 2008 11:24:46 +0200
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Hi Izaak,
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; asnwered inlined
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; El mar, 05-08-2008 a las 10:25 +0200, Izaak Muto escribi&#243;:
</I>&gt;<i> &gt; &gt; Hello, 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; I have added into repository_data (with mysql request) some
</I>&gt;<i> &gt; &gt; information. 
</I>&gt;<i> &gt; &gt; I would like to get this information (an integer) with a PUR
</I>&gt;<i> command.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; First of all, PUR command stores data in HSS, so if you want to get
</I>&gt;<i> data
</I>&gt;<i> &gt; from HSS you need UDR command
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; My problem is i don't know what to put in the setData() method in
</I>&gt;<i> java
</I>&gt;<i> &gt; &gt; diameter peer (i store the information in hss_db -&gt;
</I>&gt;<i> repository_data -&gt;
</I>&gt;<i> &gt; &gt; id = 3):
</I>&gt;<i> &gt; &gt; a = new AVP(704,true,10415);
</I>&gt;<i> &gt; &gt; a.setData(?????????);
</I>&gt;<i> &gt; &gt; udr.addAVP(a)
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 704 is IMS_SERVICE_INDICATION and you should set the &quot;service
</I>&gt;<i> &gt; indiation&quot; (normally a string with the name of your service).
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; a.setData(&quot;myServiceName&quot;);
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; More over for the data reference it's the same problem, i only
</I>&gt;<i> &gt; &gt; understand that the data_reference must be at the value 0 because
</I>&gt;<i> of
</I>&gt;<i> &gt; &gt; repository_data :
</I>&gt;<i> &gt; &gt; a = new AVP(703,true,10415);
</I>&gt;<i> &gt; &gt; a.setData(?????????);
</I>&gt;<i> &gt; &gt; udr.addAVP(a)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 703 is IMS_DATA_REFERENCE and you simply should put it to 0:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; a.setData(0);
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; There are several setData() methods, which arguments can be an
</I>&gt;<i> integer,
</I>&gt;<i> &gt; a string, a byte[], a char, ...
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Could somebody help me??
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; The information should come back to you in UDA command in the AVP
</I>&gt;<i> &gt; IMS_USER_DATA_SH = 702 as a XML String like that:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;
</I>&gt;<i> &lt;Sh-Data&gt;&lt;RepositoryData&gt;&lt;ServiceIndication&gt;&quot;yourServicenName&quot;&lt;/ServiceIndication&gt;&lt;SequenceNumber&gt;&quot;anIntegerWithTheSequenceNumber&quot;&lt;/SequenceNumber&gt;&lt;ServiceData&gt;&quot;yourData&quot;&lt;/ServiceData&gt;&lt;/RepositoryData&gt;&lt;/Sh-Data&gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Best regards
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I hope it helps,
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Regards, 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Enrique
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> ______________________________________________________________________
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Discutez sur Messenger o&#249; que vous soyez ! Mettez Messenger sur
</I>&gt;<i> votre
</I>&gt;<i> &gt; &gt; mobile !
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ______________________________________________________________________
</I>&gt;<i> Discutez sur Messenger o&#249; que vous soyez ! Mettez Messenger sur votre
</I>&gt;<i> mobile !
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004436.html">[OpenIMSCore-Users] FW:  service indication and data reference
</A></li>
	<LI>Next message: <A HREF="004442.html">[OpenIMSCore-Users] FW: FW: service indication and data reference
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4438">[ date ]</a>
              <a href="thread.html#4438">[ thread ]</a>
              <a href="subject.html#4438">[ subject ]</a>
              <a href="author.html#4438">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-users">More information about the OpenIMSCore-Users
mailing list</a><br>
</body></html>
